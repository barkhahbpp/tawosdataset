Name,Title,Description,Type,Priority,Status,Creation_Date,Estimation_Date,Story_Point
"Atlassian FishEye","Problem with AWT on Windows with AdoptJDK (avatars not displayed).","h3. Issue Summary  When fisheye is installed as a service on Windows with AdoptJDK AWT doesn't work (avatars not displayed).  h3. Steps to Reproduce   # Spin up a fresh Windows machine. Tested on 2019 and 2012.   # Install AdoptJDK (8.0.242.08-hotspot)   # Install Fisheye   # open Services utility, make sure Fisheye is running or start it   # navigate to fisheye web ui and log in    h3. Expected Results  Default avatar is displayed.    h3. Actual Results    1) During Fisheye startup the following stack trace is logged:    {noformat}  2020-04-30 08:15:13,815 WARN  - Problem initing graphics environment, images may not render  java.lang.NoClassDefFoundError: Could not initialize class java.awt.Toolkit   at com.cenqua.fisheye.ctl.Run.setLibraryProperties(Run.java:421) [fisheye.jar:?]   at com.cenqua.fisheye.ctl.BaseCommand.handleCommonArguments(BaseCommand.java:166) [fisheye.jar:?]   at com.cenqua.fisheye.ctl.Run.mainImpl(Run.java:74) [fisheye.jar:?]   at com.cenqua.fisheye.ctl.Run.main(Run.java:55) [fisheye.jar:?]   at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) [?:1.8.0_252]   at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) [?:1.8.0_252]   at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [?:1.8.0_252]   at java.lang.reflect.Method.invoke(Method.java:498) [?:1.8.0_252]   at com.cenqua.fisheye.FishEyeCtl.mainImpl(FishEyeCtl.java:101) [fisheyeboot.jar:?]   at com.cenqua.fisheye.FishEyeCtl.main(FishEyeCtl.java:44) [fisheyeboot.jar:?]  {noformat}      2) When rendering a page containing an avatar, no image displayed and the below exception is thrown in the log file:    {noformat}  javax.servlet.ServletException: java.lang.reflect.InvocationTargetException   at com.opensymphony.webwork.dispatcher.DispatcherUtils.serviceAction(DispatcherUtils.java:285) [webwork-2.2.7-atlassian-37.jar:?]   at com.opensymphony.webwork.dispatcher.ServletDispatcher.service(ServletDispatcher.java:111) [webwork-2.2.7-atlassian-37.jar:?]   at javax.servlet.http.HttpServlet.service(HttpServlet.java:790) [javax.servlet-api-3.1.0.jar:3.1.0]  [...]  Caused by: java.lang.reflect.InvocationTargetException   at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) [?:1.8.0_242]   at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) [?:1.8.0_242]   at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [?:1.8.0_242]  [...]  Caused by: java.lang.NoClassDefFoundError: Could not initialize class javax.imageio.ImageIO   at com.atlassian.fisheye.gravatar.Charlatar.getImage(Charlatar.java:163) [fisheye.jar:?]   at com.atlassian.fisheye.gravatar.Charlatar.rndpart(Charlatar.java:159) [fisheye.jar:?]   at com.atlassian.fisheye.gravatar.Charlatar.createAvatar(Charlatar.java:71) [fisheye.jar:?]  {noformat}    h3. Workaround    Install another JDK (Oracle) or use different way of installing service (nssm).       h3. Notes    1) Error during startup. OpenJDK around version 1.8.0 update 202, in the {{awt.dll}} library introduced a dependency on 'Microsoft Visual C++ Redistributable 2013'. Download and install this package from the Microsoft website (vcredist_x64.exe). Once installed, the {{java.lang.NoClassDefFoundError: Could not initialize class java.awt.Toolkit}} error from Fisheye's startup disappears.     2) Error while generating an avatar. It's related with loading SPI modules by javax.imageio.ImageIO. Behaviour is random (stop + start resolves the issue in half of cases). Solving this requires an update to Fisheye/Crucible *4.8.3* or higher.",Bug,Low,Closed,"2020-04-06 16:35:48","2020-04-06 16:35:48",2
"Atlassian FishEye","Upgrade atlassian-core to 7.0.2","Upgrade atlassian-core from currently used 4.6.23 to the latest 7.0.2 version.     Add dependency on atlassian-core-thumbnail as classes have been moved to a separate artifact. Changes in thumbnails:    * Thumber#getImage(File) -> Thumber#getImage(InputStream)  * Thumber.WidthHeightHelper -> ThumbnailDimension  * Thumber#getThumbnailMimeTypes() is removed  ",Suggestion,,Closed,"2020-02-21 13:23:46","2020-02-21 13:23:46",0.5
"Atlassian FishEye","Change changeset and path limits for repository indexers","h3. In Fisheye 4.7 and older we have:    | *Property* | *Default* | *Min* | *Max* |   | fisheye.changeset.paths.limit | 10000 | unlimited | unlimited |   | fisheye.pipeline.batch.cslimit | 10000 | 1 | 50000 |   | fisheye.pipeline.batch.pathlimit | 60000 | 1000 | 120000 |     Explanation:  * fisheye.changeset.paths.limit - Maximum number of paths to be indexed for search (Lucene) in a single changeset. Note that this affects only a search. Repository index always contains all paths from a changeset.   * fisheye.pipeline.batch.cslimit - Maximum number of changesets processed in a single batch. Fisheye can adjust value automatically between 1 and cslimit, see below.   * fisheye.pipeline.batch.pathlimit - Maximum number of paths (files) processed in a single batch. When limit is exceeded, scanner throws an exception, it pauses and re-scans with a lower value of cslimit.    h3. New values proposed for Fisheye 4.8:    | *Property* | *Default* | *Min* | *Max* |   | fisheye.changeset.paths.limit | 10000 | 0 | unlimited |  | fisheye.pipeline.batch.cslimit | 1000 | 1 | unlimited |  | fisheye.pipeline.batch.pathlimit | 100000 | 1000 | unlimited |    Update documentation:    https://confluence.atlassian.com/fisheye/jvm-system-properties-960155689.html    ",Suggestion,,Closed,"2019-11-15 12:01:43","2019-11-15 12:01:43",1
"Atlassian FishEye","Deprecate PostgreSQL 9.5","According to [https://www.postgresql.org/support/versioning/] page PostgreSQL 9.5 will become end-of-life on February, 2021.    Deprecate PostgreSQL 9.5 in Fisheye/Crucible 4.8 (EOL ~ Dec, 2021).    End support for PostgreSQL 9.5 in Fisheye/Crucible 4.9 (EOL ~ May, 2022).",Suggestion,,Closed,"2019-10-24 13:40:18","2019-10-24 13:40:18",0.5
"Atlassian FishEye","Deprecate Perforce 2017.x and older","According to https://www.perforce.com/maintenance-support#tab-panel-26751  standard support for Perforce 2017.x ends 24 Oct 2019 and extended on 24 Oct 2021    Announce Fisheye/Crucible 4.8 the last release supporting Perforce 2017.x and older:    https://confluence.atlassian.com/fisheye/supported-platforms-960155252.html",Suggestion,,Closed,"2019-10-23 13:48:06","2019-10-23 13:48:06",0.5
"Atlassian FishEye","Deprecate PostgreSQL 9.4","According to https://www.postgresql.org/support/versioning/ page PostgreSQL will become end-of-life on February 13, 2020.    Deprecate PostgreSQL 9.4 in Fisheye/Crucible 4.8.    End support for PostgreSQL 9.4 in Fisheye/Crucible 4.9.",Suggestion,,Closed,"2019-10-17 11:11:30","2019-10-17 11:11:30",0.5
"Atlassian FishEye","Fisheye throws IO exceptions on network interruption","Jetty throws IIOException, probably due to network interruptions and/or heavy server load.    There is an open bug in Jetty's bug tracker related to this issue: [https://github.com/eclipse/jetty.project/issues/3684]    Stack trace :    {noformat}  ERROR [qtp297490204-3794 ] fisheye TotalityFilter-logExceptionDetails - Exception javax.imageio.IIOException: I/O error writing PNG file! (javax.servlet.ServletException) while processing /avatar/xyz  javax.servlet.ServletException: javax.imageio.IIOException: I/O error writing PNG file!   at com.opensymphony.webwork.dispatcher.DispatcherUtils.serviceAction(DispatcherUtils.java:285) [webwork-2.2.7-atlassian-37.jar:?]   at com.opensymphony.webwork.dispatcher.ServletDispatcher.service(ServletDispatcher.java:111) [webwork-2.2.7-atlassian-37.jar:?]   at javax.servlet.http.HttpServlet.service(HttpServlet.java:790) [javax.servlet-api-3.1.0.jar:3.1.0]   at org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:865) [jetty-servlet-9.4.12.v20180830.jar:9.4.12.v20180830]   at org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1732) [jetty-servlet-9.4.12.v20180830.jar:9.4.12.v20180830]   at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:39) [atlassian-plugins-servlet-4.4.3.jar:?]   at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:58) [atlassian-plugins-servlet-4.4.3.jar:?]   at com.atlassian.applinks.core.rest.context.ContextFilter.doFilter(ContextFilter.java:24) [?:?]   at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:64) [atlassian-plugins-servlet-4.4.3.jar:?]   at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:37) [atlassian-plugins-servlet-4.4.3.jar:?]   at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:58) [atlassian-plugins-servlet-4.4.3.jar:?]   at com.atlassian.applinks.core.rest.context.ContextFilter.doFilter(ContextFilter.java:24) [?:?]   at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:64) [atlassian-plugins-servlet-4.4.3.jar:?]   at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:37) [atlassian-plugins-servlet-4.4.3.jar:?]   at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:58) [atlassian-plugins-servlet-4.4.3.jar:?]   at com.atlassian.applinks.core.rest.context.ContextFilter.doFilter(ContextFilter.java:24) [?:?]   at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:64) [atlassian-plugins-servlet-4.4.3.jar:?]   at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:37) [atlassian-plugins-servlet-4.4.3.jar:?]   at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:58) [atlassian-plugins-servlet-4.4.3.jar:?]   at com.atlassian.applinks.core.rest.context.ContextFilter.doFilter(ContextFilter.java:24) [?:?]   at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:64) [atlassian-plugins-servlet-4.4.3.jar:?]   at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:37) [atlassian-plugins-servlet-4.4.3.jar:?]   at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:58) [atlassian-plugins-servlet-4.4.3.jar:?]   at com.atlassian.applinks.core.rest.context.ContextFilter.doFilter(ContextFilter.java:24) [?:?]   at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:64) [atlassian-plugins-servlet-4.4.3.jar:?]   at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:37) [atlassian-plugins-servlet-4.4.3.jar:?]   at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:58) [atlassian-plugins-servlet-4.4.3.jar:?]   at com.atlassian.prettyurls.filter.PrettyUrlsSiteMeshFixupFilter.doFilter(PrettyUrlsSiteMeshFixupFilter.java:32) [?:?]   at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:64) [atlassian-plugins-servlet-4.4.3.jar:?]   at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:37) [atlassian-plugins-servlet-4.4.3.jar:?]   at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:58) [atlassian-plugins-servlet-4.4.3.jar:?]   at com.atlassian.prettyurls.filter.PrettyUrlsDispatcherFilter.doFilter(PrettyUrlsDispatcherFilter.java:55) [?:?]   at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:64) [atlassian-plugins-servlet-4.4.3.jar:?]   at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:37) [atlassian-plugins-servlet-4.4.3.jar:?]   at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:58) [atlassian-plugins-servlet-4.4.3.jar:?]   at com.atlassian.prettyurls.filter.PrettyUrlsSiteMeshFilter.doFilter(PrettyUrlsSiteMeshFilter.java:79) [?:?]   at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:64) [atlassian-plugins-servlet-4.4.3.jar:?]   at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:37) [atlassian-plugins-servlet-4.4.3.jar:?]   at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:58) [atlassian-plugins-servlet-4.4.3.jar:?]   at com.atlassian.prettyurls.filter.PrettyUrlsMatcherFilter.doFilter(PrettyUrlsMatcherFilter.java:51) [?:?]   at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:64) [atlassian-plugins-servlet-4.4.3.jar:?]   at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:37) [atlassian-plugins-servlet-4.4.3.jar:?]   at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:70) [atlassian-plugins-servlet-4.4.3.jar:?]   at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:58) [atlassian-plugins-servlet-4.4.3.jar:?]   at org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1719) [jetty-servlet-9.4.12.v20180830.jar:9.4.12.v20180830]   at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:39) [atlassian-plugins-servlet-4.4.3.jar:?]   at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:58) [atlassian-plugins-servlet-4.4.3.jar:?]   at com.atlassian.prettyurls.filter.PrettyUrlsCombinedMatchDispatcherFilter.doFilter(PrettyUrlsCombinedMatchDispatcherFilter.java:56) [?:?]   at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:64) [atlassian-plugins-servlet-4.4.3.jar:?]   at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:37) [atlassian-plugins-servlet-4.4.3.jar:?]   at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:70) [atlassian-plugins-servlet-4.4.3.jar:?]   at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:58) [atlassian-plugins-servlet-4.4.3.jar:?]   at org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1719) [jetty-servlet-9.4.12.v20180830.jar:9.4.12.v20180830]   at com.atlassian.crucible.filters.CrucibleFilter.doFilter(CrucibleFilter.java:148) [fisheye.jar:?]   at org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1719) [jetty-servlet-9.4.12.v20180830.jar:9.4.12.v20180830]   at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) [spring-web-4.0.9.RELEASE.jar:4.0.9.RELEASE]   at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.0.9.RELEASE.jar:4.0.9.RELEASE]   at org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1719) [jetty-servlet-9.4.12.v20180830.jar:9.4.12.v20180830]   at com.cenqua.fisheye.web.filters.TotalityFilter.doFilter(TotalityFilter.java:305) [fisheye.jar:?]   at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:344) [spring-web-4.0.9.RELEASE.jar:4.0.9.RELEASE]   at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:261) [spring-web-4.0.9.RELEASE.jar:4.0.9.RELEASE]   at org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1719) [jetty-servlet-9.4.12.v20180830.jar:9.4.12.v20180830]   at com.atlassian.security.auth.trustedapps.filter.TrustedApplicationsFilter.doFilter(TrustedApplicationsFilter.java:103) [atlassian-trusted-apps-core-4.1.0.jar:?]   at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:344) [spring-web-4.0.9.RELEASE.jar:4.0.9.RELEASE]   at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:261) [spring-web-4.0.9.RELEASE.jar:4.0.9.RELEASE]   at org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1719) [jetty-servlet-9.4.12.v20180830.jar:9.4.12.v20180830]   at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:39) [atlassian-plugins-servlet-4.4.3.jar:?]   at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:58) [atlassian-plugins-servlet-4.4.3.jar:?]   at com.atlassian.oauth.serviceprovider.internal.servlet.OAuthFilter.doFilter(OAuthFilter.java:67) [?:?]   at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:64) [atlassian-plugins-servlet-4.4.3.jar:?]   at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:37) [atlassian-plugins-servlet-4.4.3.jar:?]   at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:58) [atlassian-plugins-servlet-4.4.3.jar:?]   at com.atlassian.prettyurls.filter.PrettyUrlsCombinedMatchDispatcherFilter.doFilter(PrettyUrlsCombinedMatchDispatcherFilter.java:56) [?:?]   at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:64) [atlassian-plugins-servlet-4.4.3.jar:?]   at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:37) [atlassian-plugins-servlet-4.4.3.jar:?]   at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:70) [atlassian-plugins-servlet-4.4.3.jar:?]   at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:58) [atlassian-plugins-servlet-4.4.3.jar:?]   at org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1719) [jetty-servlet-9.4.12.v20180830.jar:9.4.12.v20180830]   at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:39) [atlassian-plugins-servlet-4.4.3.jar:?]   at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:58) [atlassian-plugins-servlet-4.4.3.jar:?]   at com.atlassian.prettyurls.filter.PrettyUrlsCombinedMatchDispatcherFilter.doFilter(PrettyUrlsCombinedMatchDispatcherFilter.java:56) [?:?]   at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:64) [atlassian-plugins-servlet-4.4.3.jar:?]   at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:37) [atlassian-plugins-servlet-4.4.3.jar:?]   at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:70) [atlassian-plugins-servlet-4.4.3.jar:?]   at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:58) [atlassian-plugins-servlet-4.4.3.jar:?]   at org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1719) [jetty-servlet-9.4.12.v20180830.jar:9.4.12.v20180830]   at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:533) [jetty-servlet-9.4.12.v20180830.jar:9.4.12.v20180830]   at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:146) [jetty-server-9.4.12.v20180830.jar:9.4.12.v20180830]   at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:566) [jetty-security-9.4.12.v20180830.jar:9.4.12.v20180830]   at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:132) [jetty-server-9.4.12.v20180830.jar:9.4.12.v20180830]   at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:257) [jetty-server-9.4.12.v20180830.jar:9.4.12.v20180830]   at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:1595) [jetty-server-9.4.12.v20180830.jar:9.4.12.v20180830]   at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:255) [jetty-server-9.4.12.v20180830.jar:9.4.12.v20180830]   at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1340) [jetty-server-9.4.12.v20180830.jar:9.4.12.v20180830]   at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:203) [jetty-server-9.4.12.v20180830.jar:9.4.12.v20180830]   at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:473) [jetty-servlet-9.4.12.v20180830.jar:9.4.12.v20180830]   at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:1564) [jetty-server-9.4.12.v20180830.jar:9.4.12.v20180830]   at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:201) [jetty-server-9.4.12.v20180830.jar:9.4.12.v20180830]   at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1242) [jetty-server-9.4.12.v20180830.jar:9.4.12.v20180830]   at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:144) [jetty-server-9.4.12.v20180830.jar:9.4.12.v20180830]   at org.eclipse.jetty.server.Dispatcher.forward(Dispatcher.java:203) [jetty-server-9.4.12.v20180830.jar:9.4.12.v20180830]   at org.eclipse.jetty.server.Dispatcher.forward(Dispatcher.java:73) [jetty-server-9.4.12.v20180830.jar:9.4.12.v20180830]   at com.cenqua.fisheye.web.filters.TotalityFilter.doFilter(TotalityFilter.java:207) [fisheye.jar:?]   at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:344) [spring-web-4.0.9.RELEASE.jar:4.0.9.RELEASE]   at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:261) [spring-web-4.0.9.RELEASE.jar:4.0.9.RELEASE]   at org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1719) [jetty-servlet-9.4.12.v20180830.jar:9.4.12.v20180830]   at com.atlassian.security.auth.trustedapps.filter.TrustedApplicationsFilter.doFilter(TrustedApplicationsFilter.java:103) [atlassian-trusted-apps-core-4.1.0.jar:?]   at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:344) [spring-web-4.0.9.RELEASE.jar:4.0.9.RELEASE]   at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:261) [spring-web-4.0.9.RELEASE.jar:4.0.9.RELEASE]   at org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1719) [jetty-servlet-9.4.12.v20180830.jar:9.4.12.v20180830]   at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:39) [atlassian-plugins-servlet-4.4.3.jar:?]   at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:58) [atlassian-plugins-servlet-4.4.3.jar:?]   at com.atlassian.oauth.serviceprovider.internal.servlet.OAuthFilter.doFilter(OAuthFilter.java:67) [atlassian-oauth-service-provider-plugin-2.0.6_1550164250000.jar:?]   at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:64) [atlassian-plugins-servlet-4.4.3.jar:?]   at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:37) [atlassian-plugins-servlet-4.4.3.jar:?]   at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:58) [atlassian-plugins-servlet-4.4.3.jar:?]   at com.atlassian.prettyurls.filter.PrettyUrlsCombinedMatchDispatcherFilter.doFilter(PrettyUrlsCombinedMatchDispatcherFilter.java:56) [atlassian-pretty-urls-plugin-2.1.2.jar:?]   at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:64) [atlassian-plugins-servlet-4.4.3.jar:?]   at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:37) [atlassian-plugins-servlet-4.4.3.jar:?]   at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:70) [atlassian-plugins-servlet-4.4.3.jar:?]   at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:58) [atlassian-plugins-servlet-4.4.3.jar:?]   at org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1719) [jetty-servlet-9.4.12.v20180830.jar:9.4.12.v20180830]   at com.cenqua.fisheye.web.filters.ProductInfoFilter.doFilter(ProductInfoFilter.java:43) [fisheye.jar:?]   at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:344) [spring-web-4.0.9.RELEASE.jar:4.0.9.RELEASE]   at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:261) [spring-web-4.0.9.RELEASE.jar:4.0.9.RELEASE]   at org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1719) [jetty-servlet-9.4.12.v20180830.jar:9.4.12.v20180830]   at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:39) [atlassian-plugins-servlet-4.4.3.jar:?]   at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:58) [atlassian-plugins-servlet-4.4.3.jar:?]   at com.atlassian.prettyurls.filter.PrettyUrlsCombinedMatchDispatcherFilter.doFilter(PrettyUrlsCombinedMatchDispatcherFilter.java:56) [atlassian-pretty-urls-plugin-2.1.2.jar:?]   at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:64) [atlassian-plugins-servlet-4.4.3.jar:?]   at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:37) [atlassian-plugins-servlet-4.4.3.jar:?]   at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:70) [atlassian-plugins-servlet-4.4.3.jar:?]   at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:58) [atlassian-plugins-servlet-4.4.3.jar:?]   at org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1719) [jetty-servlet-9.4.12.v20180830.jar:9.4.12.v20180830]   at com.cenqua.fisheye.web.filters.UpfrontFilter.doFilter(UpfrontFilter.java:54) [fisheye.jar:?]   at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:344) [spring-web-4.0.9.RELEASE.jar:4.0.9.RELEASE]   at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:261) [spring-web-4.0.9.RELEASE.jar:4.0.9.RELEASE]   at org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1719) [jetty-servlet-9.4.12.v20180830.jar:9.4.12.v20180830]   at com.cenqua.fisheye.web.filters.SecurityHeadersFilter.doFilter(SecurityHeadersFilter.java:54) [fisheye.jar:?]   at org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1719) [jetty-servlet-9.4.12.v20180830.jar:9.4.12.v20180830]   at com.atlassian.fecru.profiling.ProfilingServletFilter.doFilter(ProfilingServletFilter.java:60) [fisheye.jar:?]   at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:344) [spring-web-4.0.9.RELEASE.jar:4.0.9.RELEASE]   at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:261) [spring-web-4.0.9.RELEASE.jar:4.0.9.RELEASE]   at org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1711) [jetty-servlet-9.4.12.v20180830.jar:9.4.12.v20180830]   at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:533) [jetty-servlet-9.4.12.v20180830.jar:9.4.12.v20180830]   at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:146) [jetty-server-9.4.12.v20180830.jar:9.4.12.v20180830]   at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:548) [jetty-security-9.4.12.v20180830.jar:9.4.12.v20180830]   at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:132) [jetty-server-9.4.12.v20180830.jar:9.4.12.v20180830]   at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:257) [jetty-server-9.4.12.v20180830.jar:9.4.12.v20180830]   at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:1595) [jetty-server-9.4.12.v20180830.jar:9.4.12.v20180830]   at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:255) [jetty-server-9.4.12.v20180830.jar:9.4.12.v20180830]   at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1340) [jetty-server-9.4.12.v20180830.jar:9.4.12.v20180830]   at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:203) [jetty-server-9.4.12.v20180830.jar:9.4.12.v20180830]   at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:473) [jetty-servlet-9.4.12.v20180830.jar:9.4.12.v20180830]   at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:1564) [jetty-server-9.4.12.v20180830.jar:9.4.12.v20180830]   at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:201) [jetty-server-9.4.12.v20180830.jar:9.4.12.v20180830]   at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1242) [jetty-server-9.4.12.v20180830.jar:9.4.12.v20180830]   at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:144) [jetty-server-9.4.12.v20180830.jar:9.4.12.v20180830]   at org.eclipse.jetty.server.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:220) [jetty-server-9.4.12.v20180830.jar:9.4.12.v20180830]   at org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:126) [jetty-server-9.4.12.v20180830.jar:9.4.12.v20180830]   at org.eclipse.jetty.server.handler.gzip.GzipHandler.handle(GzipHandler.java:740) [jetty-server-9.4.12.v20180830.jar:9.4.12.v20180830]   at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:132) [jetty-server-9.4.12.v20180830.jar:9.4.12.v20180830]   at org.eclipse.jetty.server.Server.handle(Server.java:503) [jetty-server-9.4.12.v20180830.jar:9.4.12.v20180830]   at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:364) [jetty-server-9.4.12.v20180830.jar:9.4.12.v20180830]   at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:260) [jetty-server-9.4.12.v20180830.jar:9.4.12.v20180830]   at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:305) [jetty-io-9.4.12.v20180830.jar:9.4.12.v20180830]   at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:103) [jetty-io-9.4.12.v20180830.jar:9.4.12.v20180830]   at org.eclipse.jetty.io.ChannelEndPoint$2.run(ChannelEndPoint.java:118) [jetty-io-9.4.12.v20180830.jar:9.4.12.v20180830]   at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.runTask(EatWhatYouKill.java:333) [jetty-util-9.4.12.v20180830.jar:9.4.12.v20180830]   at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.doProduce(EatWhatYouKill.java:310) [jetty-util-9.4.12.v20180830.jar:9.4.12.v20180830]   at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.tryProduce(EatWhatYouKill.java:168) [jetty-util-9.4.12.v20180830.jar:9.4.12.v20180830]   at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.run(EatWhatYouKill.java:126) [jetty-util-9.4.12.v20180830.jar:9.4.12.v20180830]   at org.eclipse.jetty.util.thread.ReservedThreadExecutor$ReservedThread.run(ReservedThreadExecutor.java:366) [jetty-util-9.4.12.v20180830.jar:9.4.12.v20180830]   at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:765) [jetty-util-9.4.12.v20180830.jar:9.4.12.v20180830]   at org.eclipse.jetty.util.thread.QueuedThreadPool$2.run(QueuedThreadPool.java:683) [jetty-util-9.4.12.v20180830.jar:9.4.12.v20180830]   at java.lang.Thread.run(Thread.java:748) [?:1.8.0_201]  Caused by: javax.imageio.IIOException: I/O error writing PNG file!   at com.sun.imageio.plugins.png.PNGImageWriter.write(PNGImageWriter.java:1168) [?:1.8.0_201]   at javax.imageio.ImageWriter.write(ImageWriter.java:615) [?:1.8.0_201]   at javax.imageio.ImageIO.doWrite(ImageIO.java:1612) [?:1.8.0_201]   at javax.imageio.ImageIO.write(ImageIO.java:1578) [?:1.8.0_201]   at com.atlassian.fisheye.gravatar.RenderAvatarAction.execute(RenderAvatarAction.java:123) [fisheye.jar:?]   at sun.reflect.GeneratedMethodAccessor1075.invoke(Unknown Source) [?:?]   at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [?:1.8.0_201]   at java.lang.reflect.Method.invoke(Method.java:498) [?:1.8.0_201]   at com.opensymphony.xwork.DefaultActionInvocation.invokeAction(DefaultActionInvocation.java:358) [xwork-1.2.5-atlassian-8.jar:?]   at com.opensymphony.xwork.DefaultActionInvocation.invokeActionOnly(DefaultActionInvocation.java:218) [xwork-1.2.5-atlassian-8.jar:?]   at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:192) [xwork-1.2.5-atlassian-8.jar:?]   at com.opensymphony.xwork.interceptor.DefaultWorkflowInterceptor.doIntercept(DefaultWorkflowInterceptor.java:175) [xwork-1.2.5-atlassian-8.jar:?]   at com.opensymphony.xwork.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:86) [xwork-1.2.5-atlassian-8.jar:?]   at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190) [xwork-1.2.5-atlassian-8.jar:?]   at com.opensymphony.xwork.validator.ValidationInterceptor.doIntercept(ValidationInterceptor.java:116) [xwork-1.2.5-atlassian-8.jar:?]   at com.opensymphony.xwork.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:86) [xwork-1.2.5-atlassian-8.jar:?]   at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190) [xwork-1.2.5-atlassian-8.jar:?]   at com.atlassian.fisheye.xwork.SimpleConversionErrorInterceptor.intercept(SimpleConversionErrorInterceptor.java:64) [fisheye.jar:?]   at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190) [xwork-1.2.5-atlassian-8.jar:?]   at com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31) [xwork-1.2.5-atlassian-8.jar:?]   at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190) [xwork-1.2.5-atlassian-8.jar:?]   at com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31) [xwork-1.2.5-atlassian-8.jar:?]   at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190) [xwork-1.2.5-atlassian-8.jar:?]   at com.opensymphony.webwork.interceptor.FileUploadInterceptor.intercept(FileUploadInterceptor.java:174) [webwork-2.2.7-atlassian-37.jar:?]   at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190) [xwork-1.2.5-atlassian-8.jar:?]   at com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31) [xwork-1.2.5-atlassian-8.jar:?]   at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190) [xwork-1.2.5-atlassian-8.jar:?]   at com.opensymphony.webwork.interceptor.debugging.DebuggingInterceptor.intercept(DebuggingInterceptor.java:169) [webwork-2.2.7-atlassian-37.jar:?]   at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190) [xwork-1.2.5-atlassian-8.jar:?]   at com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31) [xwork-1.2.5-atlassian-8.jar:?]   at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190) [xwork-1.2.5-atlassian-8.jar:?]   at com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31) [xwork-1.2.5-atlassian-8.jar:?]   at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190) [xwork-1.2.5-atlassian-8.jar:?]   at com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31) [xwork-1.2.5-atlassian-8.jar:?]   at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190) [xwork-1.2.5-atlassian-8.jar:?]   at com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31) [xwork-1.2.5-atlassian-8.jar:?]   at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190) [xwork-1.2.5-atlassian-8.jar:?]   at com.opensymphony.xwork.interceptor.ExceptionMappingInterceptor.intercept(ExceptionMappingInterceptor.java:186) [xwork-1.2.5-atlassian-8.jar:?]   at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190) [xwork-1.2.5-atlassian-8.jar:?]   at com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31) [xwork-1.2.5-atlassian-8.jar:?]   at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190) [xwork-1.2.5-atlassian-8.jar:?]   at com.atlassian.xwork.interceptors.XsrfTokenInterceptor.intercept(XsrfTokenInterceptor.java:100) [atlassian-xwork-core-1.17.jar:?]   at com.cenqua.fisheye.web.util.XsrfCheckInterceptor.intercept(XsrfCheckInterceptor.java:20) [fisheye.jar:?]   at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190) [xwork-1.2.5-atlassian-8.jar:?]   at com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31) [xwork-1.2.5-atlassian-8.jar:?]   at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190) [xwork-1.2.5-atlassian-8.jar:?]   at com.opensymphony.xwork.DefaultActionProxy.execute(DefaultActionProxy.java:116) [xwork-1.2.5-atlassian-8.jar:?]   at com.opensymphony.webwork.dispatcher.DispatcherUtils.serviceAction(DispatcherUtils.java:274) [webwork-2.2.7-atlassian-37.jar:?]   ... 175 more  Caused by: org.eclipse.jetty.io.EofException   at org.eclipse.jetty.io.ChannelEndPoint.flush(ChannelEndPoint.java:286) [jetty-io-9.4.12.v20180830.jar:9.4.12.v20180830]   at org.eclipse.jetty.io.WriteFlusher.flush(WriteFlusher.java:393) [jetty-io-9.4.12.v20180830.jar:9.4.12.v20180830]   at org.eclipse.jetty.io.WriteFlusher.write(WriteFlusher.java:277) [jetty-io-9.4.12.v20180830.jar:9.4.12.v20180830]   at org.eclipse.jetty.io.AbstractEndPoint.write(AbstractEndPoint.java:380) [jetty-io-9.4.12.v20180830.jar:9.4.12.v20180830]   at org.eclipse.jetty.server.HttpConnection$SendCallback.process(HttpConnection.java:814) [jetty-server-9.4.12.v20180830.jar:9.4.12.v20180830]   at org.eclipse.jetty.util.IteratingCallback.processing(IteratingCallback.java:241) [jetty-util-9.4.12.v20180830.jar:9.4.12.v20180830]   at org.eclipse.jetty.util.IteratingCallback.iterate(IteratingCallback.java:224) [jetty-util-9.4.12.v20180830.jar:9.4.12.v20180830]   at org.eclipse.jetty.server.HttpConnection.send(HttpConnection.java:538) [jetty-server-9.4.12.v20180830.jar:9.4.12.v20180830]   at org.eclipse.jetty.server.HttpChannel.sendResponse(HttpChannel.java:836) [jetty-server-9.4.12.v20180830.jar:9.4.12.v20180830]   at org.eclipse.jetty.server.HttpChannel.write(HttpChannel.java:887) [jetty-server-9.4.12.v20180830.jar:9.4.12.v20180830]   at org.eclipse.jetty.server.handler.gzip.GzipHttpOutputInterceptor.write(GzipHttpOutputInterceptor.java:109) [jetty-server-9.4.12.v20180830.jar:9.4.12.v20180830]   at org.eclipse.jetty.server.HttpOutput.write(HttpOutput.java:239) [jetty-server-9.4.12.v20180830.jar:9.4.12.v20180830]   at org.eclipse.jetty.server.HttpOutput.write(HttpOutput.java:215) [jetty-server-9.4.12.v20180830.jar:9.4.12.v20180830]   at org.eclipse.jetty.server.HttpOutput.flush(HttpOutput.java:397) [jetty-server-9.4.12.v20180830.jar:9.4.12.v20180830]   at javax.imageio.stream.FileCacheImageOutputStream.flushBefore(FileCacheImageOutputStream.java:258) [?:1.8.0_201]   at com.sun.imageio.plugins.png.IDATOutputStream.finishChunk(PNGImageWriter.java:196) [?:1.8.0_201]   at com.sun.imageio.plugins.png.IDATOutputStream.finish(PNGImageWriter.java:254) [?:1.8.0_201]   at com.sun.imageio.plugins.png.PNGImageWriter.write_IDAT(PNGImageWriter.java:945) [?:1.8.0_201]   at com.sun.imageio.plugins.png.PNGImageWriter.write(PNGImageWriter.java:1158) [?:1.8.0_201]   ... 222 more  Caused by: java.io.IOException: Broken pipe   at sun.nio.ch.FileDispatcherImpl.write0(Native Method) [?:1.8.0_201]   at sun.nio.ch.SocketDispatcher.write(SocketDispatcher.java:47) [?:1.8.0_201]   at sun.nio.ch.IOUtil.writeFromNativeBuffer(IOUtil.java:93) [?:1.8.0_201]   at sun.nio.ch.IOUtil.write(IOUtil.java:65) [?:1.8.0_201]   at sun.nio.ch.SocketChannelImpl.write(SocketChannelImpl.java:471) [?:1.8.0_201]   at org.eclipse.jetty.io.ChannelEndPoint.flush(ChannelEndPoint.java:264) [jetty-io-9.4.12.v20180830.jar:9.4.12.v20180830]   ... 240 more    {noformat}       We should catch these exceptions and log out a single line error message possibly just with details like the URL being requested and the type of IO error (e.g. broken pipe, connection reset by peer, etc). It may be worth still logging the full exception if debug logging is enabled because it's not inconceivable this information might be useful when diagnosing an issue. (right now the full stack trace as above is printed regardless of if debug logging is enabled)      h3. Workaround    Currently there is no known workaround for this behavior. A workaround will be added here when available     ",Bug,Low,"Long Term Backlog","2019-09-25 13:32:59","2019-09-25 13:32:59",3
"Atlassian FishEye","Use JavaScript instead of Flash for copying to clipboard","Currently Fisheye & Crucible use a Flash applet (ZeroClipboard-1.2.1.swf) to provide copy to clipboard functionality (checkout URL, snippet page, selection history).    Since most browsers support this directly from JavaScript via execCommand method:    https://www.w3schools.com/jsref/met_document_execcommand.asp  https://www.w3schools.com/howto/howto_js_copy_clipboard.asp    let's remove existing Flash applet and replace it with JavaScript.",Suggestion,,Closed,"2019-09-04 07:56:37","2019-09-04 07:56:37",0.5
"Atlassian FishEye","org.hibernate.PropertyValueException: not-null property references a null or transient value: com.cenqua.crucible.model.Project.permissionScheme","h3. Issue Summary    Restore from a backup fails with the org.hibernate.PropertyValueException: not-null property references a null or transient value: com.cenqua.crucible.model.Project.permissionScheme exception.     {noformat}INFO  - Starting plugin system...  ERROR - No default permission scheme exists  WARN  - Exception encountered during context initialization - cancelling refresh attempt  org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'activityItemDataService' defined in URL [jar:file:/home/ubuntu/fecru-4.7.1/fisheye.jar!/com/atlassian/fecru/activityitem/logitem/LogItemActivityItemDataService.class]: Unsatisfied dependency expressed through constructor argument with index 0 of type [com.atlassian.crucible.spi.services.ReviewService]: : Error creating bean with name 'reviewService' defined in URL [jar:file:/home/ubuntu/fecru-4.7.1/fisheye.jar!/com/atlassian/crucible/spi/impl/DefaultReviewService.class]: Unsatisfied dependency expressed through constructor argument with index 2 of type [com.cenqua.crucible.model.managers.ProjectManager]: : Error creating bean with name 'projectManager': Invocation of init method failed; nested exception is org.hibernate.PropertyValueException: not-null property references a null or transient value: com.cenqua.crucible.model.Project.permissionScheme; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'projectManager': Invocation of init method failed; nested exception is org.hibernate.PropertyValueException: not-null property references a null or transient value: com.cenqua.crucible.model.Project.permissionScheme; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'reviewService' defined in URL [jar:file:/home/ubuntu/fecru-4.7.1/fisheye.jar!/com/atlassian/crucible/spi/impl/DefaultReviewService.class]: Unsatisfied dependency expressed through constructor argument with index 2 of type [com.cenqua.crucible.model.managers.ProjectManager]: : Error creating bean with name 'projectManager': Invocation of init method failed; nested exception is org.hibernate.PropertyValueException: not-null property references a null or transient value: com.cenqua.crucible.model.Project.permissionScheme; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'projectManager': Invocation of init method failed; nested exception is org.hibernate.PropertyValueException: not-null property references a null or transient value: com.cenqua.crucible.model.Project.permissionScheme      Related cause: org.springframework.beans.factory.BeanCurrentlyInCreationException: Error creating bean with name 'backup': Requested bean is currently in creation: Is there an unresolvable circular reference?   at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:747) [spring-beans-4.0.9.RELEASE.jar:4.0.9.RELEASE]   at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:185) [spring-beans-4.0.9.RELEASE.jar:4.0.9.RELEASE]   at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1115) [spring-beans-4.0.9.RELEASE.jar:4.0.9.RELEASE]   at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1018) [spring-beans-4.0.9.RELEASE.jar:4.0.9.RELEASE]   at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:504) [spring-beans-4.0.9.RELEASE.jar:4.0.9.RELEASE]   at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:475) [spring-beans-4.0.9.RELEASE.jar:4.0.9.RELEASE]   at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:302) [spring-beans-4.0.9.RELEASE.jar:4.0.9.RELEASE]   at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:229) [spring-beans-4.0.9.RELEASE.jar:4.0.9.RELEASE]   at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:298) [spring-beans-4.0.9.RELEASE.jar:4.0.9.RELEASE]   at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:193) [spring-beans-4.0.9.RELEASE.jar:4.0.9.RELEASE]   at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:706) [spring-beans-4.0.9.RELEASE.jar:4.0.9.RELEASE]   at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:762) [spring-context-4.0.9.RELEASE.jar:4.0.9.RELEASE]   at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:482) [spring-context-4.0.9.RELEASE.jar:4.0.9.RELEASE]   at org.springframework.context.support.FileSystemXmlApplicationContext.<init>(FileSystemXmlApplicationContext.java:140) [spring-context-4.0.9.RELEASE.jar:4.0.9.RELEASE]   at org.springframework.context.support.FileSystemXmlApplicationContext.<init>(FileSystemXmlApplicationContext.java:84) [spring-context-4.0.9.RELEASE.jar:4.0.9.RELEASE]   at com.cenqua.fisheye.ctl.Restore$RestoreApplicationContext.<init>(Restore.java:363) [fisheye.jar:?]   at com.cenqua.fisheye.ctl.Restore$RestoreApplicationContext.<init>(Restore.java:360) [fisheye.jar:?]   at com.cenqua.fisheye.ctl.Restore.createApplicationContext(Restore.java:351) [fisheye.jar:?]   at com.cenqua.fisheye.ctl.Restore.run(Restore.java:158) [fisheye.jar:?]   at com.cenqua.fisheye.ctl.Restore.main(Restore.java:261) [fisheye.jar:?]   at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) [?:1.8.0_212]   at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) [?:1.8.0_212]   at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [?:1.8.0_212]   at java.lang.reflect.Method.invoke(Method.java:498) [?:1.8.0_212]   at com.cenqua.fisheye.FishEyeCtl.mainImpl(FishEyeCtl.java:101) [fisheyeboot.jar:?]   at com.cenqua.fisheye.FishEyeCtl.main(FishEyeCtl.java:44) [fisheyeboot.jar:?]    Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'reviewService' defined in URL [jar:file:/home/ubuntu/fecru-4.7.1/fisheye.jar!/com/atlassian/crucible/spi/impl/DefaultReviewService.class]: Unsatisfied dependency expressed through constructor argument with index 2 of type [com.cenqua.crucible.model.managers.ProjectManager]: : Error creating bean with name 'projectManager': Invocation of init method failed; nested exception is org.hibernate.PropertyValueException: not-null property references a null or transient value: com.cenqua.crucible.model.Project.permissionScheme; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'projectManager': Invocation of init method failed; nested exception is org.hibernate.PropertyValueException: not-null property references a null or transient value: com.cenqua.crucible.model.Project.permissionScheme   at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:747) [spring-beans-4.0.9.RELEASE.jar:4.0.9.RELEASE]   at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:185) [spring-beans-4.0.9.RELEASE.jar:4.0.9.RELEASE]   at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1115) [spring-beans-4.0.9.RELEASE.jar:4.0.9.RELEASE]   at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1018) [spring-beans-4.0.9.RELEASE.jar:4.0.9.RELEASE]   at     ...    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'projectManager': Invocation of init method failed; nested exception is org.hibernate.PropertyValueException: not-null property references a null or transient value: com.cenqua.crucible.model.Project.permissionScheme   at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:136) [spring-beans-4.0.9.RELEASE.jar:4.0.9.RELEASE]   at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:407) [spring-beans-4.0.9.RELEASE.jar:4.0.9.RELEASE]   at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1546) [spring-beans-4.0.9.RELEASE.jar:4.0.9.RELEASE]   at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:539) [spring-beans-4.0.9.RELEASE.jar:4.0.9.RELEASE]   at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:475) [spring-beans-4.0.9.RELEASE.jar:4.0.9.RELEASE]    ...    Caused by: org.hibernate.PropertyValueException: not-null property references a null or transient value: com.cenqua.crucible.model.Project.permissionScheme   at org.hibernate.engine.internal.Nullability.checkNullability(Nullability.java:103) [hibernate-core-4.2.13.Final.jar:4.2.13.Final]   at org.hibernate.action.internal.AbstractEntityInsertAction.nullifyTransientReferencesIfNotAlready(AbstractEntityInsertAction.java:132) [hibernate-core-4.2.13.Final.jar:4.2.13.Final]   at org.hibernate.action.internal.AbstractEntityInsertAction.makeEntityManaged(AbstractEntityInsertAction.java:141) [hibernate-core-4.2.13.Final.jar:4.2.13.Final]   at org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:235) [hibernate-core-4.2.13.Final.jar:4.2.13.Final]   at org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:209) [hibernate-core-4.2.13.Final.jar:4.2.13.Final]   at org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:152) [hibernate-core-4.2.13.Final.jar:4.2.13.Final]    ...    ERROR: problem running command  java.lang.reflect.InvocationTargetException   at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)   at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)   at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)   at java.lang.reflect.Method.invoke(Method.java:498)   at com.cenqua.fisheye.FishEyeCtl.mainImpl(FishEyeCtl.java:101)   at com.cenqua.fisheye.FishEyeCtl.main(FishEyeCtl.java:44)  Caused by: org.springframework.context.ApplicationContextException: Application Context not initialised.   at com.cenqua.fisheye.config.SpringContext.getApplicationContext(SpringContext.java:51)   at com.cenqua.fisheye.config.SpringContext.getComponentByClass(SpringContext.java:90)   at com.cenqua.fisheye.config.RootConfig.getRepositoryManager(RootConfig.java:601)   at com.cenqua.fisheye.config.RootConfig.fullShutdown(RootConfig.java:1288)   at com.cenqua.fisheye.ctl.Restore.destroyApplicationContext(Restore.java:356)   at com.cenqua.fisheye.ctl.Restore.run(Restore.java:198)   at com.cenqua.fisheye.ctl.Restore.main(Restore.java:261)   ... 6 more  {noformat}      h3. Steps to Reproduce  1. Create a backup file.    2. Perform an import which will fail in the middle of the operation (e.g. a corrupted backup file).    {noformat}  Creating table definitions...  INFO  - Creating DB schema version 107 using /home/ubuntu/fecru-4.7.1/sql/SQLSERVER2008/schema/tables_107.sql  1 rows written, 0 tables completed.  3 rows written, 1 tables completed.  7 rows written, 3 tables completed.  7 rows written, 4 tables completed.  8 rows written, 4 tables completed.  14 rows written, 5 tables completed.  INFO  - Shutting down cross-repo lucene index  INFO  - Shutdown in progress...  INFO  - Shutting down DB.      <<<<<<<<    INFO  - *** application context closed ***  com.atlassian.crucible.migration.ParseException   at com.atlassian.crucible.migration.xml.StAXStreamReader$1.getContentAsString(StAXStreamReader.java:138)   at com.atlassian.crucible.migration.item.DBImporter$BaseInserter.setValue(DBImporter.java:442)   at com.atlassian.crucible.migration.item.DBImporter.importTable(DBImporter.java:180)   at com.atlassian.crucible.migration.item.DBImporter.importData(DBImporter.java:134)   at com.atlassian.crucible.migration.item.SQLBackup.restore(SQLBackup.java:191)   at com.atlassian.crucible.migration.item.SQLBackup$1.restore(SQLBackup.java:172)   at com.cenqua.fisheye.ctl.Restore.run(Restore.java:187)   at com.cenqua.fisheye.ctl.Restore.main(Restore.java:261)   at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)   at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)   at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)   at java.lang.reflect.Method.invoke(Method.java:498)   at com.cenqua.fisheye.FishEyeCtl.mainImpl(FishEyeCtl.java:101)   at com.cenqua.fisheye.FishEyeCtl.main(FishEyeCtl.java:44)  Caused by: com.ctc.wstx.exc.WstxParsingException: Illegal character entity: expansion character (code 0xd83c) not a valid XML character   at [row,col {unknown-source}]: [1,6298]   at com.ctc.wstx.sr.StreamScanner.constructWfcException(StreamScanner.java:630)   at com.ctc.wstx.sr.StreamScanner.throwParseError(StreamScanner.java:461)   at com.ctc.wstx.sr.StreamScanner.reportIllegalChar(StreamScanner.java:2400)   at com.ctc.wstx.sr.StreamScanner.checkAndExpandChar(StreamScanner.java:2320)   at com.ctc.wstx.sr.StreamScanner.resolveCharEnt(StreamScanner.java:2302)   at com.ctc.wstx.sr.StreamScanner.fullyResolveEntity(StreamScanner.java:1493)   at com.ctc.wstx.sr.BasicStreamReader.nextFromTree(BasicStreamReader.java:2757)   at com.ctc.wstx.sr.BasicStreamReader.next(BasicStreamReader.java:1019)   at com.ctc.wstx.sr.BasicStreamReader.getElementText(BasicStreamReader.java:669)   at com.atlassian.crucible.migration.xml.StAXStreamReader$1.getContentAsString(StAXStreamReader.java:135)   ... 13 more  Restore failed. This may leave your target FISHEYE_INST directory (/home/ubuntu/fecru-4.7.1) in an inconsistent state.   {noformat}    3. Perform import again    {noformat}  INFO  - Starting database...  INFO  - BoneCP - tracking statements enabled for pool [mainPool]  INFO  - BoneCP - tracking statements enabled for pool [retriablePool]  INFO  - Database started.  INFO  - Using synchronous global permission cache reload policy  INFO  - Starting plugin system...  ERROR - No default permission scheme exists       <<<<<<<<     WARN  - Exception encountered during context initialization - cancelling refresh attempt  org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'activityItemDataService' defined in URL [jar:file:/home/ubuntu/mp/fecru-4.7.1-orig/fisheye.jar!/com/atlassian/fecru/activityitem/logitem/LogItemActivityItemDataService.class]: Unsatisfied dependency expressed through constructor argument with index 0 of type [com.atlassian.crucible.spi.services.ReviewService]: : Error creating bean with name 'reviewService' defined in URL [jar:file:/home/ubuntu/mp/fecru-4.7.1-orig/fisheye.jar!/com/atlassian/crucible/spi/impl/DefaultReviewService.class]: Unsatisfied dependency expressed through constructor argument with index 2 of type [com.cenqua.crucible.model.managers.ProjectManager]: : Error creating bean with name 'projectManager': Invocation of init method failed; nested exception is org.hibernate.PropertyValueException: not-null property references a null or transient value: com.cenqua.crucible.model.Project.permissionScheme; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'projectManager': Invocation of init method failed; nested exception is org.hibernate.PropertyValueException: not-null property references a null or transient value: com.cenqua.crucible.model.Project.permissionScheme; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'reviewService' defined in URL [jar:file:/home/ubuntu/mp/fecru-4.7.1-orig/fisheye.jar!/com/atlassian/crucible/spi/impl/DefaultReviewService.class]: Unsatisfied dependency expressed through constructor argument with index 2 of type [com.cenqua.crucible.model.managers.ProjectManager]: : Error creating bean with name 'projectManager': Invocation of init method failed; nested exception is org.hibernate.PropertyValueException: not-null property references a null or transient value: com.cenqua.crucible.model.Project.permissionScheme; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'projectManager': Invocation of init method failed; nested exception is org.hibernate.PropertyValueException: not-null property references a null or transient value: com.cenqua.crucible.model.Project.permissionScheme  {noformat}    h3. Expected Results    n/a    h3. Actual Results    Fisheye is unable to start due to Spring bean initialisation error. The below exception is thrown in the log file:    {noformat}  org.hibernate.PropertyValueException: not-null property references a null or transient value: com.cenqua.crucible.model.Project.permissionScheme  {noformat}    h3. Notes    This is caused by an inconsistent database state. Fisheye/Crucible expects a permission scheme, which is normally being created during setup. Because of the fact that backup import failed in the middle, this data is missing in the database.    h3. Workaround    Use an empty database to restore from the backup.   ",Bug,Low,Closed,"2019-07-01 17:57:06","2019-07-01 17:57:06",1
"Atlassian FishEye","Support Git 2.22","Release:  https://github.com/git/git/releases/tag/v2.22.0  ",Suggestion,,Closed,"2019-05-27 08:41:10","2019-05-27 08:41:10",0.25
"Atlassian FishEye","Support Git 2.21",,Suggestion,,Closed,"2019-02-25 09:24:13","2019-02-25 09:24:13",0
"Atlassian FishEye","Deprecate Git 1.7 and 1.8","Deprecate Git 1.7 and 1.8 in Fisheye 4.7. Since Fisheye 4.8 they will be no longer supported.     Notes:   * The last 1.7.x version (1.7.12.4) was published on Oct 2012   * The last 1.8.x version (1.8.5.6) was published on Dec 2014   * The 1.9.1 is the Git version bundled in the oldest supported Ubuntu (Ubuntu 14 - https://packages.ubuntu.com/trusty/devel/)  ",Suggestion,,Closed,"2018-12-07 09:55:31","2018-12-07 09:55:31",0
"Atlassian FishEye","Deprecate Mercurial 1.9-2.7","Deprecate support for Mercurial 1.9-2.7 in Fisheye 4.7.  Since Fisheye 4.8 it will be no longer supported.      Notes:   * The last 1.9.2 release was published on 2011-08-26   * The last 2.7.2 release was published on 2013-10-01    * The Mercurial 2.8.2 release, published on 2014-01-01, is the oldest version running on Ubuntu 14 (which is the oldest Ubuntu version still not EOL)  ",Suggestion,,Closed,"2018-12-07 09:21:59","2018-12-07 09:21:59",0
"Atlassian FishEye","Support Git 2.20",,Suggestion,,Closed,"2018-11-24 21:53:10","2018-11-24 21:53:10",0
"Atlassian FishEye","Deprecate support for Oracle 11g","Oracle 11g is end of life since 01 Jan 2015 (premier support package).     Fisheye/Crucible 4.7 is the last major release supporting this version.",Suggestion,,Closed,"2018-11-19 14:53:49","2018-11-19 14:53:49",0
"Atlassian FishEye","Deprecate support for MySQL 5.5","MySQL 5.5 has been released December 2010 (7 years ago) and it's support ends December 2018.     Fisheye/Crucible 4.7 is the last major release supporting this version.",Suggestion,,Closed,"2018-11-19 14:48:48","2018-11-19 14:48:48",0
"Atlassian FishEye","Deprecate support for PostgreSQL 9.3","PostgreSQL 9.3 is end of life since 1 Sep 2018.     Fisheye/Crucible 4.7 is the last major release supporting this version.",Suggestion,,Closed,"2018-11-19 14:44:38","2018-11-19 14:44:38",0
"Atlassian FishEye","Deprecate support for PostgreSQL 9.2","PostgreSQL 9.2 is end of life since 1 September 2017.     Fisheye/Crucible 4.7 is the last major release supporting this version.",Suggestion,,Closed,"2018-11-19 14:42:27","2018-11-19 14:42:27",0
"Atlassian FishEye","Support for PostgreSQL 11","PostgreSQL 11 have been released in October 2018.    https://www.postgresql.org/about/news/1894/    Add support for this DB version for Fisheye and Crucible.  ",Suggestion,,Closed,"2018-10-24 08:26:52","2018-10-24 08:26:52",0.5
"Atlassian FishEye","Perforce: Submitted UTF-8 file with BOM header shows up as binary in repository browser","h3. Summary  Whenever a file with a {{utf8}} Perforce filetype containing a BOM header is submitted to depot, Fisheye shows this file as binary.     h3. Steps to Reproduce  # Submit a file with {{utf8}} Perforce filetype containing a BOM header to the depot  # Wait until this file is indexed  # Try to open this file in repository browser  # Fisheye will say that the file is binary    h3. Expected Results  Fisheye should show the file source    h3. Actual Results  Fisheye is saying that the file is binary, offering the option to download it.    h3. Perforce versions   # 2015.2  # 2016.2    h3.Workarounds  * Change the Perforce filetype to {{text}} with removing BOM header  ",Bug,High,Closed,"2018-10-05 14:38:13","2018-10-05 14:38:13",1
"Atlassian FishEye","Support Microsoft SQL Server 2017","Support MS SQL 2017 in Fisheye and Crucible.    EOL dates are as follows:    | MS SQL version | Microsoft EOL date | Supported by Fisheye/Crucible |  | SQL 2012 SP4 | 7/11/2017 (x) | (/) |  | SQL 2014 SP2 | 7/9/2019 (/) | (/)  |  | SQL 2016 SP1 | 7/13/2021 (/) | (x) |  | SQL 2017 | 10/11/2022 (/) | (x) |",Suggestion,,Closed,"2018-09-06 12:29:57","2018-09-06 12:29:57",0
"Atlassian FishEye","Support Git 2.19",,Suggestion,,Closed,"2018-08-28 23:00:55","2018-08-28 23:00:55",0.25
"Atlassian FishEye","The bundled Atlassian Universal Plugin Manager plugin had a XXE issue - CVE-2018-20233","The version of the bundled Atlassian Universal Plugin Manager plugin had a XML External Entity vulnerability that allowed remote attackers with system administrator privileges to read files, make network requests and perform a denial of service attack via an XML External Entity vulnerability in the parsing of atlassian plugin xml files in an uploaded JAR. See https://ecosystem.atlassian.net/browse/UPM-5964 for more details.",Bug,Low,Closed,"2018-08-07 05:20:38","2018-08-07 05:20:38",0
"Atlassian FishEye","Support Oracle 12c R2",,Suggestion,,Closed,"2018-07-30 14:53:53","2018-07-30 14:53:53",0.5
"Atlassian FishEye","The bundled Atlassian Universal Plugin Manager plugin had a XSS issue - CVE-2018-5229","The version of the bundled Atlassian Universal Plugin Manager plugin had a cross site scripting vulnerability (XSS). See https://ecosystem.atlassian.net/browse/UPM-5871 for more details.",Bug,High,Closed,"2018-07-23 07:54:24","2018-07-23 07:54:24",0.5
"Atlassian FishEye","Support Mercurial 4.7","4.7-rc0 is available    https://www.mercurial-scm.org/repo/hg/rev/e90130af47ce",Suggestion,,"Under Consideration","2018-07-20 15:21:41","2018-07-20 15:21:41",3
"Atlassian FishEye","Support Mercurial 4.6","Fisheye/Crucible does not support Mercurial 4.6.x currently:   https://confluence.atlassian.com/fisheye/supported-platforms-298976955.html     Add support for it.",Suggestion,,"Under Consideration","2018-07-10 08:51:36","2018-07-10 08:51:36",3
"Atlassian FishEye","Support Mercurial 4.5","Add support for Mercurial 4.5",Suggestion,,Closed,"2018-07-10 08:49:36","2018-07-10 08:49:36",0
"Atlassian FishEye","Analytics plugin requires joda-time 2.2 or later","The analytics plugin 5.4.4 requires joda-time 2.2 or later. Fisheye/Crucible bundles joda-time 2.0.     As a result analytics data can't be uploaded to S3 bucket.     {noformat}  [Message] Unable to parse last modified date: Fri, 11 Sep 2015 01:16:54 GMT  java.lang.IllegalStateException: Joda-time 2.2 or later version is required, but found version: 2.0   at com.amazonaws.util.DateUtils.handleException(DateUtils.java:146) [analytics-client-5.4.4_1521644430000.jar:?]   at com.amazonaws.util.DateUtils.parseRFC822Date(DateUtils.java:194) [analytics-client-5.4.4_1521644430000.jar:?]   at com.amazonaws.services.s3.internal.ServiceUtils.parseRfc822Date(ServiceUtils.java:72) [analytics-client-5.4.4_1521644430000.jar:?]   at com.amazonaws.services.s3.internal.AbstractS3ResponseHandler.populateObjectMetadata(AbstractS3ResponseHandler.java:115) [analytics-client-5.4.4_1521644430000.jar:?]   at com.amazonaws.services.s3.internal.S3ObjectResponseHandler.handle(S3ObjectResponseHandler.java:52) [analytics-client-5.4.4_1521644430000.jar:?]   at com.amazonaws.services.s3.internal.S3ObjectResponseHandler.handle(S3ObjectResponseHandler.java:30) [analytics-client-5.4.4_1521644430000.jar:?]   at com.amazonaws.http.AmazonHttpClient.handleResponse(AmazonHttpClient.java:828) [analytics-client-5.4.4_1521644430000.jar:?]   at com.amazonaws.http.AmazonHttpClient.executeHelper(AmazonHttpClient.java:481) [analytics-client-5.4.4_1521644430000.jar:?]  ...  {noformat}    Probably we'll need to fix it on all versions from *4.2* up.     Note that 4.1 EOL Date is Jun 28, 2018.    Note: as per analytics-project/pom.xml, the joda-time version used shall be 2.3.  ",Bug,Low,Closed,"2018-06-25 13:41:00","2018-06-25 13:41:00",0.5
"Atlassian FishEye","Support Git 2.18","Support Git 2.18.x.",Suggestion,,Closed,"2018-06-22 11:56:08","2018-06-22 11:56:08",0
"Atlassian FishEye","Support Git 2.17","Support Git 2.17.x.",Suggestion,,Closed,"2018-06-22 11:55:34","2018-06-22 11:55:34",0
"Atlassian FishEye","Support Git 2.16","Support Git 2.16.x.",Suggestion,,Closed,"2018-06-22 11:54:45","2018-06-22 11:54:45",0
"Atlassian FishEye","Upgrade PostgreSQL JDBC driver to the latest version - 42.2.2","The driver version 42.2.2 works with Java 8+, supports JDBC 4.2 and PostgreSQL 8.2+. ",Suggestion,,Closed,"2018-06-21 12:07:41","2018-06-21 12:07:41",0.25
"Atlassian FishEye","Upgrade SVNKit to 1.9.3","Use the latest version of SVNKit containing several improvements and bugfixes.",Suggestion,,Closed,"2018-06-20 09:10:00","2018-06-20 09:10:00",1
"Atlassian FishEye","Cannot download binary file if name contains special characters","Fisheye provides ability to download binary files from repository. Download link is corrupted if file name contains special letters.  h3. Steps to reproduce:   # Add binary file with the special letters in name (e.g. _file with (strange) #chars.exe_) to the repository   # Add repository to the Fisheye   # Open file page in the Fisheye   # Click on _Download revision <revision hash>_ link    h3. Expected result:   * file starts to downloading    h3. Actual result:   * error page appears:   !Screen Shot 2018-05-04 at 16.51.18.png|width=257,height=143!    h3. Cause    Fisheye does not replace html char codes properly, so it tries to find file with name _file%20with%20%28strange%29%20%23chars.exe_ instead of _file with (strange) #chars.exe_.    Problem occurs if path to file from the repository root contains non-standard chars.       h3. Workaround    Expected url can be created manually. Each occurrence of  _%25_ should be changed to _%_.   h5. Example    Fisheye generates link to the file:   *  _<url>/file%2520with%2520%2528strange%2529%2520%2523chars.exe_    Valid url should look like:   * _<url>/file%20with%20%28strange%29%20%23chars.exe_",Bug,Low,Closed,"2018-05-04 15:42:54","2018-05-04 15:42:54",1
"Atlassian FishEye","Support for PostgreSQL 10","We are promoting open source high availability solution to Atlassian customers, one bottleneck is the PostgreSQL support.    Fisheye support up to PostgreSQL 9.6 which not support multi-master.    From below post, PostgreSQL 10 will support multi master, which is high beneficial to Atlassian customer.    [https://blog.2ndquadrant.com/news-and-roadmap-for-bdr-multi-master-postgresql/]    Looking forward to any update of this request.    Francis",Suggestion,,Closed,"2018-04-22 10:29:28","2018-04-22 10:29:28",0.5
"Atlassian FishEye","Update 'Atlassian Troubleshooting and Support Tools' plugin to version 1.8.3","This update fixes a problem with the Log Analyser running behind a reverse proxy.    https://ecosystem.atlassian.net/browse/ATST-763",Suggestion,,Closed,"2018-01-22 11:19:47","2018-01-22 11:19:47",0
"Atlassian FishEye","Dev Panel doesn't update with rest of ticket","{panel:title=2018.05.26 Update|titleBGColor=#deebff|bgColor=#deebff}  We received several reports from customers, that the problem occurred also in Fisheye/Crucible 4.5.1 and higher.   Version 4.5.1 contains a fix for a bug we found (missing OSGI import caused @PostConstruct to be not executed by Spring, resulting in events not being sent). We decided to re-open this issue in order to check if there is a second bug causing this faulty behaviour. If you happened to upgrade to *4.5.0*, we still recommend upgrading to 4.5.1 or higher, as the fix delivered in 4.5.1 reduces occurrence factor.  {panel}  ----  {panel:title=2018.08.30 Update|titleBGColor=#deebff|bgColor=#deebff}  Our investigation revealed that the new customer reports about missing data in the Development panel are caused by the problem with Jira synching mechanism. Crucible correctly pushes events about new commits as well as correctly responds to Jira queries about particular issue key. Therefore, a fix for cached data not being refreshed has to be implemented in Jira, please vote and watch the JSWSERVER-16760 bug report.  {panel}  ----  {panel:title=2018.12.12 Update|titleBGColor=#deebff|bgColor=#deebff}  The JSWSERVER-16760 bug has been fixed and is pending public release in Jira    7.6.11, 7.13.1 and 8.0.0.  {panel}  ----  {panel:title=Note on the Fix}  The fix only ensures that the problem won't happen again to new data. Existing data that got affected in an earlier version won't be fixed automatically. For example, the DevPanel still doesn't show up for some issues that have commit links, but if we make a new commit to the issue then all will show thanks to the fix.  h4. Workaround for a single issue    In such a case, what we can do is to manually delete the fusion cached data related to the issue in the Jira database. For example, if you discover that issue ABC-123 is affected (it has 1 commit but DevPanel doesn't show), you may:   # Run this REST call to confirm it has 1 commit:  {code:java}  <FeCru_BaseURL>/rest/remote-link-aggregation/latest/aggregation?globalId=ABC-123  {code}   # Run this SQL query in Jira db to confirm Jira has an outdated record of it (no commit):  {code:java}  select * from entity_property where json_value like '%ABC-123%';  {code}  For JIRA 7.9+, run this query instead:  {code:java}  select * from AO_575BF5_DEV_SUMMARY where json like '%ABC-123%';  {code}  (+) If there're more than 1 entry, get the ID of the one whose property_key (or provider_source_id for JIRA 7.9+) is FeCru's applinks ID.   # If the above are confirmed, it's safe to delete the db entry for it to be rewritten with up-to-date data:  {code:java}  delete from entity_property where id = <ID from the above SELECT query>;  {code}  For JIRA 7.9+, run this query instead:  {code:java}  delete from AO_575BF5_DEV_SUMMARY where id = <ID from the above SELECT query>;  {code}    h4. Workaround to flush the entire cache in Jira   # Run the query to get the information about the app link in Jira:  {code:sql|bgColor=#f8f8f8}  SELECT SUBSTR(a.property_key,16,36) as Application Key, b.propertyvalue as Application Name FROM propertyentry a join propertystring b on a.id=b.id where a.property_key like 'applinks.admin%name';  {code}   # Delete the app link from the Jira side   # Delete the app link from the FeCru side   # Take a backup of the Jira database   # Stop Jira to make a DB update   # Delete all entries relating to the FeCru app link from *entity_property*. For example, if fa55abbf-804c-31fd-8d07-1878e61b9766 is the app-link for FeCru:  {code:sql|bgColor=#f8f8f8}  DELETE FROM entity_property WHERE PROPERTY_KEY LIKE '%fa55abbf-804c-31fd-8d07-1878e61b9766%';  {code}  For JIRA 7.9+, run this query instead:  {code:sql|bgColor=#f8f8f8}  DELETE FROM AO_575BF5_DEV_SUMMARY WHERE JSON LIKE '%fa55abbf-804c-31fd-8d07-1878e61b9766%';  {code}   # Re-install the app link between Jira and FeCru   # Validate that issues now show updated commit information    h5. Important notes on the workaround above   * The workaround must be tested on a copy of Jira before executing in production.   * We have observed that Jira issues will get added to the *entity_property* table as users browse them. At some point, Jira pulled changes for all issues from FeCru as well. This leads us to think this operation may be expensive and makes it safer to run the workaround in production outside of peak hours.   * A few hours after the workaround is run, we need to count the number of records from the query:  {code:sql|bgColor=#f8f8f8}  SELECT * FROM entity_property WHERE PROPERTY_KEY LIKE '%fa55abbf-804c-31fd-8d07-1878e61b9766%';  {code}  {panel}  {panel:title=Original Description}  h3. Steps to reproduce.   # Fisheye 4.5.0 JIRA version doesn't matter   # Perform a smart commit with any kinds of tags of any size    h3. Expected results.    As soon as the commits are available in Fisheye, the JIRA ticket is updated accordingly.  h3. Actual Results    Everything is updated in JIRA except for the Dev Panel. It will take up to 30 minutes for the changesets to show up. After the first branch and commit are available, the number is not updated properly but if you click on the links, all of the branches and changesets appear as expected in the popup.  h3. Workaround    N/A as of now. Clicking on the already available links will reveal the true information, but the first one there is no workaround.  {panel}",Bug,High,Closed,"2017-11-13 22:03:08","2017-11-13 22:03:08",5
"Atlassian FishEye","Indexing a Perforce repository fails with P4ClientException - Unable to get file log for files with non Unicode characters","h3. Summary    Perforce repository indexing fails when the file path (including the filename) contains a non Unicode character.  h3. Environment   * Perforce is configured as non Unicode    h3. Steps to Reproduce    N/A  h3. Expected Results    The indexing works and the files are available in FishEye  h3. Actual Results    The below exception is thrown in the {{atlassian-fisheye-YYYY-MM-DD.log}} file:  {noformat}  WARN - Problem processing revisions from repository <repository_name> due to class com.cenqua.fisheye.perforce.client.P4ClientException - Unable to get file log for <file path/filename>  {noformat}  h3. Workaround    The following alternative are available as a workaround:   # *(Preferred)* Convert the repository to a Unicode one in Perforce.   # Add the {{fisheye.ignore.p4.client.errors=true}} property to the {{JVM system properties}} (see [JVM system properties - Atlassian Documentation|https://confluence.atlassian.com/fisheye/jvm-system-properties-298976942.html] and [Environment variable|https://confluence.atlassian.com/fisheye/environment-variables-298976934.html]). This can be achieved in the following way:   ## add the following to the {{$FISHEYE_INST/system.properties}} file  {noformat}  fisheye.ignore.p4.client.errors=true  {noformat}     #    ## add the following to the {{FISHEYE_OPTS}} environment variable  {noformat}  -Dfisheye.ignore.p4.client.errors=true  {noformat}    h3. Solution    Fisheye allows you to define encoding for Perforce repository.  Before Fisheye 4.6.1 this encoding was used only to process Perforce output. In Fisheye 4.6.1 and later, also input commands are constructed with encoding that is readable by Perforce.    To make sure that the Fisheye input is readable for the Perforce repository,  repository encoding has to be set according to the file paths encoding in the repository.    For example, if a committer uses Windows machine with windows-1252 (“Western Europe) character set as their default encoding, the same encoding must be set in Fisheye.     ",Bug,Medium,Closed,"2017-08-04 05:28:38","2017-08-04 05:28:38",1
"Atlassian FishEye","Custom Authentication page links to outdated documentation","The [Custom authentication|https://confluence.atlassian.com/fisheye/custom-authentication-813695575.html] page, in Per-repository constraint configuration section, has this link in Permissions Summary table: http://confluence.atlassian.com/display/FISHEYE/6.+Setting+up+your+Users+and+Security.     Clicking it takes you to a Page Not Found, and the links from In Other Spaces are really outdated. Clicking in the most recent link listed there, for FishEye 1.6, takes you to: https://confluence.atlassian.com/display/FISHEYE016/6.+Setting+up+your+Users+and+Security.     However, removing the initial 6.+ from the page link (so that it looks like https://confluence.atlassian.com/display/FISHEYE016/Setting+up+your+Users+and+Security), takes you to another Page Not Found, and then the links from In Other Spaces show that the latest version available for that document is for FishEye 2.7:   https://confluence.atlassian.com/display/FISHEYE027/Setting+up+your+Users+and+Security    This link for FishEye 2.7 really seems to be the latest one, however it's obviously really outdated as well, as FishEye's current latest version is 4.4.0.",Suggestion,,Closed,"2017-05-04 14:20:33","2017-05-04 14:20:33",0
"Atlassian FishEye","User Can edit Profile",,Suggestion,,"Not Being Considered","2017-01-30 08:12:58","2017-01-30 08:12:58",3
"Atlassian FishEye","Would like to overwrite the Crowd SSO domain configuration","With the Crowd server existing in a different domain, Confluence and JIRA are able to overwrite the Crowd {{cookie.domain}} but post 4.0, FishEye/Crucible is not.    Previously, users could specify the {{cookie.domain}} in the FeCru {{config.xml}}.  h5. Scenario    ||Application||Domain||Crowd Domain||Overwrite Domain||Results||  |Crowd|.foo.com|N/A|N/A|N/A|  |JIRA|.bar.com|.foo.com|.bar.com|Works|  |Confluence|.bar.com|.foo.com|.bar.com|Works|  |FeCru|.bar.com|.foo.com|.bar.com|Unable to overwrite|  h5. Request    Allow FeCru to overwrite the Crowd cookie.domain setting like JIRA and Confluence are able to do.",Bug,Low,Closed,"2017-01-09 13:38:19","2017-01-09 13:38:19",0.25
"Atlassian FishEye","Bitbucket Server repositories tab goes missing if only Crucible license is present","As far from FishEye/Crucible 4.2.0, when FishEye license is not present, the Bitbucket Server repositories tab will no longer be visible    !screenshot.png!    h3. Workaround    Add a repository using Native repository access tab.",Bug,Low,Closed,"2016-11-22 08:12:51","2016-11-22 08:12:51",0.5
"Atlassian FishEye","Update Embedded Crowd library to version 2.8.8 that contains a fix for CWD-4790","Update Embedded Crowd library to version 2.8.8 that contains a fix for CWD-4790",Bug,High,Closed,"2016-11-15 10:39:07","2016-11-15 10:39:07",0.5
"Atlassian FishEye","Upgrade OGNL to a version >= 3.0.12","Various hardening changes have been applied to OGNL. In specific, there seems to be a number of changes that relate to https://struts.apache.org/docs/s2-034.html being fixed in OGNL versions >= 3.0.12.    We suspect that changes including https://issues.apache.org/jira/browse/OGNL-252, https://github.com/jkuhnert/ognl/pull/9 and https://github.com/jkuhnert/ognl/commit/1da0a238cd90ab1affda30620dcc388a030db1e7 may be related to https://struts.apache.org/docs/s2-034.htm.",Bug,Low,Closed,"2016-11-15 10:36:01","2016-11-15 10:36:01",2
"Atlassian FishEye","Please improve a document about Connecting to Crowd","h3. Problem Definition   * There is no explanation about *Enable Incremental Synchronization* on [Connecting to Crowd page|https://confluence.atlassian.com/display/FISHEYE/Connecting+to+Crowd#ConnectingtoCrowd-Advancedsettings] despite the fact that it is on docs about the other external directories (e.g. [Connecting to JIRA for user management|https://confluence.atlassian.com/display/FISHEYE/Connecting+to+JIRA+for+user+management], [Connecting to an existing LDAP directory|https://confluence.atlassian.com/display/FISHEYE/Connecting+to+an+existing+LDAP+directory#ConnectingtoanexistingLDAPdirectory-Advancedsettings])   * There is no information that Full synchronization is always executed when restarting FishEye inspite of *Enable Incremental Synchronization* setting    h3. Suggested Solution    Could you please add the above explanations to the docs?",Suggestion,,Closed,"2016-11-01 00:46:07","2016-11-01 00:46:07",1
"Atlassian FishEye","License end warning shown 2 weeks after purchase","If license contains expiration date then license warning is shown 2 weeks after purchase date - see [^image2016-10-12 22-3-0.png] taken on 12 of October. It is fine for Evaluation license which last 1 month but is very annoying if expiry date is 1 year since purchase.",Bug,Low,Closed,"2016-10-13 15:23:16","2016-10-13 15:23:16",1
"Atlassian FishEye","Normalized groups aren't written to config.xml after the upgrade","Upgrade task #100 doesn't write normalized groups to config.xml.    *Workaround:* manually lowercase groups in config.xml.",Bug,Medium,Closed,"2016-10-07 11:02:30","2016-10-07 11:02:30",0.5
"Atlassian FishEye","Support zip Can't generate properties file","If config.xml contains crowd configuration with sso only set (no application name) then we get following exception:  {code}  2016-09-21 09:18:33,964 ERROR [support-request ] com.atlassian.support.tools.salext.bundle.ApplicationPropertiesInfoBundle noClassMethodInfo - Can't generate properties file.  java.lang.NullPointerException          at com.cenqua.fisheye.util.PropertiesUtil.loadFromString(PropertiesUtil.java:24)          at com.cenqua.fisheye.util.PropertiesUtil.loadFromString(PropertiesUtil.java:19)          at com.atlassian.support.tools.salext.FisheyeApplicationInfo.loadProperties(FisheyeApplicationInfo.java:353)          at com.atlassian.support.tools.salext.AbstractSupportApplicationInfo.saveProperties(AbstractSupportApplicationInfo.java:310)          at com.atlassian.support.tools.salext.bundle.ApplicationPropertiesInfoBundle.getFiles(ApplicationPropertiesInfoBundle.java:65)          at com.atlassian.support.tools.request.CreateSupportZipTask.zip(CreateSupportZipTask.java:202)          at com.atlassian.support.tools.request.CreateSupportZipTask.createSupportZip(CreateSupportZipTask.java:73)          at com.atlassian.support.tools.request.CreateSupportZipTask$1.call(CreateSupportZipTask.java:55)          at com.atlassian.support.tools.request.CreateSupportZipTask$1.call(CreateSupportZipTask.java:52)          at com.atlassian.support.tools.request.CreateSupportZipTask.call(CreateSupportZipTask.java:57)          at com.atlassian.support.tools.request.CreateSupportZipTask.call(CreateSupportZipTask.java:26)          at java.util.concurrent.FutureTask.run(FutureTask.java:266)          at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)          at java.util.concurrent.FutureTask.run(FutureTask.java:266)          at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)          at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)          at java.lang.Thread.run(Thread.java:745)  {code}",Bug,Low,Closed,"2016-09-21 10:29:43","2016-09-21 10:29:43",0.5
"Atlassian FishEye","Integrated Fisheye application for GitHub","*Problem*    Repository polling for instances with large number of repositories is inefficient and resource-hungry. Hence, we use [commit hooks|https://confluence.atlassian.com/display/FISHEYE/Configuring+commit+hooks]. Currently in GitHub we have a service hooks. However,  {quote}  Services are pre-built integrations that perform certain actions when events occur on GitHub. They are not recommended for new projects and this functionality is scheduled to be removed from GitHub.  {quote}  GitHub team recommends that an integrated application for Fisheye is created instead. On their integrated applications directory there is HipChat and JIRA ([https://github.com/integrations]).    (!) Since January 31, 2019 GitHub stopped delivering services events (see https://developer.github.com/v3/guides/replacing-github-services)    *Workaround*    Use repository polling instead of services.    *Development notes*    * Fisheye shall accept POST in addition to PUT  * authentication (X-API-KEY header vs X-Hub-Signature)     *References*    * https://developer.github.com/webhooks/#events  * https://developer.github.com/changes/2019-01-29-life-after-github-services/    ",Suggestion,,Closed,"2016-09-15 11:36:28","2016-09-15 11:36:28",2
"Atlassian FishEye","Use repository 'Display Name' instead of 'Name' ('Repository Key') in FishEye / Crucible gadgets ","FishEye 4.2.0 introduced the 'Display Name' attribute for a repository. It is being shown across the whole UI in FishEye/Crucible. It's also presented in a JIRA Development panel.    FishEye / Crucible gadgets, however use the Repository field, which requires the 'Name' ('Repository key'), instead of the 'Display Name'. It applies for both edit and view modes in gadgets. See screen shots.         An example for the 'FishEye Recent Changesets' gadget:      ||edit mode||view mode||  |!fisheye_recent_changesets_edit.png|thumbnail!|!fisheye_recent_changesets_view.png|thumbnail!|         An example for the 'Changeset Review Coverage' gadget:    !changeset_review_coverage.png|thumbnail!         Affected gadgets:   * FishEye Recent Changesets   * FishEye Charts   * Changeset Review Coverage",Suggestion,,"Not Being Considered","2016-08-30 09:36:59","2016-08-30 09:36:59",5
"Atlassian FishEye","Adding a group as a reviewer fails when the group id contains special characters because is not encoded","h3. Summary  Groups containing special characters (e.g. {{#}} or {{/}}) cannot be added as Reviewers.    h3. Steps to Reproduce  # Create a group with a special character in it in an external user directory (e.g. JIRA or LDAP)  # Synchronize the group to FishEye  # Add the groups as a reviewer to a review    h3. Expected Results  The users belonging to the group are added as reviewer.    h3. Actual Results  The users are not added as reviewer, and the following message is displayed in the user interface:  {noformat}  Failed to fetch group members. Check Internet connection or contact your administrator.  {noformat}    !AddAGroupWithSpecialCharacter.png|width=600px!     h3. Notes  Groups with special characters cannot be created directly in FishEye, they can only be imported by and external user directory.  When attempting to create a group with special characters in FishEye, the following message is shown:  {quote}  Group name can only contain alphanumeric, underscore, at ('@'), dot, dash or backslash  {quote}    A call for group with id {{////}} will result in following request call:  <FISHEYE_URL>/rest-service/reviewer-search/CR-3/groups///////members    A call for group with id starting with {{#}} will result in following request call:  <FISHEYE_URL>/fisheye/rest-service/reviewer-search/CR-27/groups/    The following is an expected request call:  <FISHEYE_URL>/fisheye/rest-service/reviewer-search/CR-27/groups/<group_name>/members    h3.Workaround  No workaround is currently available.  ",Bug,Low,Closed,"2016-06-23 14:42:32","2016-06-23 14:42:32",1
"Atlassian FishEye","JS error when NPS plugin is being initialized after Analytics was enabled","Seems like Fecru data providers are not defined for every _web resource_ which uses them, thus some time the code may fail with JS undefined error  {noformat}  com.atlassian.plugins.atlassian-nps-plugin:nps-util.js:3 Uncaught TypeError: Cannot read property 'toLowerCase' of undefined  {noformat}   !screenshot-1.png|thumbnail!     h2. HTR  Make sure admin didn't ack on NPS data dialog.    # Start Fisheye&Crucible debug instance by  {{ant debug}}  # Enable analytics  # Refresh page, NPS initializer will catch analytics settings had changed  ## NPS tries to initialize itself and shows _Acknowledge Dialog_   ## It requires {{fecru.js}} which is required by all resources in the scope  ## But FECRU data providers are not, thus {{Product.getProductName}} fails miserably      ",Bug,High,Closed,"2016-08-09 12:11:21","2016-08-09 12:11:21",0.5
"Atlassian FishEye","Add warning to DB migration page","Please add explicit warning saying that button _Save & Migrate_  will override target database with existing data from DB currently beeing used without asking.     Verify that _Save_ button will just switch to target DB.",Suggestion,,Closed,"2016-07-27 07:56:55","2016-07-27 07:56:55",0.5
"Atlassian FishEye","After upgrading to 4.0 user watches can be lost","Upgrade 4.0 normalised user names. Due to that user watches might be lost.",Bug,Low,"Gathering Impact","2016-07-15 09:44:44","2016-07-15 09:44:44",2
"Atlassian FishEye","Permission scheme action groups get lost during upgrade when groups are from external directory and contain upper case characters",,Bug,Medium,Closed,"2016-07-11 19:09:13","2016-07-11 19:09:13",2
"Atlassian FishEye","Project default reviewers groups / allowed review participants groups get lost during upgrade when groups are from external directory and contain upper case characters",,Bug,Medium,Closed,"2016-07-11 18:08:26","2016-07-11 18:08:26",2
"Atlassian FishEye","Repository permissions get lost during upgrade when groups contained upper case characters","After upgrading to 4.1.0 version of FishEye, some users may lose access to repositories they were able to access before.  This affects permissions granted to groups containing upper case characters in their names.    h2. Workaround   Fixing is not possible through the UI because it won't allow to add permissions considered duplicate, lowercasing group names directly in database (in {{cru_repo_group_perm}} table) is required.",Bug,High,Closed,"2016-07-01 15:13:42","2016-07-01 15:13:42",3
"Atlassian FishEye","Global permissions UI may show duplicate groups when they contain upper case characters","Global permissions UI is broken when group contains upper case letters in name.  On page reload the page will show actual state, with no duplicates presented.  But if user attempts to add permissions for a group that contains upper case characters in its name and permissions for that group existed already, the UI will show this group twice - once with lowercase spelling and once with original case spelling.  Duplicated entry disappears on page reload.    The issue most probably lies in {{GlobalPermissionsResource#groupsWithoutAnyPermissions}}.      !image-2016-06-22-10-57-43-805.png|thumbnail! ",Bug,Low,Closed,"2016-06-22 10:12:30","2016-06-22 10:12:30",1
"Atlassian FishEye","Information leak about user existence when captcha is enabled","When captcha is exhausted for some particular user we can leak information about its existence when putting the wrong password:  !screenshot-1.png|thumbnail!   !screenshot-2.png|thumbnail! ",Bug,Low,Closed,"2016-06-24 09:55:05","2016-06-24 09:55:05",0.5
"Atlassian FishEye","User Mappings page does not recognise that repositories are defined","Admin / User Mappings page is showing only repositories where admin user have explicit permissions.",Bug,Low,Closed,"2016-06-14 10:45:26","2016-06-14 10:45:26",0.5
"Atlassian FishEye","Allow setting repository permissions on the add repository dialog","When a new repository is added, it inherits default repository settings. One can disable that immediately after adding that repo, but there is a gap between adding a repo and making it secret.  There should be a way to set repository permissions directly in the add repository dialog, or at least by default restrict the access level to none.    h5.Workaround  Add repository as disabled, then only its name will leak.",Suggestion,,"Not Being Considered","2016-06-22 10:30:36","2016-06-22 10:30:36",4
"Atlassian FishEye","Hibernate issues around processing watches","h3. Summary  Notification emails are not sent to repository watchers after upgrading to FishEye 4.+.    h3. Steps to Reproduce  # N/A    h3. Expected Results  Notification emails are successfully sent.    h3. Actual Results  Notification emails are not sent on some repositories.  One of the below exceptions is thrown in the {{atlassian-fisheye.log}} file:  {noformat:title=Exception #1}  ERROR [FE-WatchChecker ] org.hibernate.engine.jdbc.spi.SqlExceptionHelper SqlExceptionHelper-logExceptions - Violation of UNIQUE KEY constraint 'uk_watch_key'. Cannot insert duplicate key in object 'dbo.cru_watch'. The duplicate key value is (041A4C7A80108E44483G285D062879DFFD68D98C6AE590E56B902F4D512040E7).  {noformat}    Or the following  {noformat:title=Exception #2}  SessionState-commitAllTx - Commit failed. Rolling back.  org.hibernate.PropertyAccessException: Exception occurred inside getter of com.cenqua.fisheye.web.Watch.watchKey          at org.hibernate.property.BasicPropertyAccessor$BasicGetter.get(BasicPropertyAccessor.java:167) [hibernate-core-4.2.13.Final.jar:4.2.13.Final]          at org.hibernate.tuple.entity.AbstractEntityTuplizer.getPropertyValues(AbstractEntityTuplizer.java:609) [hibernate-core-4.2.13.Final.jar:4.2.13.Final]          at org.hibernate.tuple.entity.PojoEntityTuplizer.getPropertyValues(PojoEntityTuplizer.java:392) [hibernate-core-4.2.13.Final.jar:4.2.13.Final]          at org.hibernate.persister.entity.AbstractEntityPersister.getPropertyValues(AbstractEntityPersister.java:4530) [hibernate-core-4.2.13.Final.jar:4.2.13.Final]          at org.hibernate.event.internal.DefaultFlushEntityEventListener.getValues(DefaultFlushEntityEventListener.java:198) [hibernate-core-4.2.13.Final.jar:4.2.13.Final]          at org.hibernate.event.internal.DefaultFlushEntityEventListener.onFlushEntity(DefaultFlushEntityEventListener.java:157) [hibernate-core-4.2.13.Final.jar:4.2.13.Final]          at org.hibernate.event.internal.AbstractFlushingEventListener.flushEntities(AbstractFlushingEventListener.java:230) [hibernate-core-4.2.13.Final.jar:4.2.13.Final]          at org.hibernate.event.internal.AbstractFlushingEventListener.flushEverythingToExecutions(AbstractFlushingEventListener.java:100) [hibernate-core-4.2.13.Final.jar:4.2.13.Final]          at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:55) [hibernate-core-4.2.13.Final.jar:4.2.13.Final]          at org.hibernate.internal.SessionImpl.flush(SessionImpl.java:1159) [hibernate-core-4.2.13.Final.jar:4.2.13.Final]          at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:404) [hibernate-core-4.2.13.Final.jar:4.2.13.Final]          at org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction.beforeTransactionCommit(JdbcTransaction.java:101) [hibernate-core-4.2.13.Final.jar:4.2.13.Final]          at org.hibernate.engine.transaction.spi.AbstractTransactionImpl.commit(AbstractTransactionImpl.java:175) [hibernate-core-4.2.13.Final.jar:4.2.13.Final]          at com.cenqua.crucible.hibernate.SessionState.commit(SessionState.java:165) [fisheye.jar:?]          at com.cenqua.crucible.hibernate.SessionState.commitAllTx(SessionState.java:118) [fisheye.jar:?]          at com.cenqua.crucible.hibernate.SessionState.commitTx(SessionState.java:109) [fisheye.jar:?]          at com.cenqua.crucible.hibernate.HibernateUtil.commitTransaction(HibernateUtil.java:382) [fisheye.jar:?]          at com.atlassian.fecru.tx.TxHelperStylePlatformTransactionManager.commit(TxHelperStylePlatformTransactionManager.java:45) [fisheye.jar:?]          at com.atlassian.fisheye.spi.impl.DefaultTxTemplate.execute(DefaultTxTemplate.java:88) [fisheye.jar:?]          at com.cenqua.fisheye.web.DefaultWatchManager.updateWatch(DefaultWatchManager.java:438) [fisheye.jar:?]          at com.cenqua.fisheye.web.DefaultWatchManager.checkWatch(DefaultWatchManager.java:577) [fisheye.jar:?]          at com.cenqua.fisheye.web.DefaultWatchManager.access$300(DefaultWatchManager.java:74) [fisheye.jar:?]          at com.cenqua.fisheye.web.DefaultWatchManager$WatchChecker.checkWatchesForRep(DefaultWatchManager.java:294) [fisheye.jar:?]          at com.cenqua.fisheye.web.DefaultWatchManager$WatchChecker.checkWatchesForRep(DefaultWatchManager.java:232) [fisheye.jar:?]          at com.cenqua.fisheye.web.DefaultWatchManager$WatchChecker.run(DefaultWatchManager.java:202) [fisheye.jar:?]          at java.lang.Thread.run(Thread.java:745) [?:1.8.0_92]  Caused by: java.lang.reflect.InvocationTargetException          at sun.reflect.GeneratedMethodAccessor1833.invoke(Unknown Source) [?:?]          at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [?:1.8.0_92]          at java.lang.reflect.Method.invoke(Method.java:498) [?:1.8.0_92]          at org.hibernate.property.BasicPropertyAccessor$BasicGetter.get(BasicPropertyAccessor.java:164) [hibernate-core-4.2.13.Final.jar:4.2.13.Final]          ... 25 more  Caused by: org.hibernate.TransactionException: nested transactions not supported          at org.hibernate.engine.transaction.spi.AbstractTransactionImpl.begin(AbstractTransactionImpl.java:152) [hibernate-core-4.2.13.Final.jar:4.2.13.Final]          at org.hibernate.internal.SessionImpl.beginTransaction(SessionImpl.java:1351) [hibernate-core-4.2.13.Final.jar:4.2.13.Final]          at com.cenqua.crucible.hibernate.SessionState.beginTx(SessionState.java:60) [fisheye.jar:?]          at com.cenqua.crucible.hibernate.HibernateUtil.beginTransaction(HibernateUtil.java:372) [fisheye.jar:?]          at com.atlassian.fecru.tx.TxHelperStylePlatformTransactionManager.getTransaction(TxHelperStylePlatformTransactionManager.java:34) [fisheye.jar:?]          at org.springframework.transaction.interceptor.TransactionAspectSupport.createTransactionIfNecessary(TransactionAspectSupport.java:420) [spring-tx-4.0.9.RELEASE.jar:4.0.9.RELEASE]          at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:257) [spring-tx-4.0.9.RELEASE.jar:4.0.9.RELEASE]          at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:95) [spring-tx-4.0.9.RELEASE.jar:4.0.9.RELEASE]          at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.0.9.RELEASE.jar:4.0.9.RELEASE]          at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) [spring-aop-4.0.9.RELEASE.jar:4.0.9.RELEASE]          at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.0.9.RELEASE.jar:4.0.9.RELEASE]          at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:207) [spring-aop-4.0.9.RELEASE.jar:4.0.9.RELEASE]          at com.sun.proxy.$Proxy52.findByName(Unknown Source) [?:?]          at com.atlassian.crowd.embedded.core.CrowdEmbeddedApplicationFactory.getApplication(CrowdEmbeddedApplicationFactory.java:25) [embedded-crowd-core-2.8.5-m1.jar:?]          at com.atlassian.crowd.embedded.core.CrowdServiceImpl.getApplication(CrowdServiceImpl.java:891) [embedded-crowd-core-2.8.5-m1.jar:?]          at com.atlassian.crowd.embedded.core.CrowdServiceImpl.getUser(CrowdServiceImpl.java:87) [embedded-crowd-core-2.8.5-m1.jar:?]          at com.cenqua.crucible.hibernate.CrowdAwareUserLoadListener.getCrowdUser(CrowdAwareUserLoadListener.java:64) [fisheye.jar:?]          at com.cenqua.crucible.hibernate.CrowdAwareUserLoadListener.setCrowdUserIfNecessary(CrowdAwareUserLoadListener.java:132) [fisheye.jar:?]          at com.cenqua.crucible.hibernate.CrowdAwareUserLoadListener.onPostLoad(CrowdAwareUserLoadListener.java:86) [fisheye.jar:?]          at org.hibernate.event.internal.DefaultLoadEventListener.convertCacheEntryToEntity(DefaultLoadEventListener.java:703) [hibernate-core-4.2.13.Final.jar:4.2.13.Final]          at org.hibernate.event.internal.DefaultLoadEventListener.loadFromSecondLevelCache(DefaultLoadEventListener.java:572) [hibernate-core-4.2.13.Final.jar:4.2.13.Final]          at org.hibernate.event.internal.DefaultLoadEventListener.doLoad(DefaultLoadEventListener.java:423) [hibernate-core-4.2.13.Final.jar:4.2.13.Final]          at org.hibernate.event.internal.DefaultLoadEventListener.load(DefaultLoadEventListener.java:208) [hibernate-core-4.2.13.Final.jar:4.2.13.Final]          at com.cenqua.crucible.hibernate.CrowdAwareUserLoadListener.load(CrowdAwareUserLoadListener.java:109) [fisheye.jar:?]          at org.hibernate.event.internal.DefaultLoadEventListener.onLoad(DefaultLoadEventListener.java:147) [hibernate-core-4.2.13.Final.jar:4.2.13.Final]          at org.hibernate.internal.SessionImpl.fireLoad(SessionImpl.java:1017) [hibernate-core-4.2.13.Final.jar:4.2.13.Final]          at org.hibernate.internal.SessionImpl.immediateLoad(SessionImpl.java:932) [hibernate-core-4.2.13.Final.jar:4.2.13.Final]          at org.hibernate.proxy.AbstractLazyInitializer.initialize(AbstractLazyInitializer.java:174) [hibernate-core-4.2.13.Final.jar:4.2.13.Final]          at org.hibernate.proxy.AbstractLazyInitializer.getImplementation(AbstractLazyInitializer.java:286) [hibernate-core-4.2.13.Final.jar:4.2.13.Final]          at org.hibernate.proxy.pojo.javassist.JavassistLazyInitializer.invoke(JavassistLazyInitializer.java:185) [hibernate-core-4.2.13.Final.jar:4.2.13.Final]          at com.atlassian.fecru.user.FecruUser_$$_jvst3e6_5f.getUsername(FecruUser_$$_jvst3e6_5f.java) [fisheye.jar:?]          at com.cenqua.fisheye.web.Watch.username(Watch.java:133) [fisheye.jar:?]          at com.cenqua.fisheye.web.Watch.getUsername(Watch.java:129) [fisheye.jar:?]          at com.cenqua.fisheye.web.Watch.getWatchKey(Watch.java:159) [fisheye.jar:?]  {noformat}",Bug,Low,Closed,"2016-06-20 23:17:08","2016-06-20 23:17:08",0.5
"Atlassian FishEye","After upgrading to 4.0 user avatar can be lost","When having FeCru with < 4.0 configured with remote user directory (Crowd/Jira) with forced lowercase username and then upgrading to FeCru 4.0 users with mixed case user names will loose their avatars.    In details:    Let's take “John example.    Pre 4.0    We have Crowd directory with forced lower case turned on and a user with “John” username.  In cru_user we have “john” user and his avatar is saved under hash(“john”).    In 4.0    “john” is still present in cru_user with the user name lowercased, in cwd_user we keep both username “John” / lowercase userame “john”    The avatar is expected to be found in hash(fecruUser.getUsername) where the username is taken from cwd_user so it is hash(“John”) and can’t be found.    ",Bug,Low,Closed,"2016-06-17 11:32:40","2016-06-17 11:32:40",3
"Atlassian FishEye","group normalisation from 4.0 upgrade tasks is breaking permissions","Group normalisation from 4.0 upgrade tasks is breaking permissions. Scenario:  * backup created for 3.1.7 instance, repo repo-uppercase-access configured with GROUP-A can read access  * backup file restored on 4.1 instance, I can see following messages in the upgrade log  {code}$ grep -i renam /tmp/restore.out  INFO  - The group Global-Group-A has a duplicate name. Will rename the group to Global-Group-A_migration1  INFO  - The group Group-A has a duplicate name. Will rename the group to Group-A_migration1  INFO  - The group GROUP-A has a duplicate name. Will rename the group to GROUP-A_migration2{code}  on 4.1 instance repository repo-uppercase-access is configured so GROUP-A can read.  There should be GROUP-A_migration2 instead    h3. Workaround  To address this problem, please refer to the [FishEye 4.0 group name normalization|https://confluence.atlassian.com/display/FISHEYE/FishEye+4.0+group+name+normalization] page for instructions.",Bug,Medium,Closed,"2016-06-14 13:29:47","2016-06-14 13:29:47",1
"Atlassian FishEye","FishEye incorrectly identifies Subversion binary files as text if the filename contains spaces","If an user creates a Subversion revision that is the addition of a new directory that also contains a binary file that has spaces in it's name, FishEye incorrectly considers it as a text file even if the mime-type is set correctly. This causes FishEye to display the binary content for the file instead of a download link and also causes significant performance problems if a Crucible review contains the file. There is no way to force the file to be considered as a binary file (because it already has the correct mime-type set.) FishEye performance also seems to degrade very quickly when indexing a repository that contains large numbers of these incorrectly identified binary files.    [^file-spaces.svn-dump.gz] file contains a SVN repository dump which demonstrates the problem. Files with  - Copy are rendered as a garbage.    *Workaround*    This is a partial workaround for existing code reviews. It updates the 'is binary' flag for file revisions currently added to a code review. It does not fix the 'is binary' flag in indexed repositories, so adding a binary file to a new review will display it incorrectly again.    (!) Always back up your database before performing any modification to the database. If possible, try your modifications on a test server.  {code:java}  update cru_revision   set cru_binary = true  where cru_revision_id in (      select cru_revision_id from cru_revision, cru_stored_path      where cru_revision.cru_path = cru_stored_path.cru_path_id          and cru_revision.cru_binary = false          and cru_stored_path.cru_path like 'DEFINE FILE PATTERNS HERE'  )    {code}",Bug,Low,Closed,"2016-05-19 16:12:26","2016-05-19 16:12:26",1
"Atlassian FishEye","As a user, I want to be able to reset the Timezone setting to its default value","h3. Problem Definition  Once an explicit value has been set for the Timezone setting in the [User Profile|https://confluence.atlassian.com/fisheye/changing-your-user-profile-298976815.html] area, it is not possible to reset it to its default value.    How to reproduce this behaviour:  # open the user settings, and set an explicit value for the timezone  # the {{cru_timezone}} column in the {{cru_user_profile}} table will be updated with the value set in the user interface  # open the user settings again, and set the default timezone (this is the first one in the list)  # the {{cru_timezone}} column will not be updated with an emtpy/null value, therefore the previously set timezone is still set  # when reopening the user interface, the previously set timezone is selected in the drop down    +Note+: for FishEye/Crucible < 4.x, the {{cru_timezone}} column can be found in the {{cru_user}} table    h3. Suggested Solution  Provide the ability to reset the Timezone setting to the default value.",Bug,Low,Closed,"2016-04-26 04:12:43","2016-04-26 04:12:43",0.5
"Atlassian FishEye","Incorrect time displayed for users with default timezone in their user profile","h3. Summary  An incorrect time is displayed for users with default timezone in their user profile.   The global server timezone is ignored and GMT time is displayed instead.  This affects various areas of the application, including:  - the Activity stream of a repository    h3. Steps to Reproduce  # Create two users in FishEye   ## {{test_emptytimezone}} without an explicitly set timezone option in his user profile  ## {{test_settimezone}} with an explicitly set timezone (equal to the default one) in his user profile  ## These are the setting of the two users in FishEye in the {{cruuser}} table !FE6489_cruuser_table.png|width=200px!  # Check the time on the Activity stream for a specific repository (the times indicated match the commit/push times)  # !FE6489_ActivityStream_correct.png|width=500px!    h3. Expected Results  The time of the repository operations (e.g. a push) is the same for both users.  !FE6489_ActivityStream_correct.png|width=700px!    h3. Actual Results  The time of the repository operations (e.g. a push) is *not the same for both users* and is incorrect for the user without an explicitly set timezone ({{test_emptytimezone}}).  !FE6489_ActivityStream_incorrect.png|width=700px!    h3. Notes  The problem occurs in the following conditions:  - when upgrading to version 4.0. ((i) As part of the upgrade to version 4.0, the {{cru_timezone}} column has been moved from the {{cru_user}} table to the {{cru_user_profile}}.)  - when creating the users directly in FishEye >= 4.0      h3.Workaround  Explicitly set the timezone for the affected users.  *Using the FishEye/Crucible user interface*  Each user can set the Timezone option in his [User Profile|https://confluence.atlassian.com/fisheye/changing-your-user-profile-298976815.html] page.    *Updating the timezone using a SQL command*  (!) Always back up your database before performing any modification to the database. If possible, try your modifications on a test server.  # Identify the users to be updated{noformat}  SELECT *   FROM cru_user_profile  WHERE cru_timezone is NULL OR  cru_timezone = '';  {noformat}  # Update them with the most common timezone for the users ('Australia/Sydney' in the example below)  {noformat}  UPDATE cru_user_profile  SET cru_timezone='Australia/Sydney'  WHERE cru_timezone is NULL OR  cru_timezone = '';  {noformat}",Bug,Low,Closed,"2016-04-19 08:13:55","2016-04-19 08:13:55",1
"Atlassian FishEye","Unable to change User List Visibility","The default option marked in User List Visibility configuration (in Administration > Security Settings > Authentication) is {{Public}}.    Clicking either in {{Visible to logged in users only}} or {{Hidden}} options reloads the page with a parameter value in the URL ({{userListVisibility=LOGGEDIN}} and {{userListVisibility=DISABLE}}, respectively), but when the page reloads {{Public}} still shows as selected.",Bug,Medium,Closed,"2016-04-12 20:37:04","2016-04-12 20:37:04",0.5
"Atlassian FishEye","LDAP users are not auto-added to user groups after login","h3.Summary    LDAP users synced to FishEye/Crucible cannot log in until they are manually added to the default fisheye-users/crucible-users groups although auto-add is defined Default Group Memberships.      h3.Steps to reproduce  1. Connect external LDAP directory to FishEye/Crucible. Enable Read Only, with Local Groups and ensure that {{fisheye-users,crucible-users}} is present in the Default Group Memberships field.    2. Check Directory Configuration Summary to ensure that {{autoAddGroups: fisheye-users|crucible-users}} is present.    3. Attempt to login with a user present in external LDAP and listed in Users section of the GUI.    h3.Expected Results    You should be able to login.    h3.Actual Results    User cannot login.    h3.Workaround    In the Global Permissions settings configure desired access to FishEye and/or Crucible, based on the remote ldap group membership (i.e. configure it for remote LDAP groups rather than local groups).  Alternatively, manually add user to fisheye-users and attempt to login again.   ",Bug,High,Closed,"2016-04-12 20:29:55","2016-04-12 20:29:55",0.5
"Atlassian FishEye","User groups with upper case letters are not displayed when editing the Permission Scheme details","h3. Summary  User groups with at least an upper case letter can be successfully added to a permission scheme, but are not displayed when viewing its details.    h3. Steps to Reproduce  # Edit a permission set of a Permission Scheme (Abandon in the screenshots)  !FE6471_editPermissionScheme.png|width=200px!  # Start typing the group name (you'll see every user group in the drop down, including the ones with upper case letters)  !FE6471_selectUserGroups.png|width=200px!  # Select a mix of user groups containing only lower case letters and upper case letters (test_group, testlowercase, TestUpperCase in the screenshot below)  !FE6471_selectedUserGroups.png|width=200px!  # Check the permission details in the overview, you'll see that every selected group is listed (all groups are lowercase)  !FE6471_checkPermissionScheme.png|width=200px!  # Open the details of the action    h3. Expected Results  All previously selected groups are displayed.    h3. Actual Results  The groups with at least one uppercase letter (TestUpperCase in the example) +are *not* displayed+.  !FE6471_checkActionDetails.png|width=200px!    h3. Notes  The groups are correctly stored in the database and associated to the permission scheme, see the {{cru_ps_group}} and {{cru_ps_id}} for reference.  Not all permission schemes are affected by this, in general the permissions are still applied as expected even for users belonging to groups with upper case letters with the exception mentioned on CRUC-7678.  This issue is caused by the case-insensitiveness introduced by the [FishEye 4.0 user directories|https://confluence.atlassian.com/fisheye/fisheye-4-0-user-directories-migration-815241247.html].    h3. Workaround  Recreate the groups with only lower case letters.  To restrict Permission Scheme and remove group [REST endpoint|https://docs.atlassian.com/fisheye-crucible/latest/wadl/fecru.html#d1e964] can be used",Bug,High,Closed,"2016-04-11 06:32:03","2016-04-11 06:32:03",0.5
"Atlassian FishEye","Backup of Oracle DB fails due to unknown type TIMESTAMP (93)","h2.DB backup  When we try to backup FishEye with an Oracle DB, we fail on unsupported {{TIMESTAMP (93)}} type:    {noformat}2016-04-08 15:30:33,220 INFO  [ThreadPool2 ] fisheye MessageLoggingProgressMonitor-update - 245 rows written, 41 of 76 tables completed.  2016-04-08 15:30:33,223 INFO  [ThreadPool2 ] fisheye HibernateUtil-makeWritable - DB going writable.  2016-04-08 15:30:33,224 WARN  [ThreadPool2 ] fisheye MessageLoggingProgressMonitor-update - Error reading database: Cannot encode value for unsupported column type: TIMESTAMP (93) of column .CREATED_DATE  2016-04-08 15:30:33,224 INFO  [ThreadPool2 ] fisheye MessageLoggingProgressMonitor-update - Backup failed  2016-04-08 15:30:33,224 WARN  [ThreadPool2 ] fisheye BackupManagerImpl$2-run - Backup failed.  java.io.IOException: Error reading database: Cannot encode value for unsupported column type: TIMESTAMP (93) of column .CREATED_DATE          at com.atlassian.crucible.migration.item.SQLBackup$SaverImpl.backup(SQLBackup.java:82) [fisheye.jar:?]          at com.atlassian.crucible.migration.BackupManagerImpl.createBackup(BackupManagerImpl.java:264) [fisheye.jar:?]          at com.atlassian.crucible.migration.BackupManagerImpl.access$000(BackupManagerImpl.java:55) [fisheye.jar:?]          at com.atlassian.crucible.migration.BackupManagerImpl$2$1.perform(BackupManagerImpl.java:153) [fisheye.jar:?]          at com.atlassian.crucible.migration.BackupManagerImpl$2$1.perform(BackupManagerImpl.java:151) [fisheye.jar:?]          at com.atlassian.crucible.maintenance.MaintenanceManager.doMaintenance(MaintenanceManager.java:111) [fisheye.jar:?]          at com.atlassian.crucible.migration.BackupManagerImpl$2.run(BackupManagerImpl.java:151) [fisheye.jar:?]          at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [?:1.8.0_60]          at java.util.concurrent.FutureTask.run(FutureTask.java:266) [?:1.8.0_60]          at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180) [?:1.8.0_60]          at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293) [?:1.8.0_60]          at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [?:1.8.0_60]          at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [?:1.8.0_60]          at java.lang.Thread.run(Thread.java:745) [?:1.8.0_60]  Caused by: java.sql.SQLException: Cannot encode value for unsupported column type: TIMESTAMP (93) of column .CREATED_DATE          at com.atlassian.crucible.migration.item.DBExporter.throwCantEncodeJdbcType(DBExporter.java:343) [fisheye.jar:?]          at com.atlassian.crucible.migration.item.DBExporter.access$400(DBExporter.java:35) [fisheye.jar:?]          at com.atlassian.crucible.migration.item.DBExporter$OracleColumnExporter.export(DBExporter.java:297) [fisheye.jar:?]          at com.atlassian.crucible.migration.item.DBExporter.exportRow(DBExporter.java:355) [fisheye.jar:?]          at com.atlassian.crucible.migration.item.DBExporter.exportTable(DBExporter.java:164) [fisheye.jar:?]          at com.atlassian.crucible.migration.item.DBExporter.exportData(DBExporter.java:103) [fisheye.jar:?]          at com.atlassian.crucible.migration.item.SQLBackup$SaverImpl.backup(SQLBackup.java:69) [fisheye.jar:?]          ... 13 more{noformat}    h2.DB migration  Broken backup means also broken DB migration. When current DB type is Oracle and I try to move to Postgres, the migration fails:    {noformat}Started  Starting ActiveObjects backup...  * Backing up Database Information  * Backing up Table Definitions  ** Table count: 5  * Backing up Tables  ** Backing up 'AO_2913F5_COMMENT_ISSUE'  ** Backing up 'AO_38321B_CUSTOM_CONTENT_LINK'  ** Backing up 'AO_8219D4_COMMIT_HOOK_CONFIG'  ** Backing up 'AO_A0B856_WEB_HOOK_LISTENER_AO'  ** Backing up 'AO_B434B9_WEB_HOOK'  ActiveObjects backup completed!  Dropping existing tables...  Cannot encode value for unsupported column type: TIMESTAMP (93) of column .CREATED_DATE  Database migration failed: java.sql.SQLException: Cannot encode value for unsupported column type: TIMESTAMP (93) of column .CREATED_DATE  Problem running drop script (you may have to manually drop the DB) /Users/<USER>src/fecru_a/output/dist/sql/POSTGRESQL/schema/drop_95.sql  Database migration failed: com.cenqua.crucible.hibernate.CruDBException: Problem running drop script (you may have to manually drop the DB) /Users/<USER>src/fecru_a/output/dist/sql/POSTGRESQL/schema/drop_95.sql{noformat}    FishEye instance correctly carries on using the old DB.",Bug,High,Closed,"2016-04-06 15:14:02","2016-04-06 15:14:02",2
"Atlassian FishEye","Active object race condition in DB migration/restore (potentially to Oracle only)","In {{com.atlassian.crucible.actions.admin.database.DBEditHelper#migrateToDB}} we start Active Objects in {{changeDB()}}. This eventually causes AO writing to the DB and creating tables/sequences should these not exist (in {{net.java.ao.EntityManager#migrate}}). Then we start restoring the backup.    There is a race between the DB restore and AO starting. If AO creates an {{AO_*}} sequence by the time we try to restore it from the backup, we fail with the following message:  {noformat}2016-04-06 12:21:11,880 INFO  [ThreadPool1 ] fisheye DefaultDBControl-stop - Shutdown in progress...  2016-04-06 12:21:11,888 INFO  [ThreadPool1 ] fisheye DefaultDBControl-start - Starting database...  2016-04-06 12:21:11,924 DEBUG [ThreadPool1 ] fisheye HibernateUtil-setUp - Configuring db pools with (min/max connections): main(5,17), retriable(3,3).  2016-04-06 12:21:12,112 INFO  [ThreadPool1 ] fisheye Config-setUpStatementTracking - BoneCP - tracking statements enabled for pool [mainPool]  2016-04-06 12:21:12,688 INFO  [ThreadPool1 ] fisheye Config-setUpStatementTracking - BoneCP - tracking statements enabled for pool [retriablePool]  2016-04-06 12:21:13,155 INFO  [ThreadPool1 ] fisheye DefaultDBControl-start - Database started.  2016-04-06 12:21:17,051 ERROR [ThreadPool1 ] fisheye DBEditHelper-migrateToDB - Database migration failed  com.atlassian.activeobjects.spi.ActiveObjectsImportExportException: There was an error during import/export with plugin Atlassian Navigation Links Plugin(com.atlassian.plugins.atlassian-nav-links-plugin) #3.3.21 (table AO_38321B_CUSTOM_CONTENT_LINK):Error executing update for SQL statement 'CREATE SEQUENCE AO_38321B_CUSTOM_CO518521787 INCREMENT BY 1 START WITH 1 NOMAXVALUE MINVALUE 1'   at com.atlassian.activeobjects.backup.ImportExportErrorServiceImpl.newImportExportSqlException(ImportExportErrorServiceImpl.java:26) [?:?]   at com.atlassian.activeobjects.backup.SqlUtils.onSqlException(SqlUtils.java:46) [?:?]   at com.atlassian.activeobjects.backup.SqlUtils.executeUpdate(SqlUtils.java:37) [?:?]   at com.atlassian.activeobjects.backup.ActiveObjectsTableCreator.create(ActiveObjectsTableCreator.java:73) [?:?]   at com.atlassian.activeobjects.backup.ActiveObjectsTableCreator.create(ActiveObjectsTableCreator.java:57) [?:?]   at com.atlassian.dbexporter.importer.TableDefinitionImporter.doImportNode(TableDefinitionImporter.java:50) [?:?]   at com.atlassian.dbexporter.importer.AbstractImporter.importNode(AbstractImporter.java:44) [?:?]   at com.atlassian.dbexporter.DbImporter.importData(DbImporter.java:69) [?:?]   at com.atlassian.activeobjects.backup.ActiveObjectsBackup.restore(ActiveObjectsBackup.java:151) [?:?]   at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) [?:1.8.0_60]   at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) [?:1.8.0_60]   at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [?:1.8.0_60]   at java.lang.reflect.Method.invoke(Method.java:497) [?:1.8.0_60]   at com.atlassian.applinks.host.OsgiServiceProxyFactory$DynamicServiceInvocationHandler.invoke(OsgiServiceProxyFactory.java:110) [applinks-host-5.1.0.jar:?]   at com.sun.proxy.$Proxy137.restore(Unknown Source) [?:?]   at com.atlassian.crucible.actions.admin.database.DBEditHelper.migrateToDB(DBEditHelper.java:339) [fisheye.jar:?]   at com.atlassian.crucible.actions.admin.database.MigrateDatabaseAction$AsynchronousMigrater.migrateToDB(MigrateDatabaseAction.java:83) [fisheye.jar:?]   at com.atlassian.crucible.actions.admin.database.MigrateDatabaseAction$1$1.perform(MigrateDatabaseAction.java:141) [fisheye.jar:?]   at com.atlassian.crucible.actions.admin.database.MigrateDatabaseAction$1$1.perform(MigrateDatabaseAction.java:139) [fisheye.jar:?]   at com.atlassian.crucible.maintenance.MaintenanceManager.doMaintenance(MaintenanceManager.java:111) [fisheye.jar:?]   at com.atlassian.crucible.actions.admin.database.MigrateDatabaseAction$1.run(MigrateDatabaseAction.java:139) [fisheye.jar:?]   at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [?:1.8.0_60]   at java.util.concurrent.FutureTask.run(FutureTask.java:266) [?:1.8.0_60]   at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180) [?:1.8.0_60]   at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293) [?:1.8.0_60]   at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [?:1.8.0_60]   at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [?:1.8.0_60]   at java.lang.Thread.run(Thread.java:745) [?:1.8.0_60]  Caused by: java.sql.SQLSyntaxErrorException: ORA-00955: name is already used by an existing object         at oracle.jdbc.driver.T4CTTIoer.processError(T4CTTIoer.java:450) [ojdbc7-12cR1.jar:12.1.0.2.0]   at oracle.jdbc.driver.T4CTTIoer.processError(T4CTTIoer.java:399) [ojdbc7-12cR1.jar:12.1.0.2.0]   at oracle.jdbc.driver.T4C8Oall.processError(T4C8Oall.java:1059) [ojdbc7-12cR1.jar:12.1.0.2.0]   at oracle.jdbc.driver.T4CTTIfun.receive(T4CTTIfun.java:522) [ojdbc7-12cR1.jar:12.1.0.2.0]   at oracle.jdbc.driver.T4CTTIfun.doRPC(T4CTTIfun.java:257) [ojdbc7-12cR1.jar:12.1.0.2.0]   at oracle.jdbc.driver.T4C8Oall.doOALL(T4C8Oall.java:587) [ojdbc7-12cR1.jar:12.1.0.2.0]   at oracle.jdbc.driver.T4CStatement.doOall8(T4CStatement.java:210) [ojdbc7-12cR1.jar:12.1.0.2.0]   at oracle.jdbc.driver.T4CStatement.doOall8(T4CStatement.java:30) [ojdbc7-12cR1.jar:12.1.0.2.0]   at oracle.jdbc.driver.T4CStatement.executeForRows(T4CStatement.java:931) [ojdbc7-12cR1.jar:12.1.0.2.0]   at oracle.jdbc.driver.OracleStatement.doExecuteWithTimeout(OracleStatement.java:1150) [ojdbc7-12cR1.jar:12.1.0.2.0]   at oracle.jdbc.driver.OracleStatement.executeUpdateInternal(OracleStatement.java:1707) [ojdbc7-12cR1.jar:12.1.0.2.0]   at oracle.jdbc.driver.OracleStatement.executeUpdate(OracleStatement.java:1670) [ojdbc7-12cR1.jar:12.1.0.2.0]   at oracle.jdbc.driver.OracleStatementWrapper.executeUpdate(OracleStatementWrapper.java:310) [ojdbc7-12cR1.jar:12.1.0.2.0]   at com.jolbox.bonecp.StatementHandle.executeUpdate(StatementHandle.java:536) [bonecp-0.7.1.RELEASE.jar:0.7.1.RELEASE]   at sun.reflect.GeneratedMethodAccessor437.invoke(Unknown Source) [?:?]   at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [?:1.8.0_60]   at java.lang.reflect.Method.invoke(Method.java:497) [?:1.8.0_60]   at com.cenqua.crucible.hibernate.trackingstatements.TrackingStatementFactory$1.handleInvocation(TrackingStatementFactory.java:25) [fisheye.jar:?]   at com.google.common.reflect.AbstractInvocationHandler.invoke(AbstractInvocationHandler.java:87) [guava-18.0.jar:?]   at com.sun.proxy.$Proxy901.executeUpdate(Unknown Source) [?:?]   at com.atlassian.activeobjects.backup.SqlUtils.executeUpdate(SqlUtils.java:34) [?:?]   ... 25 more  {noformat}    This is potentially only related to the Oracle DB, where sequences are created immediately with tables. Threads taking part in the race are {{ThreadPool1}} and {{active-objects-init-compatibility-tenant-0}}.    *This affects not only migration, but also restore from a backup file.*    h1. Workaround    If this occurs, the non ActiveObjects data is migrated already, and FishEye is already switched to using the DB. The user can manually finish the migration, by stopping the instance, and copying over the AO_* tables if needed.",Bug,Medium,Closed,"2016-04-06 15:05:12","2016-04-06 15:05:12",1
"Atlassian FishEye","Dead link in renewal notification banner","Please see screenshot.    www.atlassian.com/fisheye/renew goes to a 404 page.    They can actually renew at https://www.atlassian.com/purchase/renew.    Thanks for your help!",Bug,Low,Closed,"2016-04-04 15:38:51","2016-04-04 15:38:51",0.2
"Atlassian FishEye","Update 3.10 -> 4.0 fails if crowd resyncGroupsList contains fisheye-users or crucible-users","h2.Problem description  On update 3.10 -> 4.0 we create two special default groups {{fisheye-users}} and {{crucible-users}} with FishEye/Crucible global permissions respectively. This happens in {{com.cenqua.crucible.hibernate.upgrade.crowd.MigrateUserLicenses}}.    Further on, we add global permissions for all the groups in {{config.xml/security/crowd/resyncGroupsList}}. If user had {{fisheye-users}} or {{crucible-users}} defined there, we fail, because these groups have had the global permissions already added in {{#addDefaultGroups}}.    h2.If an update has failed  Once the update has failed because of {{fisheye-users}} or {{crucible-users}} groups, you first have to roll back to previous working version (3.10.3 or earlier) before continuing.    h2.Workaround for updating to 4.0.0 and 4.0.1  Before upgrading to 4.0, remove {{<group name=fisheye-users/>}} and {{<group name=crucible-users/>}} from {{config.xml/security/crowd/resyncGroupsList}}. Leave the other groups intact.    h2.Updating to 4.0.2  Provided you start from a working instance (not one that has failed to upgrade to 4.0.0/4.0.1), upgrading to 4.0.2 does not require any extra steps regarding this issue.    h2.Message on the first run  {noformat} 2016-03-17 10:58:22,799 INFO  - Migrating user licenses  2016-03-17 10:58:22,810 INFO  - Creating group fisheye-users with permission 'FishEye users'  2016-03-17 10:58:22,829 INFO  - Creating group crucible-users with permission 'Crucible users'  2016-03-17 10:58:22,860 INFO  - Adding permission to Crowd group fisheye-users  2016-03-17 10:58:22,913 ERROR - The Web context could not be started  org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dbControlFactory' defined in ServletContext resource [/WEB-INF/applicationContext.xml]: Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Could not instantiate bean class [com.cenqua.crucible.hibernate.DBControlFactoryImpl]: Constructor threw exception; nested exception is com.cenqua.crucible.hibernate.CruDBException: Problem upgrading with script /opt/atlassian/fecru-4.0.1/sql/ORACLE/upgrade/upgrade_92.sql: java.sql.SQLIntegrityConstraintViolationException: ORA-00001: unique constraint (FISHEYE.UK_GP_GROUP_NAME) violated            at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:278) [spring-beans-4.0.9.RELEASE.jar:4.0.9.RELEASE]          at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1115) [spring-beans-4.0.9.RELEASE.jar:4.0.9.RELEASE]          at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1018) [spring-beans-4.0.9.RELEASE.jar:4.0.9.RELEASE]          at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:504) [spring-beans-4.0.9.RELEASE.jar:4.0.9.RELEASE]          at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:475) [spring-beans-4.0.9.RELEASE.jar:4.0.9.RELEASE]          at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:302) [spring-beans-4.0.9.RELEASE.jar:4.0.9.RELEASE]          at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:229) [spring-beans-4.0.9.RELEASE.jar:4.0.9.RELEASE]          at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:298) [spring-beans-4.0.9.RELEASE.jar:4.0.9.RELEASE]          at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:193) [spring-beans-4.0.9.RELEASE.jar:4.0.9.RELEASE]          at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:706) [spring-beans-4.0.9.RELEASE.jar:4.0.9.RELEASE]          at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:762) [spring-context-4.0.9.RELEASE.jar:4.0.9.RELEASE]          at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:482) [spring-context-4.0.9.RELEASE.jar:4.0.9.RELEASE]          at org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:403) [spring-web-4.0.9.RELEASE.jar:4.0.9.RELEASE]          at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:306) [spring-web-4.0.9.RELEASE.jar:4.0.9.RELEASE]          at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:106) [spring-web-4.0.9.RELEASE.jar:4.0.9.RELEASE]          at org.eclipse.jetty.server.handler.ContextHandler.callContextInitialized(ContextHandler.java:775) [jetty-server-8.1.10.v20130312.jar:8.1.10.v20130312]          at org.eclipse.jetty.servlet.ServletContextHandler.callContextInitialized(ServletContextHandler.java:424) [jetty-servlet-8.1.10.v20130312.jar:8.1.10.v20130312]          at org.eclipse.jetty.server.handler.ContextHandler.startContext(ContextHandler.java:767) [jetty-server-8.1.10.v20130312.jar:8.1.10.v20130312]          at org.eclipse.jetty.servlet.ServletContextHandler.startContext(ServletContextHandler.java:249) [jetty-servlet-8.1.10.v20130312.jar:8.1.10.v20130312]          at org.eclipse.jetty.webapp.WebAppContext.startContext(WebAppContext.java:1252) [jetty-webapp-8.1.10.v20130312.jar:8.1.10.v20130312]          at org.eclipse.jetty.server.handler.ContextHandler.doStart(ContextHandler.java:710) [jetty-server-8.1.10.v20130312.jar:8.1.10.v20130312]          at org.eclipse.jetty.webapp.WebAppContext.doStart(WebAppContext.java:494) [jetty-webapp-8.1.10.v20130312.jar:8.1.10.v20130312]          at com.cenqua.fisheye.web.jetty.FishEyeWebApplicationContext.doStart(FishEyeWebApplicationContext.java:32) [fisheye.jar:?]          at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:64) [jetty-util-8.1.10.v20130312.jar:8.1.10.v20130312]          at org.eclipse.jetty.server.handler.HandlerCollection.doStart(HandlerCollection.java:229) [jetty-server-8.1.10.v20130312.jar:8.1.10.v20130312]          at org.eclipse.jetty.server.handler.ContextHandlerCollection.doStart(ContextHandlerCollection.java:172) [jetty-server-8.1.10.v20130312.jar:8.1.10.v20130312]          at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:64) [jetty-util-8.1.10.v20130312.jar:8.1.10.v20130312]          at org.eclipse.jetty.server.handler.HandlerCollection.doStart(HandlerCollection.java:229) [jetty-server-8.1.10.v20130312.jar:8.1.10.v20130312]          at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:64) [jetty-util-8.1.10.v20130312.jar:8.1.10.v20130312]          at org.eclipse.jetty.server.handler.HandlerWrapper.doStart(HandlerWrapper.java:95) [jetty-server-8.1.10.v20130312.jar:8.1.10.v20130312]          at org.eclipse.jetty.server.Server.doStart(Server.java:280) [jetty-server-8.1.10.v20130312.jar:8.1.10.v20130312]          at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:64) [jetty-util-8.1.10.v20130312.jar:8.1.10.v20130312]          at com.cenqua.fisheye.web.WebServer.start(WebServer.java:335) [fisheye.jar:?]          at com.cenqua.fisheye.ctl.Run.mainImpl(Run.java:229) [fisheye.jar:?]          at com.cenqua.fisheye.ctl.Run.main(Run.java:56) [fisheye.jar:?]          at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) [?:1.8.0_71]          at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) [?:1.8.0_71]          at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [?:1.8.0_71]          at java.lang.reflect.Method.invoke(Method.java:497) [?:1.8.0_71]          at com.cenqua.fisheye.FishEyeCtl.mainImpl(FishEyeCtl.java:101) [fisheyeboot.jar:?]          at com.cenqua.fisheye.FishEyeCtl.main(FishEyeCtl.java:44) [fisheyeboot.jar:?]  Caused by: org.springframework.beans.BeanInstantiationException: Could not instantiate bean class [com.cenqua.crucible.hibernate.DBControlFactoryImpl]: Constructor threw exception; nested exception is com.cenqua.crucible.hibernate.CruDBException: Problem upgrading with script /opt/atlassian/fecru-4.0.1/sql/ORACLE/upgrade/upgrade_92.sql: java.sql.SQLIntegrityConstraintViolationException: ORA-00001: unique constraint (FISHEYE.UK_GP_GROUP_NAME) violated            at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:164) [spring-beans-4.0.9.RELEASE.jar:4.0.9.RELEASE]          at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:125) [spring-beans-4.0.9.RELEASE.jar:4.0.9.RELEASE]          at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:270) [spring-beans-4.0.9.RELEASE.jar:4.0.9.RELEASE]          ... 40 more  Caused by: com.cenqua.crucible.hibernate.CruDBException: Problem upgrading with script /opt/atlassian/fecru-4.0.1/sql/ORACLE/upgrade/upgrade_92.sql: java.sql.SQLIntegrityConstraintViolationException: ORA-00001: unique constraint (FISHEYE.UK_GP_GROUP_NAME) violated            at com.cenqua.crucible.hibernate.DefaultDBControl.upgrade(DefaultDBControl.java:432) [fisheye.jar:?]          at com.cenqua.crucible.hibernate.DefaultDBControl.start(DefaultDBControl.java:260) [fisheye.jar:?]          at com.cenqua.crucible.hibernate.DefaultDBControl.start(DefaultDBControl.java:242) [fisheye.jar:?]          at com.cenqua.crucible.hibernate.DBControlFactoryImpl.<init>(DBControlFactoryImpl.java:40) [fisheye.jar:?]          at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) [?:1.8.0_71]          at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) [?:1.8.0_71]          at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) [?:1.8.0_71]          at java.lang.reflect.Constructor.newInstance(Constructor.java:422) [?:1.8.0_71]          at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:148) [spring-beans-4.0.9.RELEASE.jar:4.0.9.RELEASE]          ... 42 more  Caused by: java.lang.RuntimeException: java.sql.SQLIntegrityConstraintViolationException: ORA-00001: unique constraint (FISHEYE.UK_GP_GROUP_NAME) violated            at com.cenqua.crucible.hibernate.upgrade.crowd.CrowdUpgradeUtil.executeUpdate(CrowdUpgradeUtil.java:70) [fisheye.jar:?]          at com.cenqua.crucible.hibernate.upgrade.crowd.MigrateUserLicenses.addGlobalPermission(MigrateUserLicenses.java:190) [fisheye.jar:?]          at com.cenqua.crucible.hibernate.upgrade.crowd.MigrateUserLicenses.lambda$null$127(MigrateUserLicenses.java:75) [fisheye.jar:?]          at java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184) [?:1.8.0_71]          at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193) [?:1.8.0_71]          at java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:948) [?:1.8.0_71]          at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481) [?:1.8.0_71]          at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471) [?:1.8.0_71]          at java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151) [?:1.8.0_71]          at java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174) [?:1.8.0_71]          at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) [?:1.8.0_71]          at java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:418) [?:1.8.0_71]          at com.cenqua.crucible.hibernate.upgrade.crowd.MigrateUserLicenses.lambda$migrateCrowdGroups$128(MigrateUserLicenses.java:88) [fisheye.jar:?]          at java.util.Optional.ifPresent(Optional.java:159) [?:1.8.0_71]          at com.cenqua.crucible.hibernate.upgrade.crowd.MigrateUserLicenses.migrateCrowdGroups(MigrateUserLicenses.java:72) [fisheye.jar:?]          at com.cenqua.crucible.hibernate.upgrade.crowd.MigrateUserLicenses.perform(MigrateUserLicenses.java:66) [fisheye.jar:?]          at com.cenqua.crucible.hibernate.upgrade.crowd.EmbeddedCrowdUpgradeTask.afterUpgradeScript(EmbeddedCrowdUpgradeTask.java:83) [fisheye.jar:?]          at com.cenqua.crucible.hibernate.upgrade.UpgradeTaskManager$ChainedUpgradeTask.afterUpgradeScript(UpgradeTaskManager.java:40) [fisheye.jar:?]          at com.cenqua.crucible.hibernate.DefaultDBControl.doUpgrade(DefaultDBControl.java:467) [fisheye.jar:?]          at com.cenqua.crucible.hibernate.DefaultDBControl.upgrade(DefaultDBControl.java:423) [fisheye.jar:?]          ... 50 more  Caused by: java.sql.SQLIntegrityConstraintViolationException: ORA-00001: unique constraint (FISHEYE.UK_GP_GROUP_NAME) violated            at oracle.jdbc.driver.T4CTTIoer.processError(T4CTTIoer.java:450) [ojdbc7-12cR1.jar:12.1.0.2.0]          at oracle.jdbc.driver.T4CTTIoer.processError(T4CTTIoer.java:399) [ojdbc7-12cR1.jar:12.1.0.2.0]          at oracle.jdbc.driver.T4C8Oall.processError(T4C8Oall.java:1059) [ojdbc7-12cR1.jar:12.1.0.2.0]          at oracle.jdbc.driver.T4CTTIfun.receive(T4CTTIfun.java:522) [ojdbc7-12cR1.jar:12.1.0.2.0]          at oracle.jdbc.driver.T4CTTIfun.doRPC(T4CTTIfun.java:257) [ojdbc7-12cR1.jar:12.1.0.2.0]          at oracle.jdbc.driver.T4C8Oall.doOALL(T4C8Oall.java:587) [ojdbc7-12cR1.jar:12.1.0.2.0]          at oracle.jdbc.driver.T4CPreparedStatement.doOall8(T4CPreparedStatement.java:225) [ojdbc7-12cR1.jar:12.1.0.2.0]          at oracle.jdbc.driver.T4CPreparedStatement.doOall8(T4CPreparedStatement.java:53) [ojdbc7-12cR1.jar:12.1.0.2.0]          at oracle.jdbc.driver.T4CPreparedStatement.executeForRows(T4CPreparedStatement.java:943) [ojdbc7-12cR1.jar:12.1.0.2.0]          at oracle.jdbc.driver.OracleStatement.doExecuteWithTimeout(OracleStatement.java:1150) [ojdbc7-12cR1.jar:12.1.0.2.0]          at oracle.jdbc.driver.OraclePreparedStatement.executeInternal(OraclePreparedStatement.java:4798) [ojdbc7-12cR1.jar:12.1.0.2.0]          at oracle.jdbc.driver.OraclePreparedStatement.executeUpdate(OraclePreparedStatement.java:4875) [ojdbc7-12cR1.jar:12.1.0.2.0]          at oracle.jdbc.driver.OraclePreparedStatementWrapper.executeUpdate(OraclePreparedStatementWrapper.java:1361) [ojdbc7-12cR1.jar:12.1.0.2.0]          at com.cenqua.crucible.hibernate.upgrade.crowd.CrowdUpgradeUtil.executeUpdate(CrowdUpgradeUtil.java:67) [fisheye.jar:?]          ... 69 more  {noformat}    h2.Message on subsequent runs  DB is left in an inconsistent state, so subsequent attempts to start FishEye/Crucible fails with this output:  {noformat}2016-03-17 10:59:00,659 INFO  - Upgrading DB from version 92 using /opt/atlassian/fecru-4.0.1/sql/ORACLE/upgrade/upgrade_92.sql  2016-03-17 10:59:00,820 ERROR - The Web context could not be started  org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dbControlFactory' defined in ServletContext resource [/WEB-INF/applicationContext.xml]: Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Could not instantiate bean class [com.cenqua.crucible.hibernate.DBControlFactoryImpl]: Constructor threw exception; nested exception is com.cenqua.crucible.hibernate.CruDBException: Problem upgrading with script /opt/atlassian/fecru-4.0.1/sql/ORACLE/upgrade/upgrade_92.sql: SQL script error on line 1: create table cwd_app_dir_group_mapping (id number(19,0) not null, app_dir_mapping_id number(19,0) not null, application_id number(19,0) not null, directory_id number(19,0) not null, group_name varchar2(255 char) not null, primary key (id));      (ORA-00955: name is already used by an existing object      ), please contact http://www.atlassian.com/support/          at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:278) [spring-beans-4.0.9.RELEASE.jar:4.0.9.RELEASE]          at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1115) [spring-beans-4.0.9.RELEASE.jar:4.0.9.RELEASE]          at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1018) [spring-beans-4.0.9.RELEASE.jar:4.0.9.RELEASE]          at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:504) [spring-beans-4.0.9.RELEASE.jar:4.0.9.RELEASE]          at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:475) [spring-beans-4.0.9.RELEASE.jar:4.0.9.RELEASE]          at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:302) [spring-beans-4.0.9.RELEASE.jar:4.0.9.RELEASE]          at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:229) [spring-beans-4.0.9.RELEASE.jar:4.0.9.RELEASE]          at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:298) [spring-beans-4.0.9.RELEASE.jar:4.0.9.RELEASE]          at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:193) [spring-beans-4.0.9.RELEASE.jar:4.0.9.RELEASE]          at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:706) [spring-beans-4.0.9.RELEASE.jar:4.0.9.RELEASE]          at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:762) [spring-context-4.0.9.RELEASE.jar:4.0.9.RELEASE]          at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:482) [spring-context-4.0.9.RELEASE.jar:4.0.9.RELEASE]          at org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:403) [spring-web-4.0.9.RELEASE.jar:4.0.9.RELEASE]          at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:306) [spring-web-4.0.9.RELEASE.jar:4.0.9.RELEASE]          at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:106) [spring-web-4.0.9.RELEASE.jar:4.0.9.RELEASE]          at org.eclipse.jetty.server.handler.ContextHandler.callContextInitialized(ContextHandler.java:775) [jetty-server-8.1.10.v20130312.jar:8.1.10.v20130312]          at org.eclipse.jetty.servlet.ServletContextHandler.callContextInitialized(ServletContextHandler.java:424) [jetty-servlet-8.1.10.v20130312.jar:8.1.10.v20130312]          at org.eclipse.jetty.server.handler.ContextHandler.startContext(ContextHandler.java:767) [jetty-server-8.1.10.v20130312.jar:8.1.10.v20130312]          at org.eclipse.jetty.servlet.ServletContextHandler.startContext(ServletContextHandler.java:249) [jetty-servlet-8.1.10.v20130312.jar:8.1.10.v20130312]          at org.eclipse.jetty.webapp.WebAppContext.startContext(WebAppContext.java:1252) [jetty-webapp-8.1.10.v20130312.jar:8.1.10.v20130312]          at org.eclipse.jetty.server.handler.ContextHandler.doStart(ContextHandler.java:710) [jetty-server-8.1.10.v20130312.jar:8.1.10.v20130312]          at org.eclipse.jetty.webapp.WebAppContext.doStart(WebAppContext.java:494) [jetty-webapp-8.1.10.v20130312.jar:8.1.10.v20130312]          at com.cenqua.fisheye.web.jetty.FishEyeWebApplicationContext.doStart(FishEyeWebApplicationContext.java:32) [fisheye.jar:?]          at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:64) [jetty-util-8.1.10.v20130312.jar:8.1.10.v20130312]          at org.eclipse.jetty.server.handler.HandlerCollection.doStart(HandlerCollection.java:229) [jetty-server-8.1.10.v20130312.jar:8.1.10.v20130312]          at org.eclipse.jetty.server.handler.ContextHandlerCollection.doStart(ContextHandlerCollection.java:172) [jetty-server-8.1.10.v20130312.jar:8.1.10.v20130312]          at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:64) [jetty-util-8.1.10.v20130312.jar:8.1.10.v20130312]          at org.eclipse.jetty.server.handler.HandlerCollection.doStart(HandlerCollection.java:229) [jetty-server-8.1.10.v20130312.jar:8.1.10.v20130312]          at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:64) [jetty-util-8.1.10.v20130312.jar:8.1.10.v20130312]          at org.eclipse.jetty.server.handler.HandlerWrapper.doStart(HandlerWrapper.java:95) [jetty-server-8.1.10.v20130312.jar:8.1.10.v20130312]          at org.eclipse.jetty.server.Server.doStart(Server.java:280) [jetty-server-8.1.10.v20130312.jar:8.1.10.v20130312]          at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:64) [jetty-util-8.1.10.v20130312.jar:8.1.10.v20130312]          at com.cenqua.fisheye.web.WebServer.start(WebServer.java:335) [fisheye.jar:?]          at com.cenqua.fisheye.ctl.Run.mainImpl(Run.java:229) [fisheye.jar:?]          at com.cenqua.fisheye.ctl.Run.main(Run.java:56) [fisheye.jar:?]          at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) [?:1.8.0_71]          at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) [?:1.8.0_71]          at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [?:1.8.0_71]          at java.lang.reflect.Method.invoke(Method.java:497) [?:1.8.0_71]          at com.cenqua.fisheye.FishEyeCtl.mainImpl(FishEyeCtl.java:101) [fisheyeboot.jar:?]          at com.cenqua.fisheye.FishEyeCtl.main(FishEyeCtl.java:44) [fisheyeboot.jar:?]  Caused by: org.springframework.beans.BeanInstantiationException: Could not instantiate bean class [com.cenqua.crucible.hibernate.DBControlFactoryImpl]: Constructor threw exception; nested exception is com.cenqua.crucible.hibernate.CruDBException: Problem upgrading with script /opt/atlassian/fecru-4.0.1/sql/ORACLE/upgrade/upgrade_92.sql: SQL script error on line 1: create table cwd_app_dir_group_mapping (id number(19,0) not null, app_dir_mapping_id number(19,0) not null, application_id number(19,0) not null, directory_id number(19,0) not null, group_name varchar2(255 char) not null, primary key (id));      (ORA-00955: name is already used by an existing object      ), please contact http://www.atlassian.com/support/          at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:164) [spring-beans-4.0.9.RELEASE.jar:4.0.9.RELEASE]          at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:125) [spring-beans-4.0.9.RELEASE.jar:4.0.9.RELEASE]          at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:270) [spring-beans-4.0.9.RELEASE.jar:4.0.9.RELEASE]          ... 40 more  Caused by: com.cenqua.crucible.hibernate.CruDBException: Problem upgrading with script /opt/atlassian/fecru-4.0.1/sql/ORACLE/upgrade/upgrade_92.sql: SQL script error on line 1: create table cwd_app_dir_group_mapping (id number(19,0) not null, app_dir_mapping_id number(19,0) not null, application_id number(19,0) not null, directory_id number(19,0) not null, group_name varchar2(255 char) not null, primary key (id));      (ORA-00955: name is already used by an existing object      ), please contact http://www.atlassian.com/support/          at com.cenqua.crucible.hibernate.DefaultDBControl.upgrade(DefaultDBControl.java:432) [fisheye.jar:?]          at com.cenqua.crucible.hibernate.DefaultDBControl.start(DefaultDBControl.java:260) [fisheye.jar:?]          at com.cenqua.crucible.hibernate.DefaultDBControl.start(DefaultDBControl.java:242) [fisheye.jar:?]          at com.cenqua.crucible.hibernate.DBControlFactoryImpl.<init>(DBControlFactoryImpl.java:40) [fisheye.jar:?]          at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) [?:1.8.0_71]          at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) [?:1.8.0_71]          at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) [?:1.8.0_71]          at java.lang.reflect.Constructor.newInstance(Constructor.java:422) [?:1.8.0_71]          at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:148) [spring-beans-4.0.9.RELEASE.jar:4.0.9.RELEASE]          ... 42 more  Caused by: com.cenqua.crucible.hibernate.CruDBException: SQL script error on line 1: create table cwd_app_dir_group_mapping (id number(19,0) not null, app_dir_mapping_id number(19,0) not null, application_id number(19,0) not null, directory_id number(19,0) not null, group_name varchar2(255 char) not null, primary key (id));      (ORA-00955: name is already used by an existing object      ), please contact http://www.atlassian.com/support/          at com.cenqua.crucible.hibernate.DefaultDBControl.executeScript(DefaultDBControl.java:576) [fisheye.jar:?]          at com.cenqua.crucible.hibernate.DefaultDBControl.executeScript(DefaultDBControl.java:507) [fisheye.jar:?]          at com.cenqua.crucible.hibernate.DefaultDBControl.doUpgrade(DefaultDBControl.java:465) [fisheye.jar:?]          at com.cenqua.crucible.hibernate.DefaultDBControl.upgrade(DefaultDBControl.java:423) [fisheye.jar:?]          ... 50 more  Caused by: java.sql.SQLSyntaxErrorException: ORA-00955: name is already used by an existing object            at oracle.jdbc.driver.T4CTTIoer.processError(T4CTTIoer.java:450) [ojdbc7-12cR1.jar:12.1.0.2.0]          at oracle.jdbc.driver.T4CTTIoer.processError(T4CTTIoer.java:399) [ojdbc7-12cR1.jar:12.1.0.2.0]          at oracle.jdbc.driver.T4C8Oall.processError(T4C8Oall.java:1059) [ojdbc7-12cR1.jar:12.1.0.2.0]          at oracle.jdbc.driver.T4CTTIfun.receive(T4CTTIfun.java:522) [ojdbc7-12cR1.jar:12.1.0.2.0]          at oracle.jdbc.driver.T4CTTIfun.doRPC(T4CTTIfun.java:257) [ojdbc7-12cR1.jar:12.1.0.2.0]          at oracle.jdbc.driver.T4C8Oall.doOALL(T4C8Oall.java:587) [ojdbc7-12cR1.jar:12.1.0.2.0]          at oracle.jdbc.driver.T4CStatement.doOall8(T4CStatement.java:210) [ojdbc7-12cR1.jar:12.1.0.2.0]          at oracle.jdbc.driver.T4CStatement.doOall8(T4CStatement.java:30) [ojdbc7-12cR1.jar:12.1.0.2.0]          at oracle.jdbc.driver.T4CStatement.executeForRows(T4CStatement.java:931) [ojdbc7-12cR1.jar:12.1.0.2.0]          at oracle.jdbc.driver.OracleStatement.doExecuteWithTimeout(OracleStatement.java:1150) [ojdbc7-12cR1.jar:12.1.0.2.0]          at oracle.jdbc.driver.OracleStatement.executeUpdateInternal(OracleStatement.java:1707) [ojdbc7-12cR1.jar:12.1.0.2.0]          at oracle.jdbc.driver.OracleStatement.executeUpdate(OracleStatement.java:1670) [ojdbc7-12cR1.jar:12.1.0.2.0]          at oracle.jdbc.driver.OracleStatementWrapper.executeUpdate(OracleStatementWrapper.java:310) [ojdbc7-12cR1.jar:12.1.0.2.0]          at com.cenqua.crucible.hibernate.DefaultDBControl.executeScript(DefaultDBControl.java:548) [fisheye.jar:?]          ... 53 more{noformat}",Bug,High,Closed,"2016-03-17 07:58:00","2016-03-17 07:58:00",1
"Atlassian FishEye","Both Favourites and Profile settings links open Favourites tab",,Suggestion,,Closed,"2016-03-08 10:58:56","2016-03-08 10:58:56",0.5
"Atlassian FishEye","Support Microsoft SQL Server 2016","Support MS SQL Server 2016 SP1 in Fisheye and Crucible    EOL dates are as follows:    | MS SQL version | Microsoft EOL date | Supported by Fisheye/Crucible |  | SQL 2012 SP4 | 11 July 2017 (x) | (/) |  | SQL 2014 SP2 | 9 July 2019 (/) | (/)  |  | SQL 2016 SP1 | 13 July 2021 (/) | (x) |",Suggestion,,Closed,"2016-03-01 14:53:52","2016-03-01 14:53:52",0
"Atlassian FishEye","origUrl leads to a page that makes no sense after logging in","Steps to reproduce:  # Start with no user logged in  # Click Signup of an account  # Click Log in; at this point you go to {{login?origUrl=/foo/login/signup.do}}  # Fill in existing username/password details and click Login  # You get redirected to {{login/signup.do?_redir=login}}    It's a very unusual flow, hence trivial priority.    Related, more reasonable scenario (where, on the other hand, the redirect is missing):  # navigate to /admin page  # click or log in as a user with Admin privileges  # type in username/password and click log in  # you get redirected to the main FishEye page, rather than to the admin panel",Bug,Low,Closed,"2016-02-18 14:50:57","2016-02-18 14:50:57",1
"Atlassian FishEye","admin/group search could search on a substring, rather than prefix",,Suggestion,,"Not Being Considered","2016-01-22 14:13:52","2016-01-22 14:13:52",1
"Atlassian FishEye","As an administrator, I don't want FishEye to retrieve the blame information for a file already marked as too large in a Perforce repository, so that the indexing process is optimized","h3. Summary  When indexing a Perforce repository, FishEye tries to retrieve the blame information for a file even when the file has already been marked as too large.    Since the file has already been marked as too large, the retrieval of the blame information may be skipped so to that the indexing process is optimized.    The following log snippet shows that FishEye first identifies that the file size is exceeding the limit:  {noformat}  WARN  [IncrPing1 repository_name ] fisheye RepositoryConfig-isOfIndexableSize - [repository_name] pathtofile/filename exceeds indexing size limit (10M, limit is 5M).  The contents of this file won't be searchable in FishEye.  {noformat}    Afterwards, it still tries to retrieve the blame information by performing a perforce command.      h3. Steps to Reproduce  # Create or modify a large file in your Perforce repository (more than 5M)  # When FishEye indexes the file, FishEye will try to retrieve the blame information    h3. Expected Results  FishEye does not try to retrieve the blame information, in case the file has already    h3. Actual Results  FishEye tries to retrieve the blame information anyway.     h3. Notes  The retrieval of the blame information ({{p4 annote}} command) could fail as well depending on the {{dm.annotate.maxsize}} settings. If this is the case, please refer to [this Knowledge base article|https://confluence.atlassian.com/pages/viewpage.action?pageId=794498782].",Bug,Low,Closed,"2015-12-29 10:42:45","2015-12-29 10:42:45",1
"Atlassian FishEye","Include UPM version 2.19 or higher in FishEye/Crucible","h3. Summary  Include the newer [UPM (also known as Atlassian Universal Plugin Manager)|https://marketplace.atlassian.com/plugins/com.atlassian.upm.atlassian-universal-plugin-manager-plugin/cloud/overview] in the FishEye/Crucible review, in order to take advantage of the latest improvements.    The [Atlassian Universal Plugin Manager - version history page|https://marketplace.atlassian.com/plugins/com.atlassian.upm.atlassian-universal-plugin-manager-plugin/versions] contains the current compatibility matrix.    h3.Notes  In particular, the [UPM-4921|https://ecosystem.atlassian.net/browse/UPM-4921] bug resolution provides a useful change.",Bug,Medium,Closed,"2015-11-25 15:25:49","2015-11-25 15:25:49",0.5
"Atlassian FishEye","When file is moved/copied from outside the repository root, it should be treated as a new file","Created as follow-up of https://fisheye.dev.internal.atlassian.com/cru/CR-FE-9776#c101055.    If a file arrives at the repo by being copied from outside the indexed area, but it does not appear in the controlling path (because it's part of a copied directory, rather than copied individually), we must treat it as an add, rather than a copy. Currently we get a {{FileRevision}} with {{lineCount=0}} and we fail on blame calculation, when we try to apply a hunk at a line that we believe doesn't exist.    {noformat}$ svn log -v -r 0:2  ------------------------------------------------------------------------  r1 | <USER>| 2015-12-22 15:27:41 +0100 (Tue, 22 Dec 2015) | 1 line  Changed paths:     A /OriginalFolder     A /OriginalFolder/file1.txt    Commit of OriginalFolder  ------------------------------------------------------------------------  r2 | <USER>| 2015-12-22 15:29:07 +0100 (Tue, 22 Dec 2015) | 1 line  Changed paths:     A /DestinationFolder (from /OriginalFolder:1)     D /OriginalFolder    svn mv OriginalFolder DestinationFolder  ------------------------------------------------------------------------{noformat}    h1. Issue parked on 2016-01-04  Fix proposed in CR-FE-9783 had side effects in line count calculation and led to scope expansion above what could be currently afforded. Therefore the fix has not been merged to master.    h3. Broken tests  Tests  * {{com.cenqua.fisheye.svn.MoveFolderFromOutsideRepoTest}}  * {{com.cenqua.fisheye.svn.CopyFolderFromOutsideRepoTest}}    show the problem. They lock down the current, incorrect behaviour.",Bug,Low,Closed,"2015-12-22 18:03:15","2015-12-22 18:03:15",1
"Atlassian FishEye","Blame calculation problem: changelist description or diff can contain diff metadata (Perforce RCS)","RCS diff parsing can fail if changelist description or added lines contain text that we interpret as RCS metadata, e.g. change 123 by Author.    Possible fix could be skipping N lines after an add marker. However, this approach fails when requesting more than one changelist diff in one batch and one of them does not finish with a new line. Then we can get the following output:  {noformat}a34 1  nonummy ligula, et aliquam massa felis dolor.Change 7 by conor@awali on 2008/03/05 04:46:37{noformat}  We can't distinguish if Change 7 is a start of a new changelist, or just a plain text of the added line.  Currently we treat it as a new changelist, see {{com.cenqua.fisheye.perforce.client.DescribeProcessor#CHANGE_HEADER}}. Possible solution is to switch to {{com.cenqua.fisheye.perforce.client.DescribeProcessor.DescribeType#UNIFIED}}, but that of course requires testing the new diff format and *making sure all supported perforce servers are capable of providing diffs in this format*.    This problem appears for example when parsing https://swarm.workshop.perforce.com/changes/240, file test/p4_describe.good#2. There is a test that currently fails - {{com.cenqua.fisheye.perforce.client.DescribeProcessorTest#testDescribeDiffsThatContainDiffLikeText}}:    {code}    @Test      public void testDescribeDiffsThatContainDiffLikeText() throws Exception {          doTestDescribe(Change 240 by richard_geiger@rmg:Perforce:utils on 2000/01/03 15:57:06\n +                          \n +                          \tVersion 1.2.5, to account for post-1999 RCS behavior.\n +                          \t(Courtesy of <USER><USER> Goldman Sachs)\n +                          \n +                          Affected files ...\n +                          \n +                          ... //guest/richard_geiger/utils/cvs2p4/test/p4_changes_-l.good#2 edit\n +                          ... //guest/richard_geiger/utils/cvs2p4/test/p4_describe.good#2 edit\n +                          \n +                          Differences ...\n +                          \n +                          ==== //guest/richard_geiger/utils/cvs2p4/test/p4_changes_-l.good#2 (text) ====\n +                          \n +                          d1 1\n +                          a1 7\n +                          Change 24 on yyyy/mm/dd by rmg@cvs2p4\n + // this is not 'Changelist 24', but free text                          \n +                          \tAdd another rev to check for Y2K handling\n +                          \t\n +                          \t[imported from CVS by cvs2p4 at yyyy/mm/dd hh:mm:ss]\n +                          \n +                          Change 23 on yyyy/mm/dd by rmg@cvs2p4\n +                          \n +                          ==== //guest/richard_geiger/utils/cvs2p4/test/p4_describe.good#2 (text) ====\n +                          \n +                          d377 1\n +                          a377 1\n +                          \t[imported from CVS by cvs2p4 at yyyy/mm/dd hh:mm:ss]\n +                          a383 20\n + // the next 20 lines don't contain RCS metadata, but diff add lines (thus must be treated as free text)                          Change 24 by rmg@cvs2p4 on yyyy/mm/dd hh:mm:ss\n +                          \n +                          \tAdd another rev to check for Y2K handling\n +                          \t\n +                          \t[imported from CVS by cvs2p4 at yyyy/mm/dd hh:mm:ss]\n +                          \n +                          Affected files ...\n +                          \n +                          ... //depot/Test/main/file#8 edit\n +                          \n +                          Differences ...\n +                          \n +                          ==== //depot/Test/main/file#8 (ktext) ====\n +                          \n +                          2c2\n +                          < # $Id: //depot/Test/main/file#7 $\n +                          ---\n +                          > # $Id: //depot/Test/main/file#8 $\n +                          10a11\n +                          > Mon Jan  3 hh:mm:ss PST 2000\n +                          \n,                  ImmutableMap.of(240L,                          ImmutableMap.of(                                  //guest/richard_geiger/utils/cvs2p4/test/p4_changes_-l.good,                                  ImmutableList.of(                                          new Hunk(1, 1, 1, 7)                                  ),                                  //guest/richard_geiger/utils/cvs2p4/test/p4_describe.good,                                  ImmutableList.of(                                          new Hunk(377, 377, 1, 1),                                          new Hunk(383, 384, 0, 20)                                  ))));      }{code}",Bug,Low,Closed,"2015-12-15 11:45:26","2015-12-15 11:45:26",5
"Atlassian FishEye","Blame calculation problem: applying hunks after end of ancestor's blame chunks","For example when calculating blame for https://swarm.workshop.perforce.com/changes/249, we get the following error:    {noformat}2015-12-10 04:53:11,211 DEBUG [InitPing2 P4-swarm-C ] fisheye BlameChunksCalculator-applyHunks - Applying hunks; oldBlame=[0-15:1135], hunks=[<0:16, 0:16>], hunksRevId=1626  2015-12-10 04:53:11,212 DEBUG [InitPing2 P4-swarm-C ] fisheye BaseBlameAndLinecountCalculator-calcBlame - Problems calculating blame for guest/richard_geiger/utils/cvs2p4/test/metadata.good@249, will fetch from repository instead  com.cenqua.fisheye.rep.AuthorBlameException: Run over the end of blame chunks; hunk=null, currentFromLine=15, currentToLine=15, currentChunk=null, newChunks=[0-16:1626], remainingChunks=[]          at com.cenqua.fisheye.rep.BlameChunksCalculator.throwNewAuthorBlameException(BlameChunksCalculator.java:184) [fisheye.jar:?]          at com.cenqua.fisheye.rep.BlameChunksCalculator.access$200(BlameChunksCalculator.java:15) [fisheye.jar:?]{noformat}    or for https://swarm.workshop.perforce.com/changes/553  {noformat}2015-12-10 04:54:14,139 DEBUG [InitPing2 P4-swarm-C ] fisheye BlameChunksCalculator-applyHunks - Applying hunks; oldBlame=[0-20:15, 20-21:3022, 21-24:15, 24-29:3022, 2  9-34:15, 34-35:3022, 35-40:15, 40-44:3022, 44-45:15, 45-47:3022, 47-49:15, 49-50:3022, 50-57:15, 57-58:3022, 58-63:15], hunks=[<8:14, 8:0>, <34:1, 20:1>, <38:7, 24:5>,   <46:2, 30:0>, <52:0, 34:1>, <57:3, 40:4>, <61:7, 45:2>, <70:6, 49:1>, <83:2, 57:1>], hunksRevId=3475  2015-12-10 04:54:14,139 DEBUG [InitPing2 P4-swarm-C ] fisheye BaseBlameAndLinecountCalculator-calcBlame - Problems calculating blame for guest/grant_glouser/jam/comman  d.c@553, will fetch from repository instead  com.cenqua.fisheye.rep.AuthorBlameException: Run over the end of blame chunks; hunk=null, currentFromLine=63, currentToLine=42, currentChunk=null, newChunks=[0-8:15, 8-10:15, 10-15:3022, 15-20:15, 20-21:3475, 21-24:15, 24-29:3475, 29-30:3022, 30-31:15, 31-32:3022, 32-34:15, 34-35:3475, 35-40:15, 40-44:3475, 44-45:15, 45-47:3475], remainingChunks=[]          at com.cenqua.fisheye.rep.BlameChunksCalculator.throwNewAuthorBlameException(BlameChunksCalculator.java:184) [fisheye.jar:?]          at com.cenqua.fisheye.rep.BlameChunksCalculator.access$200(BlameChunksCalculator.java:15) [fisheye.jar:?]{noformat}    (i) See full log attached to FECRU-6112.",Bug,Low,Closed,"2015-12-15 11:15:45","2015-12-15 11:15:45",2
"Atlassian FishEye","Blame calculation problem: hunks don't match calculation context","For example when calculating blame for https://swarm.workshop.perforce.com/changes/249, we get the following error:    {noformat}2015-12-10 04:53:10,615 DEBUG [InitPing2 P4-swarm-C ] fisheye BlameChunksCalculator-applyHunks - Applying hunks; oldBlame=[0-30:1131], hunks=[<1:1, 1:1>, <3:1, 3:1>, <  5:1, 5:1>, <7:1, 7:1>, <9:1, 9:1>, <11:1, 11:1>, <13:1, 13:1>, <15:1, 15:1>, <17:1, 17:1>, <19:1, 19:1>, <21:1, 21:1>, <23:1, 23:1>, <25:1, 25:1>, <27:1, 27:1>, <29:1,   29:1>, <31:1, 31:1>], hunksRevId=1625  2015-12-10 04:53:10,615 DEBUG [InitPing2 P4-swarm-C ] fisheye BaseBlameAndLinecountCalculator-calcBlame - Problems calculating blame for guest/richard_geiger/utils/cvs  2p4/test/changes.good@249, will fetch from repository instead  com.cenqua.fisheye.rep.AuthorBlameException: Hunk 'to' line does not match current calculation context; hunk=<31:1, 31:1>, currentFromLine=30, currentToLine=30, currentChunk=null, newChunks=[0-1:1131, 1-2:1625, 2-3:1131, 3-4:1625, 4-5:1131, 5-6:1625, 6-7:1131, 7-8:1625, 8-9:1131, 9-10:1625, 10-11:1131, 11-12:1625, 12-13:1131, 13-14:1625, 14-15:1131, 15-16:1625, 16-17:1131, 17-18:1625, 18-19:1131, 19-20:1625, 20-21:1131, 21-22:1625, 22-23:1131, 23-24:1625, 24-25:1131, 25-26:1625, 26-27:1131, 27-28:1625, 28-29:1131, 29-30:1625, 30-31:1625], remainingChunks=[]          at com.cenqua.fisheye.rep.BlameChunksCalculator.throwNewAuthorBlameException(BlameChunksCalculator.java:184) [fisheye.jar:?]          at com.cenqua.fisheye.rep.BlameChunksCalculator.access$200(BlameChunksCalculator.java:15) [fisheye.jar:?]{noformat}    (i) See full log attached to FECRU-6112.",Bug,Low,Closed,"2015-12-15 11:11:17","2015-12-15 11:11:17",2
"Atlassian FishEye","Blame calculation problem: hunks overlap or are out of order","For example when indexing https://swarm.workshop.perforce.com/changes/16638, we get the following error:    {noformat}2015-12-09 19:51:14,747 DEBUG [IncrPing2 P4-swarm-B ] fisheye BlameChunksCalculator-applyHunks - Applying hunks; oldBlame=[0-5:234282, 5-6:126714, 6-8:301615, 8-9:1267  14, 9-10:301615, 10-20:126714, 20-21:301615, 21-22:126714], hunks=[<6:0, 6:2>, <8:0, 9:1>, <7:1, 10:0>, <19:0, 20:1>, <18:1, 21:0>], hunksRevId=301787  2015-12-09 19:51:14,747 DEBUG [IncrPing2 P4-swarm-B ] fisheye BaseBlameAndLinecountCalculator-calcBlame - Problems calculating blame for guest/perforce_software/sdp/de  v/Server/Windows/p4/common/bin/replica_status.bat@16638, will fetch from repository instead  com.cenqua.fisheye.rep.AuthorBlameException: Hunks overlap or are out of order; prev=<8:0, 9:1>, current=<7:1, 10:0>, remaining hunks=[<19:0, 20:1>, <18:1, 21:0>]          at com.cenqua.fisheye.rep.BlameChunksCalculator.assertHunksDontOverlap(BlameChunksCalculator.java:77) [fisheye.jar:?]          at com.cenqua.fisheye.rep.BlameChunksCalculator.applyHunks(BlameChunksCalculator.java:26) [fisheye.jar:?]{noformat}    (!) Most if not all of the occurrences of this problem happen on processing a merge.    (i) See full log attached to FECRU-6112.",Bug,Low,Closed,"2015-12-15 10:54:08","2015-12-15 10:54:08",2
"Atlassian FishEye","Blame calculation problem: Blame#getTotalLines differs from FileRevision#getLineCount","For example when calculating blame for https://swarm.workshop.perforce.com/changes/16637, we get the following error:  {noformat}2015-12-09 19:51:13,181 DEBUG [IncrPing2 P4-swarm-B ] fisheye BlameChunksCalculator-applyHunks - Applying hunks; oldBlame=[0-1:301753, 1-17:301159, 17-20:301753], hunk  s=[<0:1, 0:1>, <17:0, 17:3>], hunksRevId=301785  2015-12-09 19:51:13,182 DEBUG [IncrPing2 P4-swarm-B ] fisheye BaseBlameAndLinecountCalculator-calcBlame - Problems calculating blame for guest/perforce_software/sdp/de  v/Server/Unix/p4/common/bin/sdp_hosts.cfg@16638, will fetch from repository instead  com.cenqua.fisheye.rep.AuthorBlameException: guest/perforce_software/sdp/dev/Server/Unix/p4/common/bin/sdp_hosts.cfg@16638: Revision's calculated number of blame lines differs from stored revision linecount: blameLines=23, revisionLinecount=20 (P4RevInfo{P4RevInfo=guest/perforce_software/sdp/dev/Server/Unix/p4/common/bin/sdp_hosts.cfg@16638, revId=301785, author=tom_tyler, comment=Routine merge down to dev from main using:, date=Wed Dec 09 19:51:27 CET 2015, copyFrom=null, ancestors=[guest/perforce_software/sdp/main/Server/Unix/p4/common/bin/sdp_hosts.cfg@16637]})          at com.cenqua.fisheye.rep.BaseBlameAndLinecountCalculator.assertBlameLinesEqualRevisionLines(BaseBlameAndLinecountCalculator.java:514) [fisheye.jar:?]          at com.cenqua.fisheye.rep.BaseBlameAndLinecountCalculator.getAuthDiff(BaseBlameAndLinecountCalculator.java:488) [fisheye.jar:?]{noformat}    (i) See full log attached to FECRU-6112.    This problem also appears when processing http://svn.apache.org/viewvc/commons/proper/io. See the attached log.",Bug,Low,"Gathering Impact","2015-12-15 10:46:57","2015-12-15 10:46:57",2
"Atlassian FishEye","Blame calculation problem: FileRevision gives different line diff than blame calculator","For example when calculating blame for https://swarm.workshop.perforce.com/changes/16640, we get the following error:    {noformat}2015-12-09 19:51:53,146 DEBUG [IncrPing2 P4-swarm-B ] fisheye BlameChunksCalculator-applyHunks - Applying hunks; oldBlame=[0-1:301325], hunks=[<0:1, 0:1>], hunksRevId=301788  2015-12-09 19:51:53,148 DEBUG [IncrPing2 P4-swarm-B ] fisheye BlameChunksCalculator-applyHunks - Applying hunks; oldBlame=[0-1:301788], hunks=[<0:1, 0:1>], hunksRevId=301789  2015-12-09 19:51:53,149 DEBUG [IncrPing2 P4-swarm-B ] fisheye BaseBlameAndLinecountCalculator-calcBlame - Problems calculating blame for guest/perforce_software/sdp/main/Version@16640, will fetch from repository instead  com.cenqua.fisheye.rep.AuthorBlameException: Possible error adjusting author linecount for guest/perforce_software/sdp/main/Version@16640 301789: Diff adds to 0 instead of -1: {} (P4RevInfo{P4RevInfo=guest/perforce_software/sdp/main/Version@16640, revId=301789, author=tom_tyler, comment=Updated version for packaging., date=Wed Dec 09 19:52:51 CET 2015, copyFrom=null, ancestors=[guest/perforce_software/sdp/dev/Version@16639]})          at com.cenqua.fisheye.rep.BaseBlameAndLinecountCalculator.calcBlameBasedOnAncestor(BaseBlameAndLinecountCalculator.java:309) [fisheye.jar:?]          at com.cenqua.fisheye.rep.BaseBlameAndLinecountCalculator.calcBlame(BaseBlameAndLinecountCalculator.java:243) [fisheye.jar:?]{noformat}    (i) See full log attached to FECRU-6112.",Bug,Low,Closed,"2015-12-15 10:29:39","2015-12-15 10:29:39",2
"Atlassian FishEye","Malformed network data Error Using svn+ssh","h3. Summary  In FishEye, when indexing a repository using {{svn+ssh}}, the following error occurs:    {noformat}  Caused by: org.tmatesoft.svn.core.SVNException: svn: E210004: Malformed network data  at org.tmatesoft.svn.core.internal.wc.SVNErrorManager.error(SVNErrorManager.java:64) [svnkit-1.8.10.jar:?]  at org.tmatesoft.svn.core.internal.wc.SVNErrorManager.error(SVNErrorManager.java:51) [svnkit-1.8.10.jar:?]  at org.tmatesoft.svn.core.internal.io.svn.SVNEditModeReader.driveEditor(SVNEditModeReader.java:248) [svnkit-1.8.10.jar:?]  {noformat}    h3. Steps to Reproduce  # Index a repository using svn+ssh protocol.    h3. Expected Results  The repository indexes without error.    h3. Actual Results  The below exception is thrown:  {noformat}  Caused by: org.tmatesoft.svn.core.SVNException: svn: E210004: Malformed network data  at org.tmatesoft.svn.core.internal.wc.SVNErrorManager.error(SVNErrorManager.java:64) [svnkit-1.8.10.jar:?]  at org.tmatesoft.svn.core.internal.wc.SVNErrorManager.error(SVNErrorManager.java:51) [svnkit-1.8.10.jar:?]  at org.tmatesoft.svn.core.internal.io.svn.SVNEditModeReader.driveEditor(SVNEditModeReader.java:248) [svnkit-1.8.10.jar:?]  {noformat}    h3. Notes  This is a bug in the bundled SVNKit library FishEye uses. This is fixed in SVNKit 1.8.11.    h3. Workaround  Switch to using the native Subversion client.",Bug,Low,Closed,"2015-11-10 10:37:22","2015-11-10 10:37:22",2
"Atlassian FishEye","Invalid URL when accessing What's New! for FishEye","When accessing the What's New! from the Help menu in FishEye, the page redirects to a broken WAC page (IE https://www.atlassian.com/software/fisheye/whats-new)",Bug,Low,Closed,"2015-11-02 12:22:08","2015-11-02 12:22:08",0
"Atlassian FishEye","Add logs about input stream provided to indexing SCM commands","Currently when command uses input stream to feed SCM binary to get some data, logs aren't very useful.",Suggestion,,"Not Being Considered","2015-10-14 12:31:40","2015-10-14 12:31:40",1
"Atlassian FishEye","Transitioning from jTDS to Microsoft JDBC Driver for FishEye","Transition from jTDS to Microsoft JDBC driver is mainly because of supportability. [Microsoft's JDBC driver|https://msdn.microsoft.com/en-us/sqlserver/aa937724.aspx] is actively maintained, where jTDS is only recently seeing its first updates in over 3 years.    Reference: [Transitioning from jTDS to Microsoft's JDBC driver for Stash|https://confluence.atlassian.com/stash/transitioning-from-jtds-to-microsoft-s-jdbc-driver-318669456.html#notfound]",Suggestion,,Closed,"2015-10-13 13:04:36","2015-10-13 13:04:36",2
"Atlassian FishEye","Wrong blame on renamed file when it is got from SVN directly ","Blame for {{course-management/trunk/cm-impl/hibernate-impl/src/test/org/sakaiproject/coursemanagement/test/CourseManagementServiceTest.java@7699}} in sakai repository doesn't show all revisions as some of them refer to revision -1.    Pre 3.8 versions used slow full file history which which was slow and was replaced by faster methods since 3.8.0. Unfortunately faster method doesn't handle file renames.",Bug,Low,Closed,"2015-10-12 14:52:56","2015-10-12 14:52:56",2
"Atlassian FishEye","Update backup restore guide to make version requirements more clear","The [backup restore guide|https://confluence.atlassian.com/display/FISHEYE/Backing+Up+and+Restoring+FishEye+Data#BackingupandrestoringFishEyedata-UsingthecommandlinetorestoreFishEyedata] can be confusing or misleading in terms of which database version the backup can be restored in.  The doc says:  {quote}  you cannot restore data into versions of FishEye which are older than the version that created the backup  {quote}  Which can be confusing when using the {{--force}} option, which allows you to overwrite existing database. But there is no detail that this database needs to be the same version as the one in which the backup was created.      ",Suggestion,,Closed,"2015-10-09 04:15:54","2015-10-09 04:15:54",0
"Atlassian FishEye","Trying to run 'hg annotate' on an empty file causes a NullPointerException","{code}       [java] Caused by: java.lang.NullPointerException       [java]  at com.cenqua.obfuscate.idb.y.b(InfinityDB_3.0.21:1550)       [java]  at com.cenqua.fisheye.rep.impl.CommonRevInfoDAO.getRevId(CommonRevInfoDAO.java:156)       [java]  at com.cenqua.fisheye.rep.impl.CommonRevInfoDAO.getRevId(CommonRevInfoDAO.java:148)       [java]  at com.cenqua.fisheye.rep.impl.CommonRevInfoDAO.getRevId(CommonRevInfoDAO.java:140)       [java]  at com.cenqua.fisheye.cache.BaseRevisionCache.getRevId(BaseRevisionCache.java:866)       [java]  at com.atlassian.fisheye.dvcs.DvcsCache.getRevId(DvcsCache.java:86)       [java]  at com.atlassian.fisheye.dvcs.DvcsCache.getFileRevision(DvcsCache.java:131)       [java]  at com.atlassian.fisheye.hg.HgCache$1.endChunk(HgCache.java:164)       [java]  at com.atlassian.fisheye.hg.client.HgBlameParser.processInputEnd(HgBlameParser.java:69)       [java]  at com.atlassian.utils.process.LineOutputHandler.process(LineOutputHandler.java:72)       [java]  at com.atlassian.utils.process.LineOutputHandler.process(LineOutputHandler.java:33)       [java]  at com.atlassian.utils.process.PluggableProcessHandler.processOutput(PluggableProcessHandler.java:127)       [java]  at com.cenqua.fisheye.util.NamedProcessHandler.processOutput(NamedProcessHandler.java:31)       [java]  at com.atlassian.utils.process.ExternalProcessImpl$3.doTask(ExternalProcessImpl.java:315)  {code}",Bug,Low,Closed,"2015-10-06 14:07:02","2015-10-06 14:07:02",1
"Atlassian FishEye","Admin screen performance degradation for instances with many groups","For instances with a lot of groups (>4-5 thousand) rendering some admin screens might be notably slower (tens of seconds to minutes) due to a lot of JavaScript processing going on.    This was observed for:  * opening repository details on the repository list  * opening the 'edit project'/'new project' page  There might be other instances to.    This seem to be caused by rendering a lot of items in the DOM (in this case the group names), and expensive processing in skate.js (seems mostly the getClosestIgnoredElement method). Potentially other screens might be affected as well.",Bug,High,Closed,"2015-09-29 14:16:28","2015-09-29 14:16:28",3
"Atlassian FishEye","Retrieving blame for Perforce repositories retrieves all the revisions in the files history","This is mostly due to {{getFullFileHistory}} which eagerly loads all revisions, most of which are then discarded.     Stack:  {code}  qtp1108066952-18022 #18022 prio=5 os_prio=0 tid=0x00007fd19800e800 nid=0x7807 waiting on condition [0x00007fde51b23000]  ...          at com.cenqua.fisheye.rep.impl.CommonRevInfoDAO.load(CommonRevInfoDAO.java:246)          at com.cenqua.fisheye.perforce.db.P4RevInfoDAO.load(P4RevInfoDAO.java:186)          at com.cenqua.fisheye.perforce.P4Cache.getFileHistory(P4Cache.java:261)          at com.cenqua.fisheye.rep.SortedMapFileHistory.addFileAncestry(SortedMapFileHistory.java:203)          at com.cenqua.fisheye.rep.SortedMapFileHistory.addFileAncestry(SortedMapFileHistory.java:240)          at com.cenqua.fisheye.rep.SortedMapFileHistory.addFileAncestry(SortedMapFileHistory.java:240)          at com.cenqua.fisheye.rep.SortedMapFileHistory.addFileAncestry(SortedMapFileHistory.java:240)          at com.cenqua.fisheye.rep.SortedMapFileHistory.addFileAncestry(SortedMapFileHistory.java:240)          at com.cenqua.fisheye.rep.SortedMapFileHistory.addFileAncestry(SortedMapFileHistory.java:240)          at com.cenqua.fisheye.perforce.P4Cache.getFullFileHistory(P4Cache.java:274)          at com.cenqua.fisheye.cache.BaseRevisionCache.getFullFileHistory(BaseRevisionCache.java:323)          at com.cenqua.fisheye.perforce.P4Cache.getBlameFallback(P4Cache.java:314)          at com.cenqua.fisheye.cache.BaseRevisionCache.getBlame(BaseRevisionCache.java:748)          at com.cenqua.fisheye.rep.BaseLinecountCalculator.getHistory(BaseLinecountCalculator.java:210)          at com.cenqua.fisheye.rep.BaseLinecountCalculator.getHistoryWithFallback(BaseLinecountCalculator.java:246)          at com.cenqua.fisheye.web.tags.ExpressionUtil.getHistory(ExpressionUtil.java:89)  {code}",Bug,Low,Closed,"2015-09-17 13:46:53","2015-09-17 13:46:53",0.333333333
"Atlassian FishEye","Invisible error messages in admin pages","See !invisibleErrorMessage.png|thumbnail!",Bug,Low,Closed,"2015-09-10 22:19:51","2015-09-10 22:19:51",0.5
"Atlassian FishEye","NPS warnings on instance startup","When starting a clean 3.9.1 instance I see several warnings like:  {code}  2015-09-10 16:50:40,581 WARN  [qtp138776324-132 ] com.atlassian.nps.plugin.storage.UserServerStorageService UserServerStorageService-getSetting - Couldn't check the NPS settings. This can safely be ignored during plugin shutdown. Detail: null  {code}    Once I setup instance and log in with admin password, I see different warnings:  {code}  2015-09-10 16:55:03,212 WARN  [qtp138776324-176 ] com.atlassian.nps.plugin.storage.UserServerStorageService UserServerStorageService-getSetting - Couldn't check the NPS settings. This can safely be ignored during plugin shutdown. Detail: String value of UserKey '$admin$' is not an integer  {code}    Few of them are logged for every web request, e.g. dashboard page.    Once I am logged in as named user warnings no longer appear.",Bug,Medium,Closed,"2015-09-10 15:59:03","2015-09-10 15:59:03",0.5
"Atlassian FishEye","Add a link to include/exclude and patterns CAC page ","h3. Problem Definition  The Include/Exclude Paths section (both repository defaults and individual repository) can be very confusing when it comes to getting the correct patterns defined for indexing and can lead to missing revisions or excluded files errors in the logs.   h3. Suggested Solution  Have a link to the CAC guides from the application Include/Exclude Paths screens :  https://confluence.atlassian.com/fisheye/include-exclude-paths-298976903.html  https://confluence.atlassian.com/fisheye/pattern-matching-guide-298976797.html  to help give the users a reference point.   ",Suggestion,,Closed,"2015-09-03 05:22:39","2015-09-03 05:22:39",0.5
"Atlassian FishEye","Not calculate blame in request thread","Creating a dev build that does not calculate blames in request thread if not already calculated to try to solve some DOS cases (step1) until 3.10 is out with:  https://jira.atlassian.com/browse/FECRU-5931      ",Bug,Low,Closed,"2015-08-27 12:24:53","2015-08-27 12:24:53",2
"Atlassian FishEye","OutOfMemoryError when Start Revision, Initial Import: No initial import and repository path are set","Apparently when Start revision is set and initial import is set to No initial import, FishEye may crash with OutOfMemoryError with large repositories (with a huge number of files at the start-rev revision).    FE-4773 fixed the issue for repositories where repository path (Repository Config / SCM Details / SVN Connection Details / Path) is empty, but when it is not empty FishEye would still attempt to do initial import.",Bug,Low,Closed,"2015-08-25 14:52:29","2015-08-25 14:52:29",2
"Atlassian FishEye","Dead Link for Allow 2-Legged OAuth in FishEye Crucible","h3. Summary    The _Allow 2-Legged OAuth_ link in the app links pop up dialogue leads to a dead link;    h3. Steps to Reproduce  # Set ip up application link  # Edit the application link  # Follow the link on Outgoing Authentication > OAuth tab    !Screen Shot 2015-08-17 at 11.33.20.png|thumbnail!    h3. Expected Result  The user is directed to https://confluence.atlassian.com/display/APPLINKS/Configuring+OAuth+Authentication+for+an+Application+Link instead.    h3. Actual Result    The user is directed to https://confluence.atlassian.com/display/CRUCIBLE038/Configuring+OAuth+Authentication+for+an+Application+Link      h3. Notes  On the older versions this looks like it should be https://confluence.atlassian.com/display/FISHEYE034/Configuring+OAuth+Authentication+for+an+Application+Link - with the version number replaced with the appropriate one    There is also no mention of the use of 2-legged OAuth or 2-legged OAuth with Impersonation on this page - [Configuring OAuth Authentication for an Application Link|https://confluence.atlassian.com/display/APPLINKS/Configuring+OAuth+Authentication+for+an+Application+Link], this does appear to be present on the following documentation though - [Configuring Authentication for an Application Link|https://confluence.atlassian.com/display/APPLINKS/Configuring+Authentication+for+an+Application+Link].   ",Bug,Low,Closed,"2015-08-17 11:10:41","2015-08-17 11:10:41",0.5
"Atlassian FishEye","core plugins listed in user-installed add-ons section","Should be listed as system plugins, option to disable them should not be available.  See screenshot from vanilla 3.9.0 instance:   !plugins.png|thumbnail!",Bug,Low,Closed,"2015-08-06 13:56:32","2015-08-06 13:56:32",0.5
"Atlassian FishEye","LuceneReviewStateChangeActivityItemProvider spends a lot of time on Hibernate dirty checking","In some thread dumps we see that activity stream provider LuceneReviewStateChangeActivityItemProvider spends a lot of time in Hibernate dirty checking code:  {code}  qtp609656250-187 #187 prio=5 os_prio=0 tid=0x0000000007890000 nid=0x7351 runnable [0x0000000048d3c000]     java.lang.Thread.State: RUNNABLE   at org.hibernate.engine.Collections.processReachableCollection(Collections.java:195)   at org.hibernate.event.def.FlushVisitor.processCollection(FlushVisitor.java:60)   at org.hibernate.event.def.AbstractVisitor.processValue(AbstractVisitor.java:124)   at org.hibernate.event.def.AbstractVisitor.processValue(AbstractVisitor.java:84)   at org.hibernate.event.def.AbstractVisitor.processEntityPropertyValues(AbstractVisitor.java:78)   at org.hibernate.event.def.DefaultFlushEntityEventListener.onFlushEntity(DefaultFlushEntityEventListener.java:165)   at org.hibernate.event.def.AbstractFlushingEventListener.flushEntities(AbstractFlushingEventListener.java:219)   at org.hibernate.event.def.AbstractFlushingEventListener.flushEverythingToExecutions(AbstractFlushingEventListener.java:99)   at org.hibernate.event.def.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:50)   at org.hibernate.impl.SessionImpl.flush(SessionImpl.java:1206)   at org.hibernate.impl.SessionImpl.managedFlush(SessionImpl.java:375)   at org.hibernate.transaction.JDBCTransaction.commit(JDBCTransaction.java:137)   at com.cenqua.crucible.hibernate.SessionState.commit(SessionState.java:127)   at com.cenqua.crucible.hibernate.SessionState.commitAllTx(SessionState.java:82)   at com.cenqua.crucible.hibernate.SessionState.commitTx(SessionState.java:74)   at com.cenqua.crucible.hibernate.HibernateUtil.commitTransaction(HibernateUtil.java:322)   at com.atlassian.fecru.tx.TxHelperStylePlatformTransactionManager.commit(TxHelperStylePlatformTransactionManager.java:37)   at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:387)   at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:120)   at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)   at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:202)   at com.sun.proxy.$Proxy74.getStateChangeById(Unknown Source)   at com.cenqua.crucible.model.managers.LogManager.getById(LogManager.java:41)   at com.atlassian.crucible.activity.review.LuceneReviewStateChangeActivityItemProvider.searchIndex(LuceneReviewStateChangeActivityItemProvider.java:85)   at com.atlassian.crucible.activity.review.LuceneReviewStateChangeActivityItemProvider.getMoreActivityItems(LuceneReviewStateChangeActivityItemProvider.java:72)   at com.atlassian.crucible.activity.review.LuceneReviewStateChangeActivityItemProvider.getMoreActivityItems(LuceneReviewStateChangeActivityItemProvider.java:28)   at com.atlassian.crucible.activity.review.CoalescingActivityItemProviderBase.findActivityItemsAndCoalesce(CoalescingActivityItemProviderBase.java:27)   at com.atlassian.crucible.activity.review.LuceneReviewStateChangeActivityItemProvider.findActivityItems(LuceneReviewStateChangeActivityItemProvider.java:53)   at com.atlassian.fisheye.activity.DefaultActivityItemManager.findActivityItems(DefaultActivityItemManager.java:44)   at com.atlassian.fisheye.activity.ActivityStreamHandler.getEnoughItemsForPast(ActivityStreamHandler.java:362)   at com.atlassian.fisheye.activity.ActivityStreamHandler.handleActivityStream(ActivityStreamHandler.java:165)   at com.cenqua.fisheye.web.ChangelogServlet.doViewDir(ChangelogServlet.java:267)   at com.cenqua.fisheye.web.ChangelogServlet.handleRequest(ChangelogServlet.java:97)   at com.cenqua.fisheye.web.BaseAction.processRequest(BaseAction.java:255)   at com.cenqua.fisheye.web.ActionDispatcherServlet.doIt(ActionDispatcherServlet.java:241)   at com.cenqua.fisheye.web.ActionDispatcherServlet.doGet(ActionDispatcherServlet.java:72)   at javax.servlet.http.HttpServlet.service(HttpServlet.java:735)   at javax.servlet.http.HttpServlet.service(HttpServlet.java:848)   at org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:669)   at org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1526)   at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:46)   at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:70)   at com.atlassian.applinks.core.rest.context.ContextFilter.doFilter(ContextFilter.java:25)   at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:78)   at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)   at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:70)   at com.atlassian.prettyurls.filter.PrettyUrlsSiteMeshFixupFilter.doFilter(PrettyUrlsSiteMeshFixupFilter.java:36)   at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:78)   at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)   at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:70)   at com.atlassian.prettyurls.filter.PrettyUrlsDispatcherFilter.doFilter(PrettyUrlsDispatcherFilter.java:60)   at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:78)   at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)   at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:70)   at com.atlassian.prettyurls.filter.PrettyUrlsSiteMeshFilter.doFilter(PrettyUrlsSiteMeshFilter.java:92)   at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:78)   at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)   at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:70)   at com.atlassian.prettyurls.filter.PrettyUrlsMatcherFilter.doFilter(PrettyUrlsMatcherFilter.java:56)   at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:78)   at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)   at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:77)   at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:63)   at org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1502)   at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:46)   at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:70)   at com.atlassian.prettyurls.filter.PrettyUrlsCombinedMatchDispatcherFilter.doFilter(PrettyUrlsCombinedMatchDispatcherFilter.java:61)   at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:78)   at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)   at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:77)   at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:63)   at org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1502)   at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:83)   at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:76)   at org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1502)   at com.atlassian.crucible.filters.CrucibleFilter.doFilter(CrucibleFilter.java:148)   at org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1502)   at com.cenqua.fisheye.web.filters.TotalityFilter.doFilter(TotalityFilter.java:301)   at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:346)   at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:259)   at org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1502)   at com.atlassian.security.auth.trustedapps.filter.TrustedApplicationsFilter.doFilter(TrustedApplicationsFilter.java:100)   at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:346)   at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:259)   at org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1502)   at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:46)   at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:70)   at com.atlassian.oauth.serviceprovider.internal.servlet.OAuthFilter.doFilter(OAuthFilter.java:69)   at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:78)   at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)   at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:70)   at com.atlassian.prettyurls.filter.PrettyUrlsCombinedMatchDispatcherFilter.doFilter(PrettyUrlsCombinedMatchDispatcherFilter.java:61)   at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:78)   at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)   at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:77)   at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:63)   at org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1502)   at org.eclipse.jetty.servlets.UserAgentFilter.doFilter(UserAgentFilter.java:82)   at org.eclipse.jetty.servlets.GzipFilter.doFilter(GzipFilter.java:294)   at com.cenqua.fisheye.web.filters.CustomIncludableGzipFilter.doFilter(CustomIncludableGzipFilter.java:27)   at org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1502)   at com.cenqua.fisheye.web.filters.ProductInfoFilter.doFilter(ProductInfoFilter.java:44)   at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:346)   at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:259)   at org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1502)   at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:46)   at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:70)   at com.atlassian.prettyurls.filter.PrettyUrlsCombinedMatchDispatcherFilter.doFilter(PrettyUrlsCombinedMatchDispatcherFilter.java:61)   at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:78)   at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)   at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:77)   at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:63)   at org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1502)   at com.cenqua.fisheye.web.filters.UpfrontFilter.doFilter(UpfrontFilter.java:60)   at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:346)   at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:259)   at org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1502)   at com.atlassian.fecru.profiling.ProfilingServletFilter.doFilter(ProfilingServletFilter.java:62)   at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:346)   at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:259)   at org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1502)   at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:455)   at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:137)   at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:557)   at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:231)   at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1075)   at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:384)   at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:193)   at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1009)   at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:135)   at org.eclipse.jetty.server.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:255)   at org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:154)   at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:116)   at org.eclipse.jetty.server.Server.handle(Server.java:368)   at org.eclipse.jetty.server.AbstractHttpConnection.handleRequest(AbstractHttpConnection.java:489)   at org.eclipse.jetty.server.AbstractHttpConnection.headerComplete(AbstractHttpConnection.java:942)   at org.eclipse.jetty.server.AbstractHttpConnection$RequestHandler.headerComplete(AbstractHttpConnection.java:1004)   at org.eclipse.jetty.http.HttpParser.parseNext(HttpParser.java:640)   at org.eclipse.jetty.http.HttpParser.parseAvailable(HttpParser.java:235)   at org.eclipse.jetty.server.AsyncHttpConnection.handle(AsyncHttpConnection.java:82)   at org.eclipse.jetty.io.nio.SelectChannelEndPoint.handle(SelectChannelEndPoint.java:628)   at org.eclipse.jetty.io.nio.SelectChannelEndPoint$1.run(SelectChannelEndPoint.java:52)   at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:608)   at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:543)   at java.lang.Thread.run(Thread.java:745)  {code}    Hibernate dominates in all callstacks and is visible in ~90% of them. However the activity stream provider spends some time in other part of the code as well eg. costly ReviewStateChangeActivityItemList.contains/ReviewStateChangeActivityItem.equals:  {code}  qtp609656250-196 #196 prio=5 os_prio=0 tid=0x000000000b0cc800 nid=0x3154 runnable [0x0000000048a6c000]     java.lang.Thread.State: RUNNABLE   at com.cenqua.crucible.model.Review.getPermaId(Review.java:309)   at sun.reflect.GeneratedMethodAccessor483.invoke(Unknown Source)   at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)   at java.lang.reflect.Method.invoke(Method.java:497)   at org.hibernate.proxy.pojo.javassist.JavassistLazyInitializer.invoke(JavassistLazyInitializer.java:198)   at com.cenqua.crucible.model.Review_$$_javassist_58.getPermaId(Review_$$_javassist_58.java)   at com.atlassian.crucible.activity.review.ReviewStateChangeActivityItem.getReviewPermaId(ReviewStateChangeActivityItem.java:42)   at com.atlassian.crucible.activity.review.ReviewStateChangeActivityItem.equals(ReviewStateChangeActivityItem.java:78)   at it.unimi.dsi.fastutil.objects.ObjectArrayList.indexOf(ObjectArrayList.java:257)   at it.unimi.dsi.fastutil.objects.AbstractObjectList.contains(AbstractObjectList.java:146)   at com.cenqua.fisheye.util.SortedList.contains(SortedList.java:177)   at com.atlassian.crucible.activity.review.ReviewStateChangeActivityItemList.contains(ReviewStateChangeActivityItemList.java:54)   at com.atlassian.crucible.activity.review.LuceneReviewStateChangeActivityItemProvider.searchIndex(LuceneReviewStateChangeActivityItemProvider.java:90)   at com.atlassian.crucible.activity.review.LuceneReviewStateChangeActivityItemProvider.getMoreActivityItems(LuceneReviewStateChangeActivityItemProvider.java:72)   at com.atlassian.crucible.activity.review.LuceneReviewStateChangeActivityItemProvider.getMoreActivityItems(LuceneReviewStateChangeActivityItemProvider.java:28)   at com.atlassian.crucible.activity.review.CoalescingActivityItemProviderBase.findActivityItemsAndCoalesce(CoalescingActivityItemProviderBase.java:27)   at com.atlassian.crucible.activity.review.LuceneReviewStateChangeActivityItemProvider.findActivityItems(LuceneReviewStateChangeActivityItemProvider.java:53)   at com.atlassian.fisheye.activity.DefaultActivityItemManager.findActivityItems(DefaultActivityItemManager.java:44)   at com.atlassian.fisheye.activity.ActivityStreamHandler.getEnoughItemsForPast(ActivityStreamHandler.java:362)   at com.atlassian.fisheye.activity.ActivityStreamHandler.handleActivityStream(ActivityStreamHandler.java:165)   at com.cenqua.fisheye.web.ChangelogServlet.doViewDir(ChangelogServlet.java:267)   at com.cenqua.fisheye.web.ChangelogServlet.handleRequest(ChangelogServlet.java:97)   at com.cenqua.fisheye.web.BaseAction.processRequest(BaseAction.java:255)   at com.cenqua.fisheye.web.ActionDispatcherServlet.doIt(ActionDispatcherServlet.java:241)   at com.cenqua.fisheye.web.ActionDispatcherServlet.doGet(ActionDispatcherServlet.java:72)   at javax.servlet.http.HttpServlet.service(HttpServlet.java:735)   at javax.servlet.http.HttpServlet.service(HttpServlet.java:848)   at org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:669)   at org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1526)   at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:46)   at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:70)   at com.atlassian.applinks.core.rest.context.ContextFilter.doFilter(ContextFilter.java:25)   at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:78)   at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)   at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:70)   at com.atlassian.prettyurls.filter.PrettyUrlsSiteMeshFixupFilter.doFilter(PrettyUrlsSiteMeshFixupFilter.java:36)   at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:78)   at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)   at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:70)   at com.atlassian.prettyurls.filter.PrettyUrlsDispatcherFilter.doFilter(PrettyUrlsDispatcherFilter.java:60)   at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:78)   at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)   at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:70)   at com.atlassian.prettyurls.filter.PrettyUrlsSiteMeshFilter.doFilter(PrettyUrlsSiteMeshFilter.java:92)   at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:78)   at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)   at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:70)   at com.atlassian.prettyurls.filter.PrettyUrlsMatcherFilter.doFilter(PrettyUrlsMatcherFilter.java:56)   at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:78)   at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)   at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:77)   at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:63)   at org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1502)   at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:46)   at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:70)   at com.atlassian.prettyurls.filter.PrettyUrlsCombinedMatchDispatcherFilter.doFilter(PrettyUrlsCombinedMatchDispatcherFilter.java:61)   at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:78)   at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)   at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:77)   at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:63)   at org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1502)   at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:83)   at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:76)   at org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1502)   at com.atlassian.crucible.filters.CrucibleFilter.doFilter(CrucibleFilter.java:148)   at org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1502)   at com.cenqua.fisheye.web.filters.TotalityFilter.doFilter(TotalityFilter.java:301)   at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:346)   at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:259)   at org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1502)   at com.atlassian.security.auth.trustedapps.filter.TrustedApplicationsFilter.doFilter(TrustedApplicationsFilter.java:100)   at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:346)   at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:259)   at org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1502)   at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:46)   at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:70)   at com.atlassian.oauth.serviceprovider.internal.servlet.OAuthFilter.doFilter(OAuthFilter.java:69)   at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:78)   at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)   at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:70)   at com.atlassian.prettyurls.filter.PrettyUrlsCombinedMatchDispatcherFilter.doFilter(PrettyUrlsCombinedMatchDispatcherFilter.java:61)   at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:78)   at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)   at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:77)   at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:63)   at org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1502)   at org.eclipse.jetty.servlets.UserAgentFilter.doFilter(UserAgentFilter.java:82)   at org.eclipse.jetty.servlets.GzipFilter.doFilter(GzipFilter.java:294)   at com.cenqua.fisheye.web.filters.CustomIncludableGzipFilter.doFilter(CustomIncludableGzipFilter.java:27)   at org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1502)   at com.cenqua.fisheye.web.filters.ProductInfoFilter.doFilter(ProductInfoFilter.java:44)   at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:346)   at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:259)   at org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1502)   at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:46)   at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:70)   at com.atlassian.prettyurls.filter.PrettyUrlsCombinedMatchDispatcherFilter.doFilter(PrettyUrlsCombinedMatchDispatcherFilter.java:61)   at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:78)   at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)   at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:77)   at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:63)   at org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1502)  {code}    Moreover the activity stream provider may be called multiple times when it is unable to provide number of items equal to requested {{maxItems}} (eg. because the list was filtered out by permissions) and each next call requests 3x more items.    Possible solutions:  * eliminate multiple transactions as they trigger Hibernate dirty flush  * apply permissions to first query - do not apply permissions in second step    Problem may be visible to each provider which implements {{CoalescingActivityItemProviderBase.getMoreActivityItems()}}.  ",Bug,Low,Closed,"2015-07-30 09:54:57","2015-07-30 09:54:57",3
"Atlassian FishEye","Incomplete pom.xml data in Maven releases since FeCru ~3.8","pom.xml files for Maven releases prior to Fecru 3.8 were complete and contained all the metadata, including entire list of dependencies. Here is an example of pom.xml from Maven release 3.7.0-20150127093303:    https://maven.atlassian.com/service/local/repositories/atlassian-public/content/com/atlassian/fisheye/fisheye-jar/3.7.0-20150127093303/fisheye-jar-3.7.0-20150127093303.pom  {code}  <project>    <parent>      <groupId>com.atlassian.fisheye</groupId>      <artifactId>atlassian-fisheye-root</artifactId>      <version>3.7.0-20150127093303</version>      <relativePath>../../pom.xml</relativePath>    </parent>    <modelVersion>4.0.0</modelVersion>    <artifactId>fisheye-jar</artifactId>    <packaging>jar</packaging>    <dependencies>      <dependency>        <groupId>com.atlassian.fisheye</groupId>        <artifactId>atlassian-fisheye-dependencies</artifactId>        <type>pom</type>      </dependency>      <!--       the fisheye-api is not a dependency of the main fisheye pom, because it is built from source in the                  fisheye project as part of the fisheye build, but fisheye-jar does depend on it.       -->      <dependency>        <groupId>com.atlassian.fisheye</groupId>        <artifactId>atlassian-fisheye-api</artifactId>      </dependency>    </dependencies>    <build>      <plugins>        <plugin>          <groupId>org.apache.maven.plugins</groupId>          <artifactId>maven-deploy-plugin</artifactId>          <configuration>            <packaging>jar</packaging>          </configuration>        </plugin>      </plugins>    </build>  </project>  {code}    Or, another example: https://maven.atlassian.com/service/local/repositories/atlassian-public/content/com/atlassian/fisheye/atlassian-fisheye-api/3.7.0-20150127093303/atlassian-fisheye-api-3.7.0-20150127093303.pom  {code}  <project>    <parent>      <groupId>com.atlassian.fisheye</groupId>      <artifactId>atlassian-fisheye-root</artifactId>      <version>3.7.0-20150127093303</version>      <relativePath>../../pom.xml</relativePath>    </parent>    <modelVersion>4.0.0</modelVersion>    <artifactId>atlassian-fisheye-api</artifactId>    <properties>      <build.sal.version>${SAL_VERSION}</build.sal.version>      <build.atlassian.event.version>${ATLASSIAN_EVENT_VERSION}</build.atlassian.event.version>      <atlassian.plugins.version>${ATLASSIAN_PLUGINS_VERSION}</atlassian.plugins.version>      <atlassian.plugins.webfragment.version>${ATLASSIAN_PLUGINS_WEBFRAGMENT}</atlassian.plugins.webfragment.version>    </properties>    <dependencies>      <dependency>        <groupId>com.atlassian.event</groupId>        <artifactId>atlassian-event</artifactId>        <version>${build.atlassian.event.version}</version>        <exclusions>          <exclusion>            <groupId>org.springframework</groupId>            <artifactId>spring-core</artifactId>          </exclusion>          <exclusion>            <groupId>org.springframework</groupId>            <artifactId>spring-context</artifactId>          </exclusion>          <exclusion>            <groupId>xml-apis</groupId>            <artifactId>xml-apis</artifactId>          </exclusion>          <exclusion>            <groupId>xerces</groupId>            <artifactId>xmlParserAPIs</artifactId>          </exclusion>          <exclusion>            <groupId>com.google.guava</groupId>            <artifactId>guava</artifactId>          </exclusion>        </exclusions>      </dependency>      <!--  JAXB annotations  -->      <dependency>        <groupId>com.sun.xml.bind</groupId>        <artifactId>jaxb-impl</artifactId>        <version>2.1.10</version>      </dependency>      <!--  atlassian-plugins deps  -->      <dependency>        <groupId>com.atlassian.plugins</groupId>        <artifactId>atlassian-plugins-webfragment</artifactId>        <version>${atlassian.plugins.webfragment.version}</version>        <scope>provided</scope>      </dependency>      <dependency>        <groupId>com.atlassian.plugins.rest</groupId>        <artifactId>atlassian-rest-common</artifactId>        <version>${ATLASSIAN_REST_VERSION}</version>        <exclusions>          <exclusion>            <groupId>com.atlassian.sal</groupId>            <artifactId>sal-api</artifactId>          </exclusion>          <exclusion>            <groupId>com.atlassian.sal</groupId>            <artifactId>sal-core</artifactId>          </exclusion>        </exclusions>      </dependency>      <!--  trusted apps  -->      <dependency>        <groupId>com.atlassian.security.auth.trustedapps</groupId>        <artifactId>atlassian-trusted-apps-core</artifactId>        <version>${ATLASSIAN_TRUSTED_APPS_VERSION}</version>        <exclusions>          <exclusion>            <groupId>bouncycastle</groupId>            <artifactId>bcprov-jdk14</artifactId>            <!--  we include 15 explicitly  -->          </exclusion>          <exclusion>            <groupId>org.slf4j</groupId>            <artifactId>slf4j-api</artifactId>            <!--  we include 15 explicitly  -->          </exclusion>        </exclusions>      </dependency>      <!--  filed under 'misc'  -->      <dependency>        <groupId>opensymphony</groupId>        <artifactId>oscore</artifactId>        <version>2.2.7</version>      </dependency>      <dependency>        <groupId>joda-time</groupId>        <artifactId>joda-time</artifactId>      </dependency>      <dependency>        <groupId>com.google.code.findbugs</groupId>        <artifactId>jsr305</artifactId>      </dependency>      <dependency>        <groupId>com.google.guava</groupId>        <artifactId>guava</artifactId>        <version>${GUAVA_VERSION}</version>        <exclusions>          <exclusion>            <groupId>org.ow2.asm</groupId>            <artifactId>asm-all</artifactId>          </exclusion>        </exclusions>      </dependency>      <dependency>        <groupId>javax.mail</groupId>        <artifactId>mail</artifactId>      </dependency>      <dependency>        <groupId>com.atlassian.guava</groupId>        <artifactId>guava</artifactId>      </dependency>      <dependency>        <groupId>com.atlassian.renderer</groupId>        <artifactId>atlassian-renderer</artifactId>      </dependency>      <dependency>        <groupId>com.atlassian.extras</groupId>        <artifactId>atlassian-extras</artifactId>      </dependency>      <dependency>        <groupId>com.atlassian.applinks</groupId>        <artifactId>applinks-api</artifactId>        <version>${APPLINKS_VERSION}</version>      </dependency>    </dependencies>    <build>      <plugins>        <plugin>          <artifactId>maven-compiler-plugin</artifactId>          <configuration>            <source>${source.level}</source>            <target>${source.level}</target>          </configuration>        </plugin>        <plugin>          <artifactId>maven-jar-plugin</artifactId>          <configuration>            <archive>              <manifestEntries>                <Specification-Title>FishEye/Crucible Java API</Specification-Title>                <Specification-Version>${project.version}</Specification-Version>                <Specification-Vendor>Atlassian</Specification-Vendor>              </manifestEntries>            </archive>          </configuration>        </plugin>        <plugin>          <groupId>org.apache.maven.plugins</groupId>          <artifactId>maven-install-plugin</artifactId>          <configuration>            <groupId>${project.groupId}</groupId>            <artifactId>${project.artifactId}</artifactId>            <version>${project.version}</version>            <packaging>jar</packaging>          </configuration>        </plugin>        <plugin>          <groupId>org.apache.maven.plugins</groupId>          <artifactId>maven-deploy-plugin</artifactId>          <configuration>            <packaging>jar</packaging>          </configuration>        </plugin>      </plugins>    </build>  </project>  {code}    And here is how pom.xml looks for new releases (this is an example, all poms seem to look the same for 5.8 and 5.9 releases):    https://maven.atlassian.com/service/local/repositories/atlassian-public/content/com/atlassian/fisheye/atlassian-fisheye-api/3.9.0-m01/atlassian-fisheye-api-3.9.0-m01.pom  {code}  <project xmlns=http://maven.apache.org/POM/4.0.0 xmlns:xsi=http://www.w3.org/2001/XMLSchema-instance xsi:schemaLocation=http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd>    <modelVersion>4.0.0</modelVersion>    <groupId>com.atlassian.fisheye</groupId>    <artifactId>atlassian-fisheye-api</artifactId>    <version>3.9.0-m01</version>  </project>  {code}",Bug,Medium,Closed,"2015-07-07 12:23:50","2015-07-07 12:23:50",0.77
"Atlassian FishEye","JIRA no longer shows Reviews for Issues linked in review's Objectives","h4. Problem statement  Development panel not showing Reviews for Issues linked in the Objectives.    || JIRA 6.3 and FishEye 3.2.5 || JIRA 6.3 and FishEye 3.6.3 ||  | h4. Steps to Reproduce - part 1  # Create a project in JIRA (e.g. DEMO) with three issues;  # Create an Application Link between JIRA 6.3.x and FishEye 3.2.5;  # Create a Review in Crucible and add:  #* DEMO-1 in the title;  #* DEMO-2 in the Objectives.  # Navigate to JIRA.  | h4. Steps to Reproduce - part 2:  # Remove the link between JIRA and FishEye 3.2.5;  # Add a link between JIRA 6.3 and FishEye 3.6.x;  # Create a Review in Crucible and add:  #* DEMO-1 in the title;  #* DEMO-2 in the Objectives.|  |  h4. Actual Behavior - part 1:  JIRA will show the review under the 'Reviews' tab on both DEMO-1 and DEMO-2. | h4. Actual Behavior - part 2:  JIRA shows the review only on DEMO-1 on the development panel.|    h4. Expected Behavior:  JIRA would display the review on both  DEMO-1 and DEMO-2 when linking to FishEye 3.6.x.",Bug,Low,Closed,"2015-07-08 11:49:59","2015-07-08 11:49:59",0.5
"Atlassian FishEye","Support Microsoft Edge browser for Fisheye","Request for inclusion of [Microsoft Edge Browser|https://www.microsoft.com/en-us/windows/browser-for-doing].",Suggestion,,Closed,"2015-07-03 13:26:20","2015-07-03 13:26:20",0
"Atlassian FishEye","static content accessed with old prefix should be still rendered","Every time FishEye/Crucible instance is upgraded, the static content files are served from a folder of new name, generated as unique value for each FishEye/Crucible version.  E.g. /static/nqrk9o/2static/images/spinner-activity.gif    This is problematic in emails for example - when getting notifications of review activity for instance, emails contains links to static resources using prefix known to particular Crucible version.  If Crucible gets upgraded and user opens old email, static resources like images won't be shown.    FishEye/Crucible should honour old prefixes and still return same content as if the current prefix was used",Suggestion,,Closed,"2015-07-01 01:13:32","2015-07-01 01:13:32",0.5
"Atlassian FishEye","Runtime exceptions not reported via email by smart commits","HTR:  # Do a smart commit to log time for a JIRA issue but don't specify the time 'ISSUE-1 #time'    Expected  # An error email is sent to the mapped committer    Actual:  # No email is sent, there is only an error in the server log",Bug,Low,Closed,"2015-06-16 11:51:33","2015-06-16 11:51:33",0.5
"Atlassian FishEye","Viewing files which have some blame from an excluded revision can resullt in a NullPointerException","Seen for git.  If a part of the blames comes from a revision that has been excluded, this might result in a NullPointerException, with a stack like:  {code}  java.lang.NullPointerException  at com.cenqua.fisheye.vis.BlameColourer.process(BlameColourer.java:37)  at com.cenqua.fisheye.vis.AgeBlameColourer.process(AgeBlameColourer.java:42)  at com.cenqua.fisheye.vis.AnnotationColourerFactory.create(AnnotationColourerFactory.java:33)  at com.cenqua.fisheye.web.ViewFileAction.doChart(ViewFileAction.java:560)  at com.cenqua.fisheye.web.ViewFileAction.handleFileRequest(ViewFileAction.java:216)  at com.cenqua.fisheye.web.ViewFileAction.handleRequest(ViewFileAction.java:145)  at com.cenqua.fisheye.web.BaseAction.processRequest(BaseAction.java:255)  at com.cenqua.fisheye.web.ActionDispatcherServlet.doIt(ActionDispatcherServlet.java:241)  at com.cenqua.fisheye.web.ActionDispatcherServlet.doGet(ActionDispatcherServlet.java:72)  at javax.servlet.http.HttpServlet.service(HttpServlet.java:735)  {code}    The root cause is that the blame is saved with a revision==-1, when indexing. When retrieving the blame this is not handled, causing the error.    We should probably either create dummy revisions, handle the revision not being there, or fallback to SCM in this case.",Bug,Low,Closed,"2015-06-05 16:20:56","2015-06-05 16:20:56",1
"Atlassian FishEye","getReviewsForChangeset() can be very slow for large changesets","When checking the reviews for a specific changeset (this is used in activity streams, changeset page, services used by the JIRA development panel, and the API), the getReviewsForChangeset() method traverses all revisions for the reviews.     The number of revisions can be very large in some cases (especially for tag/branch commits in SVN), causing the method to execute very long.    Example stacks are:  {code}  ...   at com.cenqua.fisheye.rep.impl.CommonRevInfoDAO$3.apply(CommonRevInfoDAO.java:2304)   at com.cenqua.fisheye.rep.impl.CommonRevInfoDAO$3.apply(CommonRevInfoDAO.java:2298)   at com.cenqua.fisheye.rep.impl.CommonRevInfoDAO.searchChangeSetRevids(CommonRevInfoDAO.java:320)   at com.cenqua.fisheye.rep.impl.CommonRevInfoDAO.getReviewsForChangeset(CommonRevInfoDAO.java:2298)   at com.cenqua.fisheye.rep.RevidChangeSet.getReviewIds(RevidChangeSet.java:37)  ...  {code}    Note: this can affect JIRA-FishEye dev status integration and cause timeouts on the Jira dev status panel. This can affect the performance of the following REST query:    {noformat}  /rest/dev-status/1.0/details/repositories?globalId=[ISSUE-KEY]  {noformat}",Bug,Medium,"Long Term Backlog","2015-05-28 19:20:38","2015-05-28 19:20:38",2
"Atlassian FishEye","Email notifications showing < in footer with Wiki markup enabled","Hello,    I have wiki markup enabled and for some reason I'm seeing a < in the footer of my Git commit messages.  Is this something on the FE end?  I'm using Xamarin Studio 5.9.x on a iOS project.    Thank you.",Bug,Low,Closed,"2015-05-27 17:05:59","2015-05-27 17:05:59",0.5
"Atlassian FishEye","Mercurial: error indexing content of file with unicode name on Windows","{{hg cat}} command is executed during content indexing with filename passed as an argument and while Windows converts arguments to ANSI codepage, garbled filename gets to git process, eg:    {noformat}  > hg --config ui.verbose=false cat -r 547a7f4d4890c363836ebe7ae0bfb7e2dc421095 αφιλε.τχτ  ?????.???: no such file in rev 547a7f4d4890  {noformat}    This leads to an error during indexing file content being printed to log and visible in Administration > Repository Status > Recent Errors section:  {quote}Problem indexing content of αφιλε.τχτ for rev 547a7f4d4890c363836ebe7ae0bfb7e2dc421095 from repo unicode-file-names due to class com.atlassian.fisheye.dvcs.handler.DvcsProcessException - Error while communicating with VCS: ?????.???: no such file in rev 547a7f4d4890{quote}  and also an attempt to display file content (request for /browse/unicode-file-names/%CE%B1%CF%86%CE%B9%CE%BB%CE%B5.%CF%84%CF%87%CF%84?r=547a7f4d4890c363836ebe7ae0bfb7e2dc421095) cause an error to be displayed.    Described problem occurs if file.encoding is set to UTF-8 (it's a value that we recommend user to force during fisheye startup). When run with default windows encoding (windows-1250) there are no indexing errors, file content can be displayed, but filename gets garbled:  {quote}  Î±Ď†ÎąÎ»Îµ.Ď„Ď‡Ď„  {quote}",Bug,Low,Closed,"2015-03-27 11:32:00","2015-03-27 11:32:00",0.5
"Atlassian FishEye","Log forging vulnerability","It is possible to fake log entries in FishEye/Crucible logs, by sending specially crafted http requests containing a newline character.    For example going to the url /changelog/asd%0AFake%20log%20entry will cause the following to be logged:  {code}  2015-03-24 09:59:09,564 INFO  [qtp1610928748-315 ] fisheye ServletUtils-send404 - 404: No such repository: asd  Fake log entry referer=null  {code}",Bug,Medium,Closed,"2015-03-24 09:00:27","2015-03-24 09:00:27",0.5
"Atlassian FishEye","Watch Notification create review link incorrect when using context path","h3. Summary  When using context path (eg: /fecru), the repository watch notification email create a review link use both value in Site URL (eg: http://localhost:8060/fecru) and context path to be an incorrect URL eg: http://localhost:8060/fecru//fecru/cru/create?csid=###    Other links in watch notification is correct except for this create a review link    h3. Steps to Reproduce  # Set a {{Site URL}} including a context path (e.g. {{http://localhost:8060/fecru}})  # Set a {{Web context}} (e.g. {{/fecru}})  # Enable the Email notification  # Make a change for a repository you are watching    h3. Expected Results  All the links in the received email are correct and point to a valid page for FishEye/Crucible.    h3. Actual Results  The create a review link is incorrect and contains a duplicated context path:  {{http://localhost:8060/fecru//fecru/cru/create?csid=<revision_id>}}    h3. Workaround  The link can be changed by hardcoding the correct Site URL (including the context path) in the email template.  # Locate the {{<FishEye home directory>/fisheye/html/changeset-mail.ftl}} file  # Change this line (this is line 25 for version 3.8.1):  {noformat}  [@a href=${siteurl}/${csd.createReviewUrl}]create a review[/@a]  {noformat}  To the following where {{<hardcoded_value>}} is the url of your instance. Note that there {{/}} should be removed.  {noformat}  [@a href=<hardcoded_value>${csd.createReviewUrl}]create a review[/@a]  {noformat}  ",Bug,Low,Closed,"2015-03-20 13:45:06","2015-03-20 13:45:06",0.5
"Atlassian FishEye","FishEye and Crucible always shows trunk for svn even if it doesn't exist","FishEye and Crucible will always assume there is a a trunk with trunk name in any svn repository. This will appear in :  * the default base branch on the branch review screen  * the first branch at the branch selector list on the branch review screen  * the first branch at the branch selector list on the repository browser",Bug,Low,Closed,"2015-03-04 17:03:40","2015-03-04 17:03:40",0.5
"Atlassian FishEye","Blame SCM fallback should persist the fetched blame","In some cases requests to get blame will call out to the SCM to retrieve it. This happen if storing blame is disabled globally (via the fisheye.blame.calc.enable [system property|https://confluence.atlassian.com/display/FISHEYE035/System+Properties]), or for SVN if the changeset is not completely indexed yet.    The fetched blame is used by that request, but not persisted anywhere, so subsequent calls will reach out to the SCM again, until the blame is available from indexing (or always in case storing blame is completely disabled).     The retrieved blame should be persisted instead, so that subsequent calls don't need to re-fetch it.",Bug,High,Closed,"2015-02-10 09:37:25","2015-02-10 09:37:25",5
"Atlassian FishEye","Activity stream and changeset log allocate huge amounts of memory","Activity stream and chanegset log use cross-repository Lucene index and for big number of documents stored in index they may fail with OOME:  {code}  Caused by: java.lang.OutOfMemoryError: Java heap space          at org.apache.lucene.search.FieldComparator$LongComparator.<init>(FieldComparator.java:463)          at org.apache.lucene.search.SortField.getComparator(SortField.java:405)          at org.apache.lucene.search.FieldValueHitQueue$OneComparatorFieldValueHitQueue.<init>(FieldValueHitQueue.java:70)          at org.apache.lucene.search.FieldValueHitQueue.create(FieldValueHitQueue.java:178)          at org.apache.lucene.search.TopFieldCollector.create(TopFieldCollector.java:913)          at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:197)          at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:177)          at org.apache.lucene.search.Searcher.search(Searcher.java:49)          at com.cenqua.fisheye.csindex.BaseRecentChangesSearcher2$1.perform(BaseRecentChangesSearcher2.java:78)          at com.cenqua.fisheye.csindex.BaseRecentChangesSearcher2$1.perform(BaseRecentChangesSearcher2.java:74)          at com.cenqua.fisheye.lucene.LuceneConnection.withIndexSearcher(LuceneConnection.java:359)          at com.cenqua.fisheye.csindex.BaseRecentChangesSearcher2.doSearch(BaseRecentChangesSearcher2.java:74)          at com.cenqua.fisheye.csindex.BaseRecentChangesSearcher2.findRecentChangeSets(BaseRecentChangesSearcher2.java:61)          at com.cenqua.fisheye.csindex.BaseRecentChangesSearcher2.findRecentChangeSets(BaseRecentChangesSearcher2.java:46)          at com.cenqua.fisheye.csindex.RecentChangesSearcher2.findRecentChangeSets(RecentChangesSearcher2.java:48)          at com.cenqua.fisheye.cache.BaseRevisionCache.findRecentChangeSets(BaseRevisionCache.java:395)          at com.cenqua.fisheye.web.FisheyeChangelogExplorer.computeData(FisheyeChangelogExplorer.java:130)          at com.atlassian.crucible.explorers.RepositoryChangelogExplorer.computeData(RepositoryChangelogExplorer.java:80)          at com.atlassian.crucible.actions.create.EditChangelogAction.initChangesets(EditChangelogAction.java:112)          at com.atlassian.crucible.actions.create.EditChangelogAction.getExplorer(EditChangelogAction.java:73)          at sun.reflect.GeneratedMethodAccessor1395.invoke(Unknown Source)          at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)          at java.lang.reflect.Method.invoke(Method.java:606)          at javax.el.BeanELResolver.getValue(BeanELResolver.java:305)          at javax.el.CompositeELResolver.getValue(CompositeELResolver.java:188)          at com.sun.el.parser.AstValue.getValue(AstValue.java:120)          at com.sun.el.parser.AstValue.getValue(AstValue.java:167)          at com.sun.el.ValueExpressionImpl.getValue(ValueExpressionImpl.java:224)          at org.apache.jasper.runtime.PageContextImpl.evaluateExpression(PageContextImpl.java:1009)          at org.apache.jsp.WEB_002dINF.jsp.crucible.create.create_005fselectRevisions_005fchangelogAjaxResp_jsp._jspx_meth_cru_asJavascriptString_0(create_005fselectRevisions_005fchangelogAjaxResp_jsp.java:171)          at org.apache.jsp.WEB_002dINF.jsp.crucible.create.create_005fselectRevisions_005fchangelogAjaxResp_jsp._jspService(create_005fselectRevisions_005fchangelogAjaxResp_jsp.java:98)          at org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:111)  {code}    The root cause is a Predicate forcing to allocate array of longs for all documents in index. For ~60 million documents it is ~500MB per call",Bug,Low,Closed,"2015-01-30 13:54:09","2015-01-30 13:54:09",4
"Atlassian FishEye","Old FishEye logo","Password reset remainder email uses old FishEye logo.  Let's review other potential places where it is used, same applies to old Crucible logo most likely.  Old logo attached, notice different font and letter case.  ",Bug,Low,Closed,"2015-01-28 17:38:33","2015-01-28 17:38:33",1
"Atlassian FishEye","Only public repositories from Stash can be added when using Trusted Authentication","If using Trusted Authentication for the Application Link between FishEye and Stash, only public repositories are displayed.     *Steps to Reproduce*    # Create an Application Link between Stash and FishEye with only Trusted Authentication  # In FishEye, try to add a Stash repository using the {{Stash repositories}} tab  # Only public repositories will be displayed    *Workaround*    Switch to using OAuth authentication for the Application Link",Bug,Low,Closed,"2015-01-22 01:37:44","2015-01-22 01:37:44",3
"Atlassian FishEye","Error message not displayed when adding a new user with an invalid username or email","When adding a new built-in user with username: xxx-yyy and an email address which is already in use, the Add User page is redisplayed with no error messages.  The user is also not created.",Bug,Highest,Closed,"2014-08-04 04:28:30","2014-08-04 04:28:30",1
"Atlassian FishEye","Setting a short poll period, and having repositories that take a long time to check for changes, might cause other repositories never to be scheduled","Due to a greedy repository scheduling algorithm we use when scheduling repository scanning, if the requested poll period is short (e.g. default = 60 seconds) and checking for changes takes a time that's longer than the poll period (slurp), a new request IncrementalPingRequest will be scheduled as soon as the previous one is done.     This combined with RepositoryHandle#processPingRequests not releasing the executor until all ping requests are processed, will cause the repository never to release the executor, and prevent other repositories from being updated.        h4. Workaround     - Increase the poll period of affected repositories, e.g. from the default 60 seconds to 5 minutes.  - Increase the number of incremental indexing threads (if your system has enough resources to do so).",Bug,Low,Closed,"2014-12-29 13:31:45","2014-12-29 13:31:45",3
"Atlassian FishEye","Maximum Indexable File Size by default saved as 0.1MB","According to this [documentation|https://confluence.atlassian.com/display/FISHEYE/Text+file+size+limiting], the default file size limit should be 5MB.    However, Maximum Indexable File Size at {{Administration >> Repository Settings >> Defaults >> Other Settings}} default value is 0.1MB    h3.Steps to reproduce  # Install new FishEye/Crucible 3.6.2  # Make sure that the repository default does not have the value for Maximum Indexable File Size in {{config.xml}}  # Add a SVN repository  # Commit a file with the size 2MB into the repository  FishEye/Crucible able to show the diff of the file at http://localhost:8060/changelog/svnrepo?cs=<revision>  # Check the Maximum Indexable File Size at {{Administration >> Repository Settings >> Defaults >> Other Settings}}  It is showing 0.1MB  # Check the Maximum Indexable File Size at {{Administration >> Repository Settings >> Repositories >> svnrepo >> Other Settings}}  It is showing Use the system default settings for max indexable settings (0.1MB)  However, it is still able to index 2MB file  # Navigate to {{Administration >> Repository Settings >> Defaults}}  # Click on the button Save changes on any of the tab  It will save the default selected option 0.1MB for Maximum Indexable File Size. Can confirm this by checking {{config.xml}}  # Change only a line in the 2MB file and commit it  FishEye/Crucible can still show the diff of the file  # Restart the repository  # Change only a line in the 2MB file and commit it again  FishEye/Crucible can't show the diff of the file with the following info:  {noformat}  test.txt is too large to show a diff.  To see the diff between revisions 24 and 25 of test.txt download them and use a diff tool. For more information about text file size limits and how to modify them see the documentation.  {noformat}  However, FishEye/Crucible can still show the diff of the same file for the older revision (eg: 23-24) that is committed before the restart  # Change only a line in the 2MB file and commit it again  # Before the above commit is indexed by FishEye/Crucible, set the Maximum Indexable File Size at {{Administration >> Repository Settings >> Repositories >> svnrepo >> Other Settings}} to be 5MB  # Restart the repository  FishEye/Crucible still can't show the diff at step 12  # Change only a line in the 2MB file and commit it again  FishEye/Crucible can show the latest diff now",Bug,Medium,Closed,"2014-12-26 10:21:33","2014-12-26 10:21:33",0.5
"Atlassian FishEye","A request to rescan Perforce changelists triggers reindexing of all changeset data","When using the 'Rescan' maintenance option for a Perforce repository to rescan already indexed changelists, a request to reindex all the changelist in the repository is triggered, which might take a long time for larger repositories.",Bug,Low,Closed,"2014-12-22 14:10:04","2014-12-22 14:10:04",0.5
"Atlassian FishEye","Adding Stash Repository Fails When Repository Name Exists With Different Case in FishEye","If you have a repository in FishEye, {{Repo}} for example, and you try to add the {{repo}} repository from Stash, the add fails with the error {{Repository 'repo' already exists.}} It affects FishEye version 3.6.2 and newer.    h5. Actual Behaviour  When adding the repository, it fails with an error saying that the repository already exists.    h5. Expected Behaviour  If the repository already exists, the user should be prompted to change the name of the repository.     h5. Steps to Reproduce    # Create a repository in FishEye called {{Repo}}.  # Create a repository in Stash called {{repo}}.  # Try to add the repository in FishEye from the {{Stash}} tab.",Bug,Low,Closed,"2014-12-11 15:42:44","2014-12-11 15:42:44",1
"Atlassian FishEye","[JFP] Fix Crucible search from JIRA Project Overview","h4. +Steps to reproduce+    # create an applinks between JIRA and Fisheye/Crucible  # link a JIRA issue to a Fisheye Commit and a Crucible Review  # go to Project Overview -> Source/Reviews  (/) commit and review are displayed properly, respectively in Source and in Review  !review.png|thumbnail!  # try to Search Fisheye from Source --> this works  # (x) try to Search Crucible from Reviews --> this does NOT work  !searchcru.png|thumbnail!    +Stacktrace in FECRU log:+  {noformat}  2014-12-09 18:15:24,177 ERROR [qtp1757077621-258 ] com.opensymphony.webwork.dispatcher.DispatcherUtils DispatcherUtils-serviceAction - Could not find action  There is no Action mapped for namespace /cru and action name search. Check if there is such an action name with such namespace defined in the xwork.xml and also if such an action class exists. Check also the log to see if the action class is successfully loaded. - [unknown location]   at com.opensymphony.xwork.DefaultActionProxy.<init>(DefaultActionProxy.java:75)   at com.opensymphony.xwork.DefaultActionProxyFactory.createActionProxy(DefaultActionProxyFactory.java:46)   at com.opensymphony.webwork.dispatcher.DispatcherUtils.serviceAction(DispatcherUtils.java:265)   at com.opensymphony.webwork.dispatcher.ServletDispatcher.service(ServletDispatcher.java:111)   at javax.servlet.http.HttpServlet.service(HttpServlet.java:848)   at org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:669)   at org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1526)   at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:46)   at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:66)   at com.atlassian.applinks.core.rest.context.ContextFilter.doFilter(ContextFilter.java:25)   at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:74)   at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)   at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:66)   at com.atlassian.prettyurls.filter.PrettyUrlsSiteMeshFixupFilter.doFilter(PrettyUrlsSiteMeshFixupFilter.java:36)   at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:74)   at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)   at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:66)   at com.atlassian.prettyurls.filter.PrettyUrlsDispatcherFilter.doFilter(PrettyUrlsDispatcherFilter.java:60)   at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:74)   at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)   at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:66)   at com.atlassian.prettyurls.filter.PrettyUrlsSiteMeshFilter.doFilter(PrettyUrlsSiteMeshFilter.java:92)   at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:74)   at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)   at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:66)   at com.atlassian.prettyurls.filter.PrettyUrlsMatcherFilter.doFilter(PrettyUrlsMatcherFilter.java:56)   at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:74)   at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)   at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:77)   at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:63)   at org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1502)   at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:46)   at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:66)   at com.atlassian.prettyurls.filter.PrettyUrlsCombinedMatchDispatcherFilter.doFilter(PrettyUrlsCombinedMatchDispatcherFilter.java:61)   at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:74)   at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)   at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:77)   at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:63)   at org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1502)   at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:83)   at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:76)   at org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1502)   at com.atlassian.crucible.filters.CrucibleFilter.doFilter(CrucibleFilter.java:148)   at org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1502)   at com.cenqua.fisheye.web.filters.TotalityFilter.doFilter(TotalityFilter.java:301)   at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:237)   at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:167)   at org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1502)   at com.atlassian.security.auth.trustedapps.filter.TrustedApplicationsFilter.doFilter(TrustedApplicationsFilter.java:100)   at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:237)   at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:167)   at org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1502)   at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:46)   at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:66)   at com.atlassian.oauth.serviceprovider.internal.servlet.OAuthFilter.doFilter(OAuthFilter.java:69)   at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:74)   at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)   at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:66)   at com.atlassian.prettyurls.filter.PrettyUrlsCombinedMatchDispatcherFilter.doFilter(PrettyUrlsCombinedMatchDispatcherFilter.java:61)   at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:74)   at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)   at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:77)   at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:63)   at org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1502)   at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:46)   at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:66)   at com.atlassian.prettyurls.filter.PrettyUrlsCombinedMatchDispatcherFilter.doFilter(PrettyUrlsCombinedMatchDispatcherFilter.java:61)   at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:74)   at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)   at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:77)   at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:63)   at org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1502)   at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:455)   at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:137)   at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:575)   at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:231)   at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1075)   at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:384)   at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:193)   at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1009)   at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:135)   at org.eclipse.jetty.server.Dispatcher.forward(Dispatcher.java:276)   at org.eclipse.jetty.server.Dispatcher.forward(Dispatcher.java:103)   at com.cenqua.fisheye.web.filters.TotalityFilter.doFilter(TotalityFilter.java:203)   at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:237)   at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:167)   at org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1502)   at com.atlassian.security.auth.trustedapps.filter.TrustedApplicationsFilter.doFilter(TrustedApplicationsFilter.java:100)   at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:237)   at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:167)   at org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1502)   at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:46)   at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:66)   at com.atlassian.oauth.serviceprovider.internal.servlet.OAuthFilter.doFilter(OAuthFilter.java:69)   at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:74)   at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)   at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:66)   at com.atlassian.prettyurls.filter.PrettyUrlsCombinedMatchDispatcherFilter.doFilter(PrettyUrlsCombinedMatchDispatcherFilter.java:61)   at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:74)   at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)   at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:77)   at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:63)   at org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1502)   at org.eclipse.jetty.servlets.UserAgentFilter.doFilter(UserAgentFilter.java:82)   at org.eclipse.jetty.servlets.GzipFilter.doFilter(GzipFilter.java:294)   at com.cenqua.fisheye.web.filters.CustomIncludableGzipFilter.doFilter(CustomIncludableGzipFilter.java:27)   at org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1502)   at com.cenqua.fisheye.web.filters.ProductInfoFilter.doFilter(ProductInfoFilter.java:44)   at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:237)   at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:167)   at org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1502)   at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:46)   at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:66)   at com.atlassian.prettyurls.filter.PrettyUrlsCombinedMatchDispatcherFilter.doFilter(PrettyUrlsCombinedMatchDispatcherFilter.java:61)   at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:74)   at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)   at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:77)   at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:63)   at org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1502)   at com.cenqua.fisheye.web.filters.UpfrontFilter.doFilter(UpfrontFilter.java:60)   at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:237)   at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:167)   at org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1502)   at com.atlassian.fecru.profiling.ProfilingServletFilter.doFilter(ProfilingServletFilter.java:62)   at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:237)   at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:167)   at org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1502)   at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:455)   at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:137)   at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:557)   at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:231)   at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1075)   at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:384)   at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:193)   at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1009)   at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:135)   at org.eclipse.jetty.server.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:255)   at org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:154)   at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:116)   at org.eclipse.jetty.server.Server.handle(Server.java:368)   at org.eclipse.jetty.server.AbstractHttpConnection.handleRequest(AbstractHttpConnection.java:489)   at org.eclipse.jetty.server.AbstractHttpConnection.headerComplete(AbstractHttpConnection.java:942)   at org.eclipse.jetty.server.AbstractHttpConnection$RequestHandler.headerComplete(AbstractHttpConnection.java:1004)   at org.eclipse.jetty.http.HttpParser.parseNext(HttpParser.java:640)   at org.eclipse.jetty.http.HttpParser.parseAvailable(HttpParser.java:235)   at org.eclipse.jetty.server.AsyncHttpConnection.handle(AsyncHttpConnection.java:82)   at org.eclipse.jetty.io.nio.SelectChannelEndPoint.handle(SelectChannelEndPoint.java:628)   at org.eclipse.jetty.io.nio.SelectChannelEndPoint$1.run(SelectChannelEndPoint.java:52)   at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:608)   at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:543)   at java.lang.Thread.run(Thread.java:745)  {noformat}",Bug,Medium,Closed,"2014-12-10 14:04:57","2014-12-10 14:04:57",1
"Atlassian FishEye","[JFP] Perforce Job Integration configurations disappear after restart","The Perforce Job Integration configurations do not remain visible in the UI when JIRA is restarted.  The user must manually re-enter the values after a restart for the Perforce integration to operate.    The configurations don't seem to be actually disappearing after the restart as they persist in the database. The issue seems to be in the UI. Rather than recognizing that configurations exist for Perforce Job Integrations, the system acts as if nothing is there.",Bug,Low,Closed,"2014-12-03 08:40:23","2014-12-03 08:40:23",3
"Atlassian FishEye","Slow listing SVN properties with SVNKit","SVNKit is very slow when listing all properties on repository.     For repository generated by [^gen-large-svn.py] (1 mln paths)     {code}  $ time svn proplist -R -r 1001 file:///home/czawadka/repos/large-svn/large-svn@1001  real    0m23.147s  user    0m18.781s  sys     0m4.275s    $ time jsvn proplist -R -r 1001 file:///home/czawadka/repos/large-svn/large-svn@1001  real    61m52.926s  user    59m14.678s  sys     3m6.295s  {code}  That means SVNKit (jsvn) is 400x slower then the native (svn) implementation.     SVNKit is aware of that fact as it prepared FAQ how to deal with slow proplist - https://web.archive.org/web/20140923170354/http://wiki.svnkit.com/SVNKit_FAQ#Q:_Recursive_repository_properties_fetch.2BAFw-list_operation_is_slow._Is_it_possible_to_make_it_work_faster.3F    h3. Workaround  To overcome the issue [Native Subversion Client|https://confluence.atlassian.com/display/FISHEYE/Native+Subversion+Client] should be configured in Fisheye/Crucible.",Suggestion,,Closed,"2014-11-17 09:04:14","2014-11-17 09:04:14",1
"Atlassian FishEye","500 error received from FishEye when retrieving changesets for Source tab in JIRA","This list may be incomplete, as errors occurred whilst retrieving source from linked applications: Repository confluence on https://atlaseye.atlassian.com/ failed: Error in remote call to 'atlaseye' (https://atlaseye.atlassian.com) [AbstractRestCommand{path='/rest-service-fe/changeset-v1/listChangesets/', params={expand=changesets[-11:-1].revisions[0:9], comment=CONFDEV-10202, p4JobFixed=CONFDEV-10202, rep=confluence}, methodType=GET}] : Received status code 500 (Internal Server Error)",Bug,Low,Closed,"2014-11-15 18:55:49","2014-11-15 18:55:49",1
"Atlassian FishEye","Support Git v2.x","git 2.0 is around for few months already and 2.1 was released too, see https://www.kernel.org/pub/software/scm/git/  Let's ensure they are supported by FishEye and announce publicly support for them. ",Suggestion,,Closed,"2014-10-27 14:57:59","2014-10-27 14:57:59",1
"Atlassian FishEye","A spurious FileLockException is thrown when a repository throws an exception on startup","If the process of starting a repository at startup of FishEye throws an exception, then that repository's InfinityDB instance is left open, even though the repository is not in the STATE_RUNNING state.    This means that when the user tries to start the repository from the admin UI a spurious locking exception is thrown.    e.g. initial exception:    {noformat}  2014-10-15 07:18:03,907 WARN  [RepoStarter-5 storesvn ] fisheye DefaultRepositoryManager$3$1-call - Problem starting repository storesvn  java.lang.NullPointerException   at com.atlassian.fisheye.svn.Svn2RepositoryEngine.getEarliestInState(Svn2RepositoryEngine.java:175)   at com.atlassian.fisheye.svn.Svn2RepositoryEngine.initialiseRepositoryStatus(Svn2RepositoryEngine.java:127)   at com.cenqua.fisheye.rep.RepositoryEngine.start(RepositoryEngine.java:218)   at com.cenqua.fisheye.rep.RepositoryHandle.run(RepositoryHandle.java:404)   at com.cenqua.fisheye.config.DefaultRepositoryManager.runRepository(DefaultRepositoryManager.java:352)   at com.cenqua.fisheye.config.DefaultRepositoryManager$3$1.call(DefaultRepositoryManager.java:403)   at com.cenqua.fisheye.config.DefaultRepositoryManager$3$1.call(DefaultRepositoryManager.java:399)   at com.cenqua.fisheye.util.NamedExecution.call(NamedExecution.java:31)   at com.cenqua.fisheye.config.DefaultRepositoryManager$3.call(DefaultRepositoryManager.java:399)   at com.cenqua.fisheye.config.DefaultRepositoryManager$3.call(DefaultRepositoryManager.java:395)   at java.util.concurrent.FutureTask.run(FutureTask.java:262)   at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)   at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)   at java.lang.Thread.run(Thread.java:724)  {noformat}    will result in this Exception when the user tries to start the repo:    {noformat}  Caused by: java.lang.RuntimeException: com.cenqua.fisheye.rep.DbException: com.cenqua.obfuscate.idbn5uu6o.locking.FileLockException: Cannot lock file in exclusive mode - already open internally   at com.cenqua.fisheye.infinitydb.CachingUniqueStringTable.initialCacheSize(CachingUniqueStringTable.java:137)   at com.cenqua.fisheye.infinitydb.CachingUniqueStringTable.<init>(CachingUniqueStringTable.java:28)   at com.cenqua.fisheye.infinitydb.CachingUSTDelegatorFactory.delegate(CachingUSTDelegatorFactory.java:6)   at com.cenqua.fisheye.infinitydb.InfinityDbHandle.createUniqueStringTable(InfinityDbHandle.java:171)   at com.cenqua.fisheye.rep.impl.CommonStringTables.createForId(CommonStringTables.java:44)   at com.cenqua.fisheye.rep.impl.CommonStringTables.<init>(CommonStringTables.java:29)   at com.cenqua.fisheye.svn.db.SvnStringTables.<init>(SvnStringTables.java:16)   at com.atlassian.fisheye.svn.Svn2Cache.<init>(Svn2Cache.java:83)   at com.atlassian.fisheye.svn.Svn2RepositoryEngine.createCache(Svn2RepositoryEngine.java:70)   at com.atlassian.fisheye.svn.Svn2RepositoryEngine.createCache(Svn2RepositoryEngine.java:26)   at com.cenqua.fisheye.rep.BaseRepositoryEngine.doStart(BaseRepositoryEngine.java:57)   at com.cenqua.fisheye.rep.RepositoryEngine.start(RepositoryEngine.java:200)   at com.cenqua.fisheye.rep.RepositoryHandle.run(RepositoryHandle.java:404)   at com.cenqua.fisheye.config.DefaultRepositoryManager.runRepository(DefaultRepositoryManager.java:352)   at com.atlassian.fisheye.spi.admin.impl.DefaultRepositoryAdminService.start(DefaultRepositoryAdminService.java:1329)  {noformat}    We should be reporting exceptions thrown during startup as engine errors in the UI.    h4. Workaround    Completely re-index the repository:    #    Stop the repository.  #    Backup and delete the index folder at FISHEYE_INST/var/cache/<reponame>  #    Start the repository.",Bug,High,Closed,"2014-10-23 06:52:36","2014-10-23 06:52:36",1
"Atlassian FishEye","2LOi requests made from an application that has the username in a different case than FishEye/Crucible aren't authenticated properly even if 'force lowercase' is set","The implementation of com.atlassian.sal.api.user.UserManager#resolve, doesn't consider the 'force lowercase'   setting when processing the username provided in the 2LO request. This will cause the request to continue being processed as anonymous (as the 2lo validation succeeds, but it didn't have a valid username).    This potentially affects other auth methods that try to resolve a username (like trusted apps). 3LO is not affected, as the exact-cased username is stored with the 3LO token when creating the token.    Effects of this might include requests made from other applications with such a configuration to be treated as anonymous requests, and show incomplete or no data, depending on the request type and Fisheye's configuration.    A workaround is to use 3-legged OAuth for such configurations.",Bug,Medium,Closed,"2014-10-16 12:00:28","2014-10-16 12:00:28",2
"Atlassian FishEye","Files with Chinese characters in paths fail to render in Perforce repositories when running on Windows","SCM: Perforce   Fisheye version: 3.4.3  Bug:   Cannot download the document that its title includes Chinese character from fisheye. The detail sees to attached screenshot.",Bug,Low,Closed,"2014-09-29 05:37:46","2014-09-29 05:37:46",0.5
"Atlassian FishEye","FishEye loses repository topological structure when include/excludes are defined","There is a legal logical/code path which can lead to warnings in logs:     {code}  WARN Could not determine position of earliest parent for changeset  {code}      caused by:  {code}  DEBUG Ignoring changeset *; it does not contain any changes in the watched area  {code}    and affecting indexing performance:  {code}  INFO Branch * has been moved from * to *, which is not a descendant of its old value. Rebuilding branch memberships for the branch  {code}        ",Bug,High,Closed,"2014-09-26 12:51:11","2014-09-26 12:51:11",5
"Atlassian FishEye","Directory Scanning Plugin (aka repositron) fails on subversion 1.8 repositories","Reported in https://jira.atlassian.com/browse/FE-4709?focusedCommentId=644005&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-644005  I've checked locally on FeCru 3.6.0 snapshot with repositron-1.0.7-SNAPSHOT version and svn repository created with svn 1.8.5 (r1542147).  It fails indeed with the exception:  {noformat}     [java] svn: Unable to open repository 'file:///Users/piotrs/dev/fe-git/output/tmp/repos/svn_18_repo'     [java] svn: Expected FS format between '1' and '4'; found format '6'     [java]  at org.tmatesoft.svn.core.internal.wc.SVNErrorManager.error(SVNErrorManager.java:64)     [java]  at org.tmatesoft.svn.core.internal.wc.SVNErrorManager.error(SVNErrorManager.java:51)     [java]  at org.tmatesoft.svn.core.internal.io.fs.FSRepository.openRepository(FSRepository.java:746)     [java]  at org.tmatesoft.svn.core.internal.io.fs.FSRepository.checkPath(FSRepository.java:191)     [java]  at com.atlassian.fisheye.repositron.jobs.SVNJob.validate(SVNJob.java:67)     [java]  at com.atlassian.fisheye.repositron.jobs.AutoDetectionJob$1.perform(AutoDetectionJob.java:83)     [java]  at com.atlassian.crucible.spi.impl.DefaultImpersonationService.doPrivilegedAction(DefaultImpersonationService.java:71)     [java]  at sun.reflect.GeneratedMethodAccessor251.invoke(Unknown Source)     [java]  at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)     [java]  at java.lang.reflect.Method.invoke(Method.java:606)     [java]  at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:309)     [java]  at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:183)     [java]  at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:150)     [java]  at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:80)     [java]  at com.cenqua.crucible.hibernate.WithSessionAspect.doCloseSession(WithSessionAspect.java:37)     [java]  at sun.reflect.GeneratedMethodAccessor63.invoke(Unknown Source)     [java]  at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)     [java]  at java.lang.reflect.Method.invoke(Method.java:606)     [java]  at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:621)     [java]  at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:610)     [java]  at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:65)     [java]  at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:161)     [java]  at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:89)     [java]  at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)     [java]  at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:202)     [java]  at com.sun.proxy.$Proxy62.doPrivilegedAction(Unknown Source)     [java]  at sun.reflect.GeneratedMethodAccessor251.invoke(Unknown Source)     [java]  at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)     [java]  at java.lang.reflect.Method.invoke(Method.java:606)     [java]  at com.atlassian.plugin.osgi.hostcomponents.impl.DefaultComponentRegistrar$ContextClassLoaderSettingInvocationHandler.invoke(DefaultComponentRegistrar.java:129)     [java]  at com.sun.proxy.$Proxy134.doPrivilegedAction(Unknown Source)     [java]  at sun.reflect.GeneratedMethodAccessor251.invoke(Unknown Source)     [java]  at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)     [java]  at java.lang.reflect.Method.invoke(Method.java:606)     [java]  at com.atlassian.plugin.osgi.bridge.external.HostComponentFactoryBean$DynamicServiceInvocationHandler.invoke(HostComponentFactoryBean.java:154)     [java]  at com.sun.proxy.$Proxy134.doPrivilegedAction(Unknown Source)     [java]  at com.atlassian.fisheye.repositron.jobs.AutoDetectionJob.execute(AutoDetectionJob.java:55)     [java]  at com.atlassian.sal.core.scheduling.TimerPluginScheduler$PluginTimerTask.run(TimerPluginScheduler.java:89)     [java]  at java.util.TimerThread.mainLoop(Timer.java:555)     [java]  at java.util.TimerThread.run(Timer.java:505)  {noformat}  and the following info message is logged in the log:  {noformat}  2014-09-17 08:17:58,457 INFO  [PluginSchedulerTask-/Users/piotrs/dev/fe-git/output/tmp/repos ] fisheye.app AutoDetectionJob$1-perform - Failed to add svn_18_repo as a repository to fisheye from configured directory /Users/piotrs/dev/fe-git/output/tmp/repos  {noformat}    h2. Workaround  As a workaround for now please add svn 1.8 repositories manually to your fisheye instance.",Bug,Low,Closed,"2014-09-17 07:34:32","2014-09-17 07:34:32",0.5
"Atlassian FishEye","loading all historical file revisions into cache can cause OOM - view raw revision","All info here:  https://extranet.atlassian.com/display/FECRU/Fisheye.dev+OOME+crash+analysis  * check performance of loading raw build.xml and why we need to load all revisions into cache  * why cache is not lazy loaded and maybe why cache at all    Look for other similar usages of (a specially used to load a single revision):  {code}  FileHistory hist = crep.getFileHistory(params.getPath());  {code}  e.g. PatchPrinter#sendAddedFile or TarballAction#checkFile    * is there any logic freeing the cache?        ",Bug,Medium,Closed,"2014-09-03 09:39:14","2014-09-03 09:39:14",1
"Atlassian FishEye","Long string will cause a java.lang.StackOverflowError for files in repository","A very long string inside a file will cause a {{java.lang.StackOverflowError}} for files in repository when trying to view the source of this file or trying to add it to a review.    The following is shown in the logs:  {noformat}  2014-09-02 17:47:41,707 WARN  [qtp1829860190-171 ] org.eclipse.jetty.servlet.ServletHandler ServletHandler-doHandle - Error for /browse/merc/WFScheduleXMLTest.cs  java.lang.StackOverflowError   at java.util.regex.Pattern$LazyLoop.match(Pattern.java:4730)   at java.util.regex.Pattern$GroupTail.match(Pattern.java:4615)   at java.util.regex.Pattern$BranchConn.match(Pattern.java:4466)   at java.util.regex.Pattern$CharProperty.match(Pattern.java:3694)   at java.util.regex.Pattern$Branch.match(Pattern.java:4502)   at java.util.regex.Pattern$GroupHead.match(Pattern.java:4556)   (...)  {noformat}    h3.Steps to Reproduce  # Create a file which highlights a string (in my test I used a .cs file).  # Define a long string (e.g. assigning it to a variable).  # Save and commit it to the repository.  # Have this file indexed by FishEye and try viewing its content.    The file used to test this is attached (*test.cs*).    h3.Workaround  * Break the long line in smaller lines.    OR    * Increase the thread stack size by increasing the -Xss JVM parameter (e.g. -Xss2m). This can be set in the *FISHEYE_OPTS* environment variable (refer to [Environment Variables|https://confluence.atlassian.com/display/FISHEYE/Environment+variables] for further information on this). Please notice that increasing the thread stack size will allocate more memory for each thread, so Out of Memory errors may happen after increasing this setting if you do not have enough memory allocated for FishEye.  ",Bug,Medium,Closed,"2014-09-02 22:56:50","2014-09-02 22:56:50",0.5
"Atlassian FishEye","Make Directory Scanning Plugin traverse directory tree","Gitlab stores repositories per-project under separate directories. It would be nice to have a feature in FishEye for GitLab integration, so that those subdirectories would be automatically added as repositories, by simply specifying the parent directory (project) via the file:// protocol.",Suggestion,,Closed,"2014-08-05 10:39:52","2014-08-05 10:39:52",0.5
"Atlassian FishEye","Jira issue keys wrongly matched to review keys","https://jira.atlassian.com/browse/FE-2639    Source tab shows a57a4658042021f8346697cbb1cdd99d811a1211 because it has CR-FE-2639 review key.",Bug,Medium,Closed,"2012-11-06 12:53:51","2012-11-06 12:53:51",3
"Atlassian FishEye","Review default JVM options","If MaxNewSize is not defined in FISHEYE_OPTS Fisheye sets -XX:MaxNewSize=128m which may be downside. JVM by default calculates MaxNewSize from NewRatio (=2) which leads MaxNewSize to be 1/3 of Xmx.    Conclusion - remove default -XX:MaxNewSize=128m JVM option    Default -Xmx is 1024m and MaxPermSize is 256m which seem to be fine",Suggestion,,Closed,"2014-06-25 13:56:51","2014-06-25 13:56:51",1
"Atlassian FishEye","User mapping goes wrong when changing user's Username in JIRA","When the user base is managed by JIRA and the Username of a user is changed, the User Mapping of this user gets blank in the column {{User}}. When editing the User Mapping, it does not seem it is correctly mapped, so maybe User Mappings should be reviewed when the user base is re-synchronized.    Steps to reproduce:  # Have a repository in FishEye with at least one commiter to test.  # Create a user in JIRA (e.g. Username = <USER>). JIRA used is in version 6.2.5.  # Configure FishEye Authentication to use JIRA (create JIRA User Server, connect FishEye to it, synchronize groups, etc). The only setting I changed from default was {{When synchronisation happens}}, checking the option {{Copy new users and changes to existing users}}.  # In FishEye, go to {{User Mappings}} and create one for the JIRA user {{<USER>} and commiter {{<USER>}.  # In JIRA, edit the user, changing its Username to gustavorefosco.  # In FishEye, go to Authentication settings and run a Re-Sync. Ensure the new Username is showing up in FishEye.  # Go to {{User Mappings}}. The column {{User}} is blank.",Bug,Low,Closed,"2014-06-19 15:55:54","2014-06-19 15:55:54",1
"Atlassian FishEye","Wrong link to document shown when the repository has more than 10 commiters","When FishEye detects the user has more than 10 commiters for a repository, it shows a message in the top of the page, referencing a page with a resolution to this (see screenshot attached).    The shortened URL {{confluence.atlassian.com/x/3IIfD}} takes to a Page not Found. It seems it needs to be adjusted to point to the document [https://confluence.atlassian.com/display/FISHKB/Git+or+Hg+Repository+exceeds+number+of+allowed+Committers] which contains the resolution to this.",Bug,Low,Closed,"2014-06-09 21:56:45","2014-06-09 21:56:45",0.25
"Atlassian FishEye","URLs provided by FishEye/Crucible in development status panel popups should use baseUrl","Currently the urls use the request url, which isn't usable by users clicking the link for configurations using different display and application urls.",Bug,Medium,Closed,"2014-05-26 09:57:10","2014-05-26 09:57:10",2
"Atlassian FishEye","Move REST Auth Service to /fecru common resource","Currently, an AUTH token can not be generated if Crucible is disabled.    Users must be able to generate AUTH tokens if either both FishEye and Crucible are enabled, or only one is enabled.    Move the RestAuthService to the common resource: https://docs.atlassian.com/fisheye-crucible/latest/wadl/fecru.html",Bug,Low,Closed,"2014-05-14 02:46:10","2014-05-14 02:46:10",0.5
"Atlassian FishEye","explore how to ensure new REST endpoints are forward compatible","See https://developer.atlassian.com/display/HOME/Atlassian+REST+API+policy#AtlassianRESTAPIpolicy-Forwardcompatibility    out endpoints should ignore future properties, e.g. new options submitted in RepositoryRestData object to create repository endpoint.",Suggestion,,Closed,"2014-04-16 12:22:27","2014-04-16 12:22:27",1
"Atlassian FishEye","indexing empty git/hg repositories results in logged warnings and fake errors/warnings in UI","When indexing empty git repository warnings like this are logged:  {noformat}  [2014-04-10 01:34:20,744] WARN  fisheye  Empty remote heads list returned, which makes no sense. Skipping this fetch.  {noformat}  This is perfectly valid scenario when someone creates an empty repo in stash or bitbucket and starts indexing it before first changes are pushed.  Especially with stash integration introduced in 3.4.    Also, see the comment below, indexing empty hg repository results in red error logged in the Admin / Repositories screen:   {code}  Repository index failed due to error com.cenqua.fisheye.rep.RepositoryClientException: com.atlassian.fisheye.dvcs.handler.DvcsProcessException: Error while communicating with VCS: com.atlassian.fisheye.dvcs.handler.DvcsProcessException: Error while communicating with VCS: com.atlassian.utils.process.ProcessException: While executing: hg --config extensions.felog=/Users/piotrs/dev/fe/output/dist/python/hg/hgfelog/hgfelog.py --config ui.verbose=false felog 0000000000000000000000000000000000000000 -p -m in [/Users/piotrs/dev/fe/output/dist_inst/var/cache/bb-empty-hg/clone] com.atlassian.utils.process.ProcessException: java.lang.RuntimeException: Match failed: string [R:-1], pattern [R:([0-9]*)] java.lang.RuntimeException: Match failed: string [R:-1], pattern [R:([0-9]*)]  {code}    Also noticed on the search /qsearch page I get the following message:  {noformat}  Results might be incomplete  The following repository is still indexing, and might therefore deliver incomplete results:  DOX-virtual  {noformat}  for repositories which are empty",Suggestion,,Closed,"2014-04-10 19:56:39","2014-04-10 19:56:39",0.5
"Atlassian FishEye","Database Password Is Being Logged in Clear Text in Debug Logs","The database password is being logged in clear text when debug logging is turned on:  {noformat}  2014-04-01 09:14:13,553 DEBUG [qtp554279358-1650 ] fisheye ProfilingServletFilter-logRequest - end request in 75ms POST /admin/migrateDialog.do?dbConfig.jdbcURL=jdbc%3Amysql%3A%2F%2Fpenetrator%2Fricardo&  dbConfig.maxPoolSize=20&dbConfig.type=MYSQL&passwordChanged=true&dbConfig.username=ricardo&dbConfig.password=whatever&edit=y&dbConfig.minPoolSize=5&dbConfig.params=useUnicode%3Dtrue%0D%0AcharacterEncodin  g%3DUTF8%0D%0AconnectionCollation%3DUTF8_bin sessionid=i2lzt4e1mh73zjvklqnfgwl 302  {noformat}",Suggestion,,Closed,"2014-04-01 08:24:01","2014-04-01 08:24:01",1
"Atlassian FishEye","Add support for Java 8","Currently only Java 6 and 7 are supported but it would be great to get Java 8 support as well.    {code}  2014-03-19 14:46:39,854 INFO  - FishEye/Crucible 3.3.2 (20140319112921), Built on 2014-03-19  2014-03-19 14:46:39,854 INFO  - Logging started (Oracle Corporation|25.0-b70|c:\Program Files\Java\jdk1.8.0\jre|Windows Serve  r 2008|x86|6.0|maxmem=1011MB)  2014-03-19 14:46:39,885 WARN  - Unsupported java version detected: 1.8.0  2014-03-19 14:46:39,916 WARN  - Currently supported versions: 1.6 and 1.7  2014-03-19 14:46:39,947 WARN  - Running with your current version may be unstable.  {code}    When trying to run FishEye on Java 8 then the result is not only unstable but actually not working at all and you get a nice long stack trace...    This is actually an issue since FishEye does not provide its own JRE like e.g. JIRA does.",Suggestion,,Closed,"2014-03-19 14:03:17","2014-03-19 14:03:17",2
"Atlassian FishEye","Mercurial repositories with no 'default' branch may be indexed in the wrong order","When no default branch is present, we index the branches individually with no reference to their ancestry. This means that child changesets may be indexed before their parents.",Bug,Medium,Closed,"2014-02-19 05:48:50","2014-02-19 05:48:50",3
"Atlassian FishEye","Repository indexing hangs if start-rev is set to 1","The start-rev property is used to limit the starting changeset of the repository to be indexed. Setting it to 1 causes the indexing never to finish, stuck in an infinite loop.    Thread dump:  {noformat}  [147] InitialPinger2: RUNNABLE  ...     com.cenqua.fisheye.infinitydb.InfinityDbWrapper.next(InfinityDbWrapper.java:35)     com.cenqua.fisheye.rep.impl.CommonRevInfoDAO.getPredecessorOf(CommonRevInfoDAO.java:1191)     com.cenqua.fisheye.rep.impl.CommonRevInfoDAO.copyBranchWithXBackward(CommonRevInfoDAO.java:1145)     com.cenqua.fisheye.rep.impl.CommonRevInfoDAO.updateRevBranchAttributes(CommonRevInfoDAO.java:747)     com.cenqua.fisheye.rep.impl.CommonRevInfoDAO.updateRevisionRelationships(CommonRevInfoDAO.java:2043)     com.atlassian.fisheye.db.BaseFileRevisionDAO.updateRevisionRelationships(BaseFileRevisionDAO.java:356)     com.atlassian.fisheye.svn.Svn2WrapUpProcessor.processChangeset(Svn2WrapUpProcessor.java:200)     com.atlassian.fisheye.svn.Svn2WrapUpProcessor.access$300(Svn2WrapUpProcessor.java:46)     com.atlassian.fisheye.svn.Svn2WrapUpProcessor$1.perform(Svn2WrapUpProcessor.java:128)     com.atlassian.fisheye.svn.Svn2WrapUpProcessor$1.perform(Svn2WrapUpProcessor.java:121)     com.cenqua.fisheye.cache.BaseRevisionCache.withDbWriteLock(BaseRevisionCache.java:1036)     com.atlassian.fisheye.svn.Svn2WrapUpProcessor.process(Svn2WrapUpProcessor.java:121)     com.atlassian.fisheye.svn.Svn2Scanner.slurpRepository(Svn2Scanner.java:213)     com.atlassian.fisheye.svn.Svn2Scanner.doSlurpTransaction(Svn2Scanner.java:178)    [61] worker-METADATA-2: WAITING (waiting on java.util.concurrent.locks.ReentrantLock$FairSync@5fe76ee1 held by 147)  ...     java.util.concurrent.locks.ReentrantLock.lock(Unknown Source)     com.atlassian.fecru.locks.TwoLevelPriorityLock.lock(TwoLevelPriorityLock.java:16)     com.cenqua.fisheye.cache.BaseRevisionCache.withDbWriteLock(BaseRevisionCache.java:1034)     com.atlassian.fisheye.svn.Svn2MetadataProcessor.processChangesets(Svn2MetadataProcessor.java:53)     com.atlassian.fisheye.svn.Svn2ChangesetProcessor.processChangesetEntry(Svn2ChangesetProcessor.java:88)     com.cenqua.fisheye.config.DefaultRepositoryManager$1.processChangesetEntry(DefaultRepositoryManager.java:187)     com.atlassian.fisheye.pipeline.DefaultChangeSetPipeline$PhaseProcessorRunnable.run(DefaultChangeSetPipeline.java:89)    [60] worker-METADATA-1: WAITING (waiting on java.util.concurrent.locks.ReentrantLock$FairSync@5fe76ee1 held by 147)  ...     java.util.concurrent.locks.ReentrantLock.lock(Unknown Source)     com.atlassian.fecru.locks.TwoLevelPriorityLock.lock(TwoLevelPriorityLock.java:16)     com.cenqua.fisheye.cache.BaseRevisionCache.withDbWriteLock(BaseRevisionCache.java:1034)     com.atlassian.fisheye.svn.Svn2MetadataProcessor.processChangesets(Svn2MetadataProcessor.java:53)     com.atlassian.fisheye.svn.Svn2ChangesetProcessor.processChangesetEntry(Svn2ChangesetProcessor.java:88)     com.cenqua.fisheye.config.DefaultRepositoryManager$1.processChangesetEntry(DefaultRepositoryManager.java:187)     com.atlassian.fisheye.pipeline.DefaultChangeSetPipeline$PhaseProcessorRunnable.run(DefaultChangeSetPipeline.java:89)    [62] worker-INDEXING-1: WAITING (waiting on java.util.concurrent.locks.ReentrantLock$FairSync@5fe76ee1 held by 147)  ...     com.atlassian.fecru.locks.TwoLevelPriorityLock.lock(TwoLevelPriorityLock.java:16)     com.cenqua.fisheye.cache.BaseRevisionCache.withDbWriteLock(BaseRevisionCache.java:1034)     com.atlassian.fisheye.svn.Svn2ContentProcessor.processChangesets(Svn2ContentProcessor.java:95)     com.atlassian.fisheye.svn.Svn2ChangesetProcessor.processChangesetEntry(Svn2ChangesetProcessor.java:88)     com.cenqua.fisheye.config.DefaultRepositoryManager$2.processChangesetEntry(DefaultRepositoryManager.java:195)     com.atlassian.fisheye.pipeline.DefaultChangeSetPipeline$PhaseProcessorRunnable.run(DefaultChangeSetPipeline.java:89)  {noformat}    In the logs:  {noformat}  2014-02-05 09:05:25,425 DEBUG [InitialPinger2 <repo_name>] fisheye Svn2WrapUpProcessor-process - Started wrapup processing: startRevision=0, lastPumpedCsid=54112  2014-02-05 09:05:25,842 DEBUG [InitialPinger2 <repo_name>] fisheye RepositoryStatus-setMessage - Status change [<repo_name>]: Completing changesets 0 to 1000  2014-02-05 09:05:25,950 DEBUG [InitialPinger2 <repo_name>] fisheye RepositoryStatus-setMessage - Status change [<repo_name>]: Finalising changeset 0  {noformat}      WORKAROUND:  * Remove the value in the Start revision option (set it to blank) and reindex the repository. It might be necessary to restart FishEye in order to kill the stuck thread.",Bug,Medium,Closed,"2014-02-06 16:09:57","2014-02-06 16:09:57",0.5
"Atlassian FishEye","Source view can fail to render with a javascript error because BaseRevisionCache.getBlameSpans does not always return all the blame spans for a given file","When rendering the source view, ViewFileAction.getBlame() calls Svn2Cache.getBlame to get the blame chunks to render.  This in turn calls BaseRevisionCache.getBlameSpans().  This does not always return all the blame spans for a file.    I have not been able to understand the exact cause but the issue can be reproduced by indexing the attached SVN dump and attempting to view source of revision 13.  Nothing is shown due to a javascript error, and the javascript error occurs because of incorrectly formed JSON that exists because not all blame spans are returned.      The URL: /browse/try/a/s/asd/q.txt?r1=13&r2=13&u=20 ",Bug,Low,Closed,"2014-01-09 15:31:48","2014-01-09 15:31:48",2
"Atlassian FishEye","no progress indicator shown in quicksearch when counting other docs","When searching for a phrase in fisheye there is no progress indicator displayed when counts for other facets are calculated.  Scenario:   1. search for something (e.g. test:  https://FISHEYE/qsearch?q=test)     2. progress indicator is displayed   3. then first (i.e. Files and directories) facet count and content to be displayed   4. but then progress indicator is no longer shown, although the counts for other facets are not displayed and I can see Ajax request in progress to /qsearch?q=test&countsOnly=true&_nocache=1389257647375   after the count for first Files and directories     See !http://monosnap.com/image/ULx3aATGc8UyGk417RZCB984G.png|width=33%!",Bug,Low,Closed,"2014-01-09 09:06:59","2014-01-09 09:06:59",0.5
"Atlassian FishEye","Increase SVN Operation Timeout from 60 minutes to 4 hours","This is until we improve how indexing of long svn operations are performed in FishEye.",Suggestion,,Closed,"2014-01-08 02:35:22","2014-01-08 02:35:22",0.5
"Atlassian FishEye","FECRU Developer Mode Plugin causes NPE when viewing a review","This is caused by a null 'completeKey' being passed from the web item to the escapeForJQuery method in ExpressionUtil.java    A null check is needed in escapeAsJQuery as is performed in the other escape methods in that class.    * https://fisheye.dev.internal.atlassian.com/browse/FE-hg/src/java/com/atlassian/fisheye/plugin/web/FisheyeWebInterfaceManager.java?r=HEAD#to172  * https://fisheye.dev.internal.atlassian.com/browse/FE-hg/src/java/com/cenqua/fisheye/web/tags/ExpressionUtil.java?r=HEAD#to326  ",Bug,Low,Closed,"2014-01-07 02:41:58","2014-01-07 02:41:58",1
"Atlassian FishEye","User synchronisation fails if invalid username is found","If Fisheye/Crucible is configured to synchronise its user with external source (e.g. LDAP), synchronisation process would fail in username found is invalid.    {noformat}  2013-12-18 09:32:18,891 WARN  [qtp89879805-162 ] fisheye ReSyncAuthAction-execute - Error synchronising users:  java.lang.IllegalArgumentException: Invalid user name, allowed characters are: alphanumeric, underscore, at ('@'), dot, dash or backslash          at com.cenqua.fisheye.user.DefaultUserManager.addUserImpl(DefaultUserManager.java:1299)          at com.cenqua.fisheye.user.DefaultUserManager.importUser(DefaultUserManager.java:645)          at com.cenqua.fisheye.user.DefaultUserManager.synchroniseUsers(DefaultUserManager.java:733)          at com.cenqua.fisheye.user.DefaultUserManager.synchroniseUsers(DefaultUserManager.java:669)  {noformat}",Bug,Low,Closed,"2013-12-18 08:43:12","2013-12-18 08:43:12",1
"Atlassian FishEye","Display modified date, author and revision for directory listings in FishEye","Inspired by the Answers post by <USER> https://answers.atlassian.com/questions/244310/fisheye-subversion-and-directory-updates-who-what-revision-when?page=1#244473    Investigate the performance impacts of displaying the following three fields for directories, as we currently do for files.  * modified date  * author  * revision id    Investigation already by [~<USER> has revealed that is appears we are already storing these attributes on directory nodes, so the prognosis is good.",Suggestion,,Closed,"2013-12-18 00:43:43","2013-12-18 00:43:43",1
"Atlassian FishEye","View and Fisheye menus appear behind text in IE10","Observed at least in IE10 (but seems to work in Opera):   The View and Fisheye menus on the top right of the review screen appear behind the diff text. The feature is therefore unusable. See attached image.     I recently updated Crucible from 3.1.4 to 3.2.1. It used to work before. ",Bug,Medium,Closed,"2013-12-10 15:11:55","2013-12-10 15:11:55",1
"Atlassian FishEye","On Windows, Fisheye attempts to make ssh keys private but appears to be unsucessful","While testing FE-4315 on Windows, I noticed that even when generating a private key using Fisheye, the files permissions do not appear to actually change.    The code to make the file private is this, in FileSystemUtils:  {code}          if (SystemUtils.IS_OS_WINDOWS) {              String username = System.getenv(USERNAME);              String userdomain = System.getenv(USERDOMAIN);              String currentUser = \ + userdomain + \\ + username + \;                PluggableProcessHandler handler = new PluggableProcessHandler();              handler.setOutputHandler(new StringOutputHandler());              handler.setErrorHandler(new StringOutputHandler());                ExternalProcessBuilder builder = new ExternalProcessBuilder()                      .command(Arrays.asList(                              echo, 'Y', |,                              cacls, \ + file.getAbsolutePath() + \, /G, currentUser + :W))                      .handler(handler);              ExternalProcess process = builder.build();              process.execute();              if (!handler.succeeded()) {                  IOException ioException = new IOException(handler.getError() +  - command was:  + process.getCommandLine());                  ProcessException exception = handler.getException();                  if (exception != null) {                      ioException.initCause(exception);                  }                  throw ioException;              }          }  {code}    The 'cacls' command prompts the user if they are sure they want to make the requested change.  This code attempts to answer this prompt by echoing a 'Y' into the cacls command.    In my testing this didn't actually work - the files permissions weren't affected when echoing y on the command line.  The command worked only when no echo was supplied, and the Y key was pressed manually.    Questions  * did this code ever work?  I have tested this only on Windows 7  * Why are we shelling out to 'cacls' to set permissions?  There are ways to do it in native java (although it looks like this might not have been possible natively before java 6, so this is very likely the reason)    In practise, Fisheye is able to connect to the repository even though the permissions on the SSH key do not strictly limit it to the current user.  On OSX and Linux, SSH enforces that the key must have the correct file permissions, but the MSYS SSH client used on windows doesn't appear to perform this check.",Bug,Low,Closed,"2012-11-05 02:56:33","2012-11-05 02:56:33",2
"Atlassian FishEye","IE10 changeset view crashed",,Bug,Low,Closed,"2013-10-28 05:52:18","2013-10-28 05:52:18",0.5
"Atlassian FishEye","Marketplace doesn't recognize new application versions","New builds aren't being recognized by Marketplace.     ",Bug,Medium,Closed,"2013-09-25 19:11:24","2013-09-25 19:11:24",0.5
"Atlassian FishEye","An empty git repository will never finish the 'Initial Index' phase","Steps to reproduce:    # add an empty git repository to fisheye  # do a quick search.  # see that the repo you just added is in the list of repositories which are still indexing  # see in the logs that activity for that repo is still occurring on the InitilaIndexer thread  ",Bug,Low,Closed,"2013-09-20 10:44:29","2013-09-20 10:44:29",2
"Atlassian FishEye","Some changesets never transition to 'done' when indexing a svn repository","In some cases where the excludes or includes in the svn repository completely exclude many changesets in a row (over 1000), later changesets might never transition to the 'done' state and not get their line counts filled in.",Bug,Medium,Closed,"2013-09-06 09:39:03","2013-09-06 09:39:03",5
"Atlassian FishEye","OutOfMemoryError when Start Revision and Initial Import: No initial import are set","FishEye admin may decide to index only subset of SVN repository only, by providing Start Revision setting on repository admin screen. It is expected that this would reduce indexing time, but in some circumstances it may not happen. Basically when Start Revision setting was set, FishEye would start from checking out the whole repository at a given revision.  If repository is large, contains several (million) paths and several branches this might be a costly operation leading to OutOfMemoryError and being unable to finish.    Perhaps it could defer checking out the content to the later indexing stages, retrieve manifest earlier on and finish initial pump quickly?    Leak Suspect report was attached - [^java_pid15200_Leak_Suspects.zip]. Example OutOfMemoryError stack trace:  {code}  InitPing2 large-svn    at com.google.common.collect.MapMakerInternalMap$Strength$1.referenceValue(Lcom/google/common/collect/MapMakerInternalMap$Segment;Lcom/google/common/collect/MapMakerInternalMap$ReferenceEntry;Ljava/lang/Object;)Lcom/google/common/collect/MapMakerInternalMap$ValueReference; (MapMakerInternalMap.java:300)    at com.google.common.collect.MapMakerInternalMap$Segment.setValue(Lcom/google/common/collect/MapMakerInternalMap$ReferenceEntry;Ljava/lang/Object;)V (MapMakerInternalMap.java:2195)    at com.google.common.collect.MapMakerInternalMap$Segment.put(Ljava/lang/Object;ILjava/lang/Object;Z)Ljava/lang/Object; (MapMakerInternalMap.java:2559)    at com.google.common.collect.ComputingConcurrentHashMap$ComputingSegment.compute(Ljava/lang/Object;ILcom/google/common/collect/MapMakerInternalMap$ReferenceEntry;Lcom/google/common/collect/ComputingConcurrentHashMap$ComputingValueReference;)Ljava/lang/Object; (ComputingConcurrentHashMap.java:189)    at com.google.common.collect.ComputingConcurrentHashMap$ComputingSegment.getOrCompute(Ljava/lang/Object;ILcom/google/common/base/Function;)Ljava/lang/Object; (ComputingConcurrentHashMap.java:153)    at com.google.common.collect.ComputingConcurrentHashMap.getOrCompute(Ljava/lang/Object;)Ljava/lang/Object; (ComputingConcurrentHashMap.java:69)    at com.google.common.collect.ComputingConcurrentHashMap$ComputingMapAdapter.get(Ljava/lang/Object;)Ljava/lang/Object; (ComputingConcurrentHashMap.java:393)    at com.cenqua.fisheye.infinitydb.CachingUniqueStringTable$Cache.get(Ljava/lang/Object;)Ljava/lang/Object; (CachingUniqueStringTable.java:154)    at com.cenqua.fisheye.infinitydb.CachingUniqueStringTable.find(Ljava/lang/String;)J (CachingUniqueStringTable.java:82)    at com.cenqua.fisheye.rep.impl.NumberBasedRevisionUtil.getLatestCsIdOnPathUpTo(Lcom/cenqua/obfuscate/idbnf19c1/_ItemSpace;Lcom/cenqua/fisheye/infinitydb/UniqueStringTable;Lcom/cenqua/obfuscate/idbnf19c1/_EntityClass;Lcom/cenqua/fisheye/Path;J)J (NumberBasedRevisionUtil.java:27)    at com.cenqua.fisheye.svn.db.SvnRevInfoDAO.getLatestPathUpTo(Lcom/cenqua/fisheye/infinitydb/UniqueStringTable;Lcom/cenqua/obfuscate/idbnf19c1/_EntityClass;Lcom/cenqua/fisheye/Path;J)J (SvnRevInfoDAO.java:493)    at com.cenqua.fisheye.svn.db.SvnRevInfoDAO.getLatestPathChangeUpto(Lcom/cenqua/fisheye/Path;JZ)J (SvnRevInfoDAO.java:468)    at com.atlassian.fisheye.svn.Svn2Infill2Processor.getPreviousRevision(Lcom/atlassian/fisheye/svn/Svn2MessageContext;Lcom/cenqua/fisheye/svn/db/SvnRevInfoDAO;Lcom/cenqua/fisheye/Path;)Lcom/cenqua/fisheye/svn/db/SvnRevInfoDAO$SvnRevisionSummary; (Svn2Infill2Processor.java:1061)    at com.atlassian.fisheye.svn.Svn2Infill2Processor.infillChangeSet(Lcom/atlassian/fisheye/svn/Svn2Cache;Lcom/atlassian/fisheye/svn/Svn2MessageContext;)V (Svn2Infill2Processor.java:216)    at com.atlassian.fisheye.svn.Svn2Infill2Processor.access$100(Lcom/atlassian/fisheye/svn/Svn2Infill2Processor;Lcom/atlassian/fisheye/svn/Svn2Cache;Lcom/atlassian/fisheye/svn/Svn2MessageContext;)V (Svn2Infill2Processor.java:87)    at com.atlassian.fisheye.svn.Svn2Infill2Processor$1.perform(Lcom/cenqua/obfuscate/idbnf19c1/_ItemSpace;)Ljava/lang/Void; (Svn2Infill2Processor.java:135)    at com.atlassian.fisheye.svn.Svn2Infill2Processor$1.perform(Lcom/cenqua/obfuscate/idbnf19c1/_ItemSpace;)Ljava/lang/Object; (Svn2Infill2Processor.java:119)    at com.cenqua.fisheye.cache.BaseRevisionCache.withDbWriteLock(ILcom/cenqua/fisheye/infinitydb/DbTask;)Ljava/lang/Object; (BaseRevisionCache.java:1014)    at com.atlassian.fisheye.svn.Svn2Infill2Processor.process(J)V (Svn2Infill2Processor.java:119)    at com.atlassian.fisheye.svn.Svn2Scanner.slurpRepository()V (Svn2Scanner.java:217)    at com.atlassian.fisheye.svn.Svn2Scanner.doSlurpTransaction(Z)V (Svn2Scanner.java:182)    at com.cenqua.fisheye.rep.BaseRepositoryScanner.ping()V (BaseRepositoryScanner.java:73)    at com.cenqua.fisheye.rep.BaseRepositoryEngine.doSlurp()V (BaseRepositoryEngine.java:86)    at com.cenqua.fisheye.rep.RepositoryEngine.slurp()V (RepositoryEngine.java:414)    at com.cenqua.fisheye.rep.ping.IndexingPingRequest.doRequest()V (IndexingPingRequest.java:27)    at com.cenqua.fisheye.rep.ping.IncrementalPingRequest.doRequest()V (IncrementalPingRequest.java:30)    at com.cenqua.fisheye.rep.ping.PingRequest$1.run()V (PingRequest.java:55)    at com.cenqua.fisheye.util.NamedExecution.run(Ljava/lang/Runnable;)V (NamedExecution.java:27)    at com.cenqua.fisheye.rep.ping.PingRequest.process()V (PingRequest.java:52)    at com.cenqua.fisheye.rep.RepositoryHandle.processPingRequests()V (RepositoryHandle.java:213)    at com.cenqua.fisheye.rep.RepositoryHandle.access$100(Lcom/cenqua/fisheye/rep/RepositoryHandle;)V (RepositoryHandle.java:57)    at com.cenqua.fisheye.rep.RepositoryHandle$2.run()V (RepositoryHandle.java:169)    at java.util.concurrent.ThreadPoolExecutor.runWorker(Ljava/util/concurrent/ThreadPoolExecutor$Worker;)V (ThreadPoolExecutor.java:1145)    at java.util.concurrent.ThreadPoolExecutor$Worker.run()V (ThreadPoolExecutor.java:615)    at java.lang.Thread.run()V (Thread.java:745)  {code}",Bug,Low,Closed,"2013-08-06 18:15:24","2013-08-06 18:15:24",5
"Atlassian FishEye","Reload favourite star's label after changing the label","Currently, when a user change the label of a star, nothing happens until the user refresh the favourite list. That could confuse the user.    The fix:  After a user click Save label we reload the label text using the data provided by the setStarLabel ajax response.",Bug,Low,Closed,"2013-08-01 07:25:16","2013-08-01 07:25:16",1
"Atlassian FishEye","Anonymised backups can't be restored into database","When an anonymised backup is created, all sensitive data is replaced by a sequence of 'x' characters.    This causes problems when restoring the backup, such as this:  {noformat}  Database error at cru_revision:4999 (table:row) of the input: Duplicate entry 'xxx-10142-xxx' for key 'cru_source_name'  INFO  - Closing com.cenqua.fisheye.ctl.Restore$RestoreApplicationContext@3db158db: startup date [Wed Jul 31 13:50:53 BRT 2013]; root of context hierarchy  INFO  - *** application context closed ***  java.io.IOException: Error writing to the database: Duplicate entry 'xxx-10142-xxx' for key 'cru_source_name'   at com.atlassian.crucible.migration.item.SQLBackup.restore(SQLBackup.java:205)   at com.atlassian.crucible.migration.item.SQLBackup$1.restore(SQLBackup.java:169)   at com.cenqua.fisheye.ctl.Restore.run(Restore.java:191)   at com.cenqua.fisheye.ctl.Restore.main(Restore.java:267)   at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)   at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)   at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)   at java.lang.reflect.Method.invoke(Method.java:597)   at com.cenqua.fisheye.FishEyeCtl.mainImpl(FishEyeCtl.java:99)   at com.cenqua.fisheye.FishEyeCtl.main(FishEyeCtl.java:42)  Caused by: java.sql.BatchUpdateException: Duplicate entry 'xxx-10142-xxx' for key 'cru_source_name'   at com.mysql.jdbc.PreparedStatement.executeBatchSerially(PreparedStatement.java:2007)   at com.mysql.jdbc.PreparedStatement.executeBatch(PreparedStatement.java:1443)   at com.atlassian.crucible.migration.item.DBImporter$BatchInserter.flush(DBImporter.java:313)   at com.atlassian.crucible.migration.item.DBImporter$BatchInserter.executePS(DBImporter.java:308)   at com.atlassian.crucible.migration.item.DBImporter$BaseInserter.execute(DBImporter.java:456)   at com.atlassian.crucible.migration.item.DBImporter.importTable(DBImporter.java:182)   at com.atlassian.crucible.migration.item.DBImporter.importData(DBImporter.java:134)   at com.atlassian.crucible.migration.item.SQLBackup.restore(SQLBackup.java:188)   ... 9 more  Restore failed. This may leave your target FISHEYE_INST directory (/my/path/to/fecru-3.0.2) in an inconsistent state.  {noformat}    Maybe instead of replacing sensitive data by 'xxxx' it could replace by a hash that could be decrypted? This would avoid having duplicate entries in the backup due to 'xxxx' usage.",Bug,Medium,Closed,"2013-07-31 18:00:28","2013-07-31 18:00:28",3
"Atlassian FishEye","FishEye present errors when using path with spaces on windows.","Even if you setup git with 32bit path like d:\progra~1\git\cmd on administration UI, Fisheye shows errors trying to use the 64bit path:  {noformat}  2013-07-26 07:07:45,696 INFO  [InitialPinger2 MC4-Basics] fisheye LoggingProcessMonitor-onAfterFinished - Exception executing command E:\PROGRA~1\Git\cmd\git.exe clone --bare -v git@wcgitmaster.intellig.local:basics clone  Non-zero exit code: 128  com.atlassian.utils.process.ProcessException: Non-zero exit code: 128  {noformat}    Also there are some errors when the plugins are loading:  {noformat}  Skipping E:\Program Files (x86)\Atlassian\Crucible\bin\..\data\plugins\data: not found.  {noformat}    Moving FishEye to another folder like d:\applications solved the issue.  ",Bug,Low,Closed,"2013-07-30 15:48:27","2013-07-30 15:48:27",1
"Atlassian FishEye","Large number of plugin properties harm performance","Once config.xml contains many plugin properties, getting plugin properties becomes a bottleneck, with many threads waiting for access.    We need to cache the properties or move them to the relational DB (or both).",Bug,Low,Closed,"2013-07-24 08:09:29","2013-07-24 08:09:29",3
"Atlassian FishEye","Integrate with Bitbucket Server repositories & projects","As an administrator it would be very useful if I could add a Stash _Project_  to Fisheye, and all repositories in that project would be added as Fisheye repos. I'd also like an option to make it a one-time add or automatically add/remove repos as the Stash project changes. This feature would cut down on my administrative time in FishEye and allow users to help themselves. It would also put more of our source into FishEye, making FishEye more valuable to us. ",Suggestion,,"Not Being Considered","2013-07-23 17:35:53","2013-07-23 17:35:53",0
"Atlassian FishEye","Unable to index file path with double quotes","h3.Steps to reproduce  # Create a folder named {{target}} and a file inside the folder  # Add it to a Git repository  # Configure FishEye/Crucible to reindex the repository  # The repository is indexed successfully without error in the UI but the folder {{target}} does not exist in FishEye/Crucible with the following error in the log:  {noformat}  2013-07-04 20:49:29,673 ERROR [InitialPinger2 test] fisheye GitScanner-getDiffInfoContext - No Diff Info for path target/testtarget.txt in commit a391524e9f43c79e365571f6a1f86b807b0942b7  {noformat}    h3.Workaround  Exclude the file or path https://confluence.atlassian.com/display/FISHEYE/Include+Exclude+paths",Bug,Low,Closed,"2013-07-04 14:14:23","2013-07-04 14:14:23",2
"Atlassian FishEye","Some custom JIRA issue key patterns not linked in activity stream","As per the [JIRA Fisheye integration guide|https://confluence.atlassian.com/display/FISHEYE/JIRA+Integration+in+FishEye], the following steps are required for a successful linking between JIRA issue keys and Fisheye changesets:    {noformat}  - JIRA requires FishEye to manually refresh repository cache when repository changes are made — When a repository is removed, or when there has been any change in FishEye repositories, JIRA does not update the FishEye repository list cache automatically. You must manually refresh the repository list cache. This is done in JIRA: 'Administration' > 'FishEye Configuration' > 'Refresh Cache' link (next to 'Repository List Cache')  - FishEye doesn't check for invalid JIRA issue keys – FishEye doesn't check for invalid issue keys, such as UTF-8. An error will result if FishEye tries to connect to an issue that doesn't exist.  - FishEye doesn't recognise custom JIRA issue key formats – FishEye assumes that JIRA issue keys are of the default format for JIRA 5.0 and later: that is, up to 10 letters, followed by a hyphen and the issue number (i.e. [a-zA-Z]{10}-[0-9]+), for example FishEye-123.   {noformat}    But it also seems like custom JIRA issue key patterns are supported by Fisheye afterall, as the commits with these issue keys are being linked successfully to JIRA issue and displayed under the Source tab in JIRA.  There is however an issue with how these JIRA issue keys are linked/rendered in Fisheye in the activity stream:  - A JIRA project key such as ABC_DE, for example: ABC_DE-1 is being rendered as a linked URL in Fisheye activity stream and when clicked takes the user to the related JIRA issue.  - A JIRA project key such as ABCD100_EF, for example: ABCD100_EF-1 is not being rendered as a linked URL in Fisheye activity stream and hence cannot take the user to the linked JIRA issue.   - The linked commit for both keys however is successfully listed under the Source tab in JIRA.    JIRA [has announced|https://confluence.atlassian.com/display/JIRA/End+of+Support+Announcements+for+JIRA#EndofSupportAnnouncementsforJIRA-Endofsupportforprojectkeyformatconfiguration%2822November2012%29] end of support for custom keys other than those with digit, underscore and numbers in the keys and the above examples belong to the supported format. If Fisheye does not supported custom JIRA issue keys, then none of the above two should be linked in JIRA or Fisheye. If they are however supported, then we need to revise the above document and have a consistent behaviour for all custom JIRA issue keys.  ",Bug,Medium,Closed,"2013-07-02 06:31:27","2013-07-02 06:31:27",2
"Atlassian FishEye","Application Navigator uses Application URL instead of Display URL from Application Link","When creating an Application Link to another instance, Fisheye will populate the Application Navigator automatically using the Application URL instead of the expected Display URL.    This creates a problem when the App URL is an internal reference to a system, such as http://localhost:port. Fisheye may be able to contact the application with that URL, but the user cannot, and will most likely see a site unreachable message.    Workaround:    1) Hide the existing (automatically generated) App Nav entry using the Hide checkbox.  2) Create a new app link manually using the display URL.    ",Bug,Medium,Closed,"2013-06-18 02:30:01","2013-06-18 02:30:01",1
"Atlassian FishEye","Avoid potential recursion on same path","In some circumstances, FishEye can trigger a stack overflow while processing Svn ancestry:  {noformat}  2013-06-13 18:17:25,692 DEBUG [IncrementalPinger2 ] fisheye IndexingPingRequest-doRequest - Exception during FishEye Incremental Indexing of rocket: java.lang.StackOverflowError  java.lang.StackOverflowError   at java.util.regex.Pattern$GroupTail.match(Pattern.java:4227)   at java.util.regex.Pattern$GroupTail.match(Pattern.java:4227)   at java.util.regex.Pattern$BranchConn.match(Pattern.java:4078)   at java.util.regex.Pattern$Slice.match(Pattern.java:3482)   at java.util.regex.Pattern$Branch.match(Pattern.java:4114)   at java.util.regex.Pattern$GroupHead.match(Pattern.java:4168)   at java.util.regex.Pattern$GroupTail.match(Pattern.java:4227)   at java.util.regex.Pattern$BranchConn.match(Pattern.java:4078)   at java.util.regex.Pattern$BmpCharProperty.match(Pattern.java:3366)   at java.util.regex.Pattern$Branch.match(Pattern.java:4114)   at java.util.regex.Pattern$GroupHead.match(Pattern.java:4168)   at java.util.regex.Pattern$GroupHead.match(Pattern.java:4168)   at java.util.regex.Pattern$NotBehind.match(Pattern.java:4714)   at java.util.regex.Pattern$Curly.match0(Pattern.java:3782)   at java.util.regex.Pattern$Curly.match(Pattern.java:3744)   at java.util.regex.Pattern$GroupHead.match(Pattern.java:4168)   at java.util.regex.Pattern$Loop.match(Pattern.java:4295)   at java.util.regex.Pattern$GroupTail.match(Pattern.java:4227)   at java.util.regex.Pattern$BmpCharProperty.match(Pattern.java:3366)   at java.util.regex.Pattern$NotBehind.match(Pattern.java:4719)   at java.util.regex.Pattern$Curly.match0(Pattern.java:3782)   at java.util.regex.Pattern$Curly.match(Pattern.java:3744)   at java.util.regex.Pattern$GroupHead.match(Pattern.java:4168)   at java.util.regex.Pattern$Loop.matchInit(Pattern.java:4314)   at java.util.regex.Pattern$Prolog.match(Pattern.java:4251)   at java.util.regex.Pattern$GroupHead.match(Pattern.java:4168)   at java.util.regex.Matcher.match(Matcher.java:1127)   at java.util.regex.Matcher.lookingAt(Matcher.java:579)   at com.cenqua.fisheye.svn.SvnPathRule.apply(SvnPathRule.java:85)   at com.cenqua.fisheye.svn.SvnLogicalPathMatcher.findBestMatch(SvnLogicalPathMatcher.java:193)   at com.cenqua.fisheye.svn.SvnLogicalPathMatcher.findBestMatch(SvnLogicalPathMatcher.java:171)   at com.cenqua.fisheye.svn.SvnLogicalPathMatcher.getContainerId(SvnLogicalPathMatcher.java:240)   at com.cenqua.fisheye.svn.SvnLogicalPathMatcher.isTag(SvnLogicalPathMatcher.java:256)   at com.cenqua.fisheye.svn.SvnLogicalPathMatcher.getTagRoot(SvnLogicalPathMatcher.java:114)   at com.atlassian.fisheye.svn.Svn2Cache.listDirs(Svn2Cache.java:135)   at com.atlassian.fisheye.svn.Svn2AncestryProcessor.getLatestDirChangeUpto(Svn2AncestryProcessor.java:313)  {noformat}",Bug,Low,Closed,"2013-06-17 23:39:44","2013-06-17 23:39:44",0.5
"Atlassian FishEye","Fisheye 2.10.x not compatible with Mercurial 2.6.x","Before I break my Fisheye installation by upgrading Mercurial (again), are you testing the latest Mercurial release as a matter of course?    For future reference, Mercurial releases a new major release every three months, per:      http://mercurial.selenic.com/wiki/TimeBasedReleasePlan    It would be helpful if Atlassian performed these compatibility tests as a matter of course, rather than relying on customers to prod you to keep up. ;-)    Thanks    Updating with the stacktrace:  {noformat}  2013-07-03 18:44:20,690 ERROR [InitialPinger1 Dragons] fisheye BaseRepositoryScanner-handleSlurpException - Problem processing revisions from repo Dragons due to class com.cenqua.fisheye.rep.RepositoryClientException - com.atlassian.fisheye.dvcs.handler.DvcsProcessException: Error while communicating with VCS: ** Unknown exception encountered with possibly-broken third-party extension felog  ** which supports versions unknown of Mercurial.  ** Please disable felog and try your action again.  ** If that fixes the bug please report it to the extension author.  ** Python 2.7.2 (default, Oct 11 2012, 20:14:37) [GCC 4.2.1 Compatible Apple Clang 4.0 (tags/Apple/clang-418.0.60)]  ** Mercurial Distributed SCM (version 2.6+20130507)  ** Extensions loaded: felog  Traceback (most recent call last):    File /usr/local/bin/hg, line 38, in <module>      mercurial.dispatch.run()    File /Library/Python/2.7/site-packages/mercurial/dispatch.py, line 28, in run      sys.exit((dispatch(request(sys.argv[1:])) or 0) & 255)    File /Library/Python/2.7/site-packages/mercurial/dispatch.py, line 65, in dispatch      return _runcatch(req)    File /Library/Python/2.7/site-packages/mercurial/dispatch.py, line 88, in _runcatch      return _dispatch(req)    File /Library/Python/2.7/site-packages/mercurial/dispatch.py, line 771, in _dispatch      cmdpats, cmdoptions)    File /Library/Python/2.7/site-packages/mercurial/dispatch.py, line 540, in runcommand      ret = _runcommand(ui, options, cmd, d)    File /Library/Python/2.7/site-packages/mercurial/dispatch.py, line 866, in _runcommand      return checkargs()    File /Library/Python/2.7/site-packages/mercurial/dispatch.py, line 837, in checkargs      return cmdfunc()    File /Library/Python/2.7/site-packages/mercurial/dispatch.py, line 766, in <lambda>      d = lambda: util.checksignature(func)(ui, *args, **cmdoptions)    File /Library/Python/2.7/site-packages/mercurial/util.py, line 506, in check      return func(*args, **kwargs)    File /Users/luziamendes/fisheye/fecru-2.10.0/python/hg/hgfelog/hgfelog.py, line 95, in felog      felognode(ui, repo, repo[r], **opts)    File /Users/luziamendes/fisheye/fecru-2.10.0/python/hg/hgfelog/hgfelog.py, line 121, in felognode      diffParent(ui, repo, ctx, commitState, f, opts.get('patch'), opts.get('converted'), opts.get('merges'), opts.get('changesets'))    File /Users/luziamendes/fisheye/fecru-2.10.0/python/hg/hgfelog/hgfelog.py, line 136, in diffParent      processPath(ui, repo, ctx, commitState, format, diffs, svnConversion, f)    File /Users/luziamendes/fisheye/fecru-2.10.0/python/hg/hgfelog/hgfelog.py, line 161, in processPath      state.diff(ui, format['diff'], repo, ctx)    File /Users/luziamendes/fisheye/fecru-2.10.0/python/hg/hgfelog/hgfelog.py, line 459, in diff      writePrefixed(ui, prefix, mdiff.unidiff(aFileData, aFileDate, bFileData, bFileDate, aFileName, bFileName, None, diffopts))  TypeError: unidiff() takes at most 7 arguments (8 given)  {noformat}",Bug,Medium,Closed,"2013-05-29 20:30:58","2013-05-29 20:30:58",2
"Atlassian FishEye","When indexing some revisions don't get their blame counts calculated properly, causing render-time slowness","Every 6 months or so we see very hard to diagnose issues around linecounts, including for example:  {code}blame lines not equal to expected linecount{code}    The linecount / blame code really needs a complete re-write, or at least some major refactoring to really understand the problems that we are hitting.    This should include at least:  * much better debugging / logging  * better handling of issues with the repository, eg. when linecounts differ  * fallbacks to SCMs",Bug,High,Closed,"2013-05-20 02:27:38","2013-05-20 02:27:38",2
"Atlassian FishEye","Command-line application start fails to pull $FISHEYE_ARGS (Linux only)","This is only reproducible on Linux, not on OSX.     *start*  {noformat}./fisheyectl.sh start --Xdisable-tags --Xdisable-head-detection --Xenable-git-content-hash-resolving-heuristic{noformat}    log:  {noformat}  2013-05-06 16:13:57,163 INFO  [main ] fisheye BaseCommand-handleCommonArguments - FishEye arguments: []  {noformat}    *run*  {noformat}./fisheyectl.sh run --Xdisable-tags --Xdisable-head-detection --Xenable-git-content-hash-resolving-heuristic{noformat}    log:  {noformat}  2013-05-06 16:26:38,227 INFO  [main ] fisheye BaseCommand-handleCommonArguments - FishEye arguments: [--Xdisable-tags, --Xdisable-head-detection, --Xenable-git-content-hash-resolving-heuristic]  2013-05-06 16:26:38,229 INFO  [main ] fisheye BaseCommand-handleCommonArguments - Starting with --Xdisable-tags. Will not record tags on commits in DVCS.  2013-05-06 16:26:38,230 INFO  [main ] fisheye BaseCommand-handleCommonArguments - Starting with --Xdisable-head-detection. Will not determine branch heads in DVCS.  2013-05-06 16:26:38,230 INFO  [main ] fisheye BaseCommand-handleCommonArguments - Starting with  --Xenable-git-content-hash-resolving-heuristic. Revisions in file tab of repository browser may be incorrect.  {noformat}        ",Bug,Low,Closed,"2013-05-07 02:01:49","2013-05-07 02:01:49",0.5
"Atlassian FishEye","slow git output processing leads to long indexing time","Customer reported issues with slow git repository indexing (CRC-5218).  Further investigation shown that git output splitting on new line characters can be very slow.  Seems like a regression introduced by FE-4203, processing large git diff output is significantly slower.",Bug,Low,Closed,"2013-04-23 14:02:22","2013-04-23 14:02:22",2
"Atlassian FishEye","Email validation fails if local-part includes a '#'","Using an email address such as '#<EMAIL>' in From Address for SMTP configuration fails with a Please enter a valid address error message.  As per [this|http://stackoverflow.com/questions/2049502/what-characters-are-allowed-in-email-address] post, '#' is a valid character for local-part of the email address.  ",Bug,Medium,Closed,"2013-03-15 02:37:14","2013-03-15 02:37:14",1
"Atlassian FishEye","Renaming a user to a deleted user fails","h3.Steps to reproduce  # Create users: UserA and UserB  # Add UserA to a group 'GroupA'  # Delete UserB  # Rename UserA to be UserB  # It fail with the following errors in {{atlassian-fisheye-<date>.log}}:  {noformat}  2013-03-13 21:26:12,605 WARN  [btpool0-30 ] org.hibernate.util.JDBCExceptionReporter JDBCExceptionReporter-logExceptions - SQL Error: 0, SQLState: null  2013-03-13 21:26:12,628 ERROR [btpool0-30 ] org.hibernate.util.JDBCExceptionReporter JDBCExceptionReporter-logExceptions - failed batch  2013-03-13 21:26:12,630 ERROR [btpool0-30 ] org.hibernate.event.def.AbstractFlushingEventListener AbstractFlushingEventListener-performExecutions - Could not synchronize database state with session  org.hibernate.exception.GenericJDBCException: Could not execute JDBC batch update   at org.hibernate.exception.SQLStateConverter.handledNonSpecificException(SQLStateConverter.java:140)   at org.hibernate.exception.SQLStateConverter.convert(SQLStateConverter.java:128)   at org.hibernate.exception.JDBCExceptionHelper.convert(JDBCExceptionHelper.java:66)   at org.hibernate.jdbc.AbstractBatcher.executeBatch(AbstractBatcher.java:275)   at org.hibernate.engine.ActionQueue.executeActions(ActionQueue.java:262)   at org.hibernate.engine.ActionQueue.executeActions(ActionQueue.java:179)   at org.hibernate.event.def.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:321)  ...  Caused by: java.sql.BatchUpdateException: failed batch  ...  2013-03-13 21:26:12,960 ERROR [btpool0-30 ] fisheye TotalityFilter-logExceptionDetails - Exception org.hibernate.exception.GenericJDBCException: Could not execute JDBC batch update (javax.servlet.ServletException) while processing /admin/userRename.do (Referer:http://localhost:8060/admin/userRename-default.do)  javax.servlet.ServletException: org.hibernate.exception.GenericJDBCException: Could not execute JDBC batch update   at com.opensymphony.webwork.dispatcher.DispatcherUtils.serviceAction(DispatcherUtils.java:284)   at com.opensymphony.webwork.dispatcher.ServletDispatcher.service(ServletDispatcher.java:111)   at javax.servlet.http.HttpServlet.service(HttpServlet.java:820)   at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:511)   at org.mortbay.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1272)   at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:46)   at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:66)   at com.atlassian.applinks.core.rest.context.ContextFilter.doFilter(ContextFilter.java:25)  ...  Caused by: org.hibernate.exception.GenericJDBCException: Could not execute JDBC batch update  ...  Caused by: java.sql.BatchUpdateException: failed batch  ...  2013-03-13 21:26:12,983 ERROR [btpool0-30 ] org.mortbay.log Slf4jLog-warn - /admin/userRename.do  org.hibernate.exception.GenericJDBCException: Could not execute JDBC batch update   at org.hibernate.exception.SQLStateConverter.handledNonSpecificException(SQLStateConverter.java:140)   at org.hibernate.exception.SQLStateConverter.convert(SQLStateConverter.java:128)   at org.hibernate.exception.JDBCExceptionHelper.convert(JDBCExceptionHelper.java:66)   at org.hibernate.jdbc.AbstractBatcher.executeBatch(AbstractBatcher.java:275)   at org.hibernate.engine.ActionQueue.executeActions(ActionQueue.java:262)   at org.hibernate.engine.ActionQueue.executeActions(ActionQueue.java:179)   at org.hibernate.event.def.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:321)  ...  Caused by: java.sql.BatchUpdateException: failed batch  {noformat}  # Check the group that belongs to UserA",Bug,Low,Closed,"2013-03-13 13:54:12","2013-03-13 13:54:12",3
"Atlassian FishEye","User admin screen fetches the whole user list one by one","When showing the user list we seem to request the entire user list for each request, and then make a separate select for every user in the system to fetch the details. (UserAdminAction.execute())    {noformat}  2013-03-05 10:25:41,069 DEBUG [qtp719724423-1083 - /foo/admin/userAdmin.do ] org.hibernate.SQL SQLStatementLogger-logStatement - select user0_.cru_user_name as col_0_0_ from cru_user user0_ where user0_.cru_fisheye_enabled=true or user0_.cru_crucible_enabled=true order by user0_.cru_user_name  2013-03-05 10:25:41,174 DEBUG [qtp719724423-1083 - /foo/admin/userAdmin.do ] org.hibernate.SQL SQLStatementLogger-logStatement - select user0_.cru_user_id as cru1_14_, user0_.cru_user_name as cru2_14_, user0_.cru_email as cru3_14_, user0_.cru_passwordhash as cru4_14_, user0_.cru_authtype as cru5_14_, user0_.cru_displayname as cru6_14_, user0_.cru_fisheye_enabled as cru7_14_, user0_.cru_crucible_enabled as cru8_14_, user0_.cru_passwordreset_srnd as cru9_14_, user0_.cru_passwordresettimestamp as cru10_14_, user0_.cru_failedlogincount as cru11_14_, user0_.cru_timezone as cru12_14_ from cru_user user0_ where user0_.cru_user_name=? and (user0_.cru_fisheye_enabled=true or user0_.cru_crucible_enabled=true)  2013-03-05 10:25:41,281 DEBUG [qtp719724423-1083 - /foo/admin/userAdmin.do ] org.hibernate.SQL SQLStatementLogger-logStatement - select user0_.cru_user_id as cru1_14_, user0_.cru_user_name as cru2_14_, user0_.cru_email as cru3_14_, user0_.cru_passwordhash as cru4_14_, user0_.cru_authtype as cru5_14_, user0_.cru_displayname as cru6_14_, user0_.cru_fisheye_enabled as cru7_14_, user0_.cru_crucible_enabled as cru8_14_, user0_.cru_passwordreset_srnd as cru9_14_, user0_.cru_passwordresettimestamp as cru10_14_, user0_.cru_failedlogincount as cru11_14_, user0_.cru_timezone as cru12_14_ from cru_user user0_ where user0_.cru_user_name=? and (user0_.cru_fisheye_enabled=true or user0_.cru_crucible_enabled=true)  2013-03-05 10:25:41,389 DEBUG [qtp719724423-1083 - /foo/admin/userAdmin.do ] org.hibernate.SQL SQLStatementLogger-logStatement - select user0_.cru_user_id as cru1_14_, user0_.cru_user_name as cru2_14_, user0_.cru_email as cru3_14_, user0_.cru_passwordhash as cru4_14_, user0_.cru_authtype as cru5_14_, user0_.cru_displayname as cru6_14_, user0_.cru_fisheye_enabled as cru7_14_, user0_.cru_crucible_enabled as cru8_14_, user0_.cru_passwordreset_srnd as cru9_14_, user0_.cru_passwordresettimestamp as cru10_14_, user0_.cru_failedlogincount as cru11_14_, user0_.cru_timezone as cru12_14_ from cru_user user0_ where user0_.cru_user_name=? and (user0_.cru_fisheye_enabled=true or user0_.cru_crucible_enabled=true)  2013-03-05 10:25:41,491 DEBUG [qtp719724423-1083 - /foo/admin/userAdmin.do ] org.hibernate.SQL SQLStatementLogger-logStatement - select user0_.cru_user_id as cru1_14_, user0_.cru_user_name as cru2_14_, user0_.cru_email as cru3_14_, user0_.cru_passwordhash as cru4_14_, user0_.cru_authtype as cru5_14_, user0_.cru_displayname as cru6_14_, user0_.cru_fisheye_enabled as cru7_14_, user0_.cru_crucible_enabled as cru8_14_, user0_.cru_passwordreset_srnd as cru9_14_, user0_.cru_passwordresettimestamp as cru10_14_, user0_.cru_failedlogincount as cru11_14_, user0_.cru_timezone as cru12_14_ from cru_user user0_ where user0_.cru_user_name=? and (user0_.cru_fisheye_enabled=true or user0_.cru_crucible_enabled=true)  2013-03-05 10:25:41,624 DEBUG [qtp719724423-1083 - /foo/admin/userAdmin.do ] org.hibernate.SQL SQLStatementLogger-logStatement - select user0_.cru_user_id as cru1_14_, user0_.cru_user_name as cru2_14_, user0_.cru_email as cru3_14_, user0_.cru_passwordhash as cru4_14_, user0_.cru_authtype as cru5_14_, user0_.cru_displayname as cru6_14_, user0_.cru_fisheye_enabled as cru7_14_, user0_.cru_crucible_enabled as cru8_14_, user0_.cru_passwordreset_srnd as cru9_14_, user0_.cru_passwordresettimestamp as cru10_14_, user0_.cru_failedlogincount as cru11_14_, user0_.cru_timezone as cru12_14_ from cru_user user0_ where user0_.cru_user_name=? and (user0_.cru_fisheye_enabled=true or user0_.cru_crucible_enabled=true)  2013-03-05 10:25:41,761 DEBUG [qtp719724423-1083 - /foo/admin/userAdmin.do ] org.hibernate.SQL SQLStatementLogger-logStatement - select user0_.cru_user_id as cru1_14_, user0_.cru_user_name as cru2_14_, user0_.cru_email as cru3_14_, user0_.cru_passwordhash as cru4_14_, user0_.cru_authtype as cru5_14_, user0_.cru_displayname as cru6_14_, user0_.cru_fisheye_enabled as cru7_14_, user0_.cru_crucible_enabled as cru8_14_, user0_.cru_passwordreset_srnd as cru9_14_, user0_.cru_passwordresettimestamp as cru10_14_, user0_.cru_failedlogincount as cru11_14_, user0_.cru_timezone as cru12_14_ from cru_user user0_ where user0_.cru_user_name=? and (user0_.cru_fisheye_enabled=true or user0_.cru_crucible_enabled=true)  2013-03-05 10:25:41,858 DEBUG [qtp719724423-1083 - /foo/admin/userAdmin.do ] org.hibernate.SQL SQLStatementLogger-logStatement - select user0_.cru_user_id as cru1_14_, user0_.cru_user_name as cru2_14_, user0_.cru_email as cru3_14_, user0_.cru_passwordhash as cru4_14_, user0_.cru_authtype as cru5_14_, user0_.cru_displayname as cru6_14_, user0_.cru_fisheye_enabled as cru7_14_, user0_.cru_crucible_enabled as cru8_14_, user0_.cru_passwordreset_srnd as cru9_14_, user0_.cru_passwordresettimestamp as cru10_14_, user0_.cru_failedlogincount as cru11_14_, user0_.cru_timezone as cru12_14_ from cru_user user0_ where user0_.cru_user_name=? and (user0_.cru_fisheye_enabled=true or user0_.cru_crucible_enabled=true)  2013-03-05 10:25:41,955 DEBUG [qtp719724423-1083 - /foo/admin/userAdmin.do ] org.hibernate.SQL SQLStatementLogger-logStatement - select user0_.cru_user_id as cru1_14_, user0_.cru_user_name as cru2_14_, user0_.cru_email as cru3_14_, user0_.cru_passwordhash as cru4_14_, user0_.cru_authtype as cru5_14_, user0_.cru_displayname as cru6_14_, user0_.cru_fisheye_enabled as cru7_14_, user0_.cru_crucible_enabled as cru8_14_, user0_.cru_passwordreset_srnd as cru9_14_, user0_.cru_passwordresettimestamp as cru10_14_, user0_.cru_failedlogincount as cru11_14_, user0_.cru_timezone as cru12_14_ from cru_user user0_ where user0_.cru_user_name=? and (user0_.cru_fisheye_enabled=true or user0_.cru_crucible_enabled=true)  2013-03-05 10:25:42,055 DEBUG [qtp719724423-1083 - /foo/admin/userAdmin.do ] org.hibernate.SQL SQLStatementLogger-logStatement - select user0_.cru_user_id as cru1_14_, user0_.cru_user_name as cru2_14_, user0_.cru_email as cru3_14_, user0_.cru_passwordhash as cru4_14_, user0_.cru_authtype as cru5_14_, user0_.cru_displayname as cru6_14_, user0_.cru_fisheye_enabled as cru7_14_, user0_.cru_crucible_enabled as cru8_14_, user0_.cru_passwordreset_srnd as cru9_14_, user0_.cru_passwordresettimestamp as cru10_14_, user0_.cru_failedlogincount as cru11_14_, user0_.cru_timezone as cru12_14_ from cru_user user0_ where user0_.cru_user_name=? and (user0_.cru_fisheye_enabled=true or user0_.cru_crucible_enabled=true)  2013-03-05 10:25:42,153 DEBUG [qtp719724423-1083 - /foo/admin/userAdmin.do ] org.hibernate.SQL SQLStatementLogger-logStatement - select user0_.cru_user_id as cru1_14_, user0_.cru_user_name as cru2_14_, user0_.cru_email as cru3_14_, user0_.cru_passwordhash as cru4_14_, user0_.cru_authtype as cru5_14_, user0_.cru_displayname as cru6_14_, user0_.cru_fisheye_enabled as cru7_14_, user0_.cru_crucible_enabled as cru8_14_, user0_.cru_passwordreset_srnd as cru9_14_, user0_.cru_passwordresettimestamp as cru10_14_, user0_.cru_failedlogincount as cru11_14_, user0_.cru_timezone as cru12_14_ from cru_user user0_ where user0_.cru_user_name=? and (user0_.cru_fisheye_enabled=true or user0_.cru_crucible_enabled=true)  2013-03-05 10:25:42,247 DEBUG [qtp719724423-1083 - /foo/admin/userAdmin.do ] org.hibernate.SQL SQLStatementLogger-logStatement - select user0_.cru_user_id as cru1_14_, user0_.cru_user_name as cru2_14_, user0_.cru_email as cru3_14_, user0_.cru_passwordhash as cru4_14_, user0_.cru_authtype as cru5_14_, user0_.cru_displayname as cru6_14_, user0_.cru_fisheye_enabled as cru7_14_, user0_.cru_crucible_enabled as cru8_14_, user0_.cru_passwordreset_srnd as cru9_14_, user0_.cru_passwordresettimestamp as cru10_14_, user0_.cru_failedlogincount as cru11_14_, user0_.cru_timezone as cru12_14_ from cru_user user0_ where user0_.cru_user_name=? and (user0_.cru_fisheye_enabled=true or user0_.cru_crucible_enabled=true)  2013-03-05 10:25:42,343 DEBUG [qtp719724423-1083 - /foo/admin/userAdmin.do ] org.hibernate.SQL SQLStatementLogger-logStatement - select user0_.cru_user_id as cru1_14_, user0_.cru_user_name as cru2_14_, user0_.cru_email as cru3_14_, user0_.cru_passwordhash as cru4_14_, user0_.cru_authtype as cru5_14_, user0_.cru_displayname as cru6_14_, user0_.cru_fisheye_enabled as cru7_14_, user0_.cru_crucible_enabled as cru8_14_, user0_.cru_passwordreset_srnd as cru9_14_, user0_.cru_passwordresettimestamp as cru10_14_, user0_.cru_failedlogincount as cru11_14_, user0_.cru_timezone as cru12_14_ from cru_user user0_ where user0_.cru_user_name=? and (user0_.cru_fisheye_enabled=true or user0_.cru_crucible_enabled=true)  2013-03-05 10:25:42,439 DEBUG [qtp719724423-1083 - /foo/admin/userAdmin.do ] org.hibernate.SQL SQLStatementLogger-logStatement - select user0_.cru_user_id as cru1_14_, user0_.cru_user_name as cru2_14_, user0_.cru_email as cru3_14_, user0_.cru_passwordhash as cru4_14_, user0_.cru_authtype as cru5_14_, user0_.cru_displayname as cru6_14_, user0_.cru_fisheye_enabled as cru7_14_, user0_.cru_crucible_enabled as cru8_14_, user0_.cru_passwordreset_srnd as cru9_14_, user0_.cru_passwordresettimestamp as cru10_14_, user0_.cru_failedlogincount as cru11_14_, user0_.cru_timezone as cru12_14_ from cru_user user0_ where user0_.cru_user_name=? and (user0_.cru_fisheye_enabled=true or user0_.cru_crucible_enabled=true)  2013-03-05 10:25:42,536 DEBUG [qtp719724423-1083 - /foo/admin/userAdmin.do ] org.hibernate.SQL SQLStatementLogger-logStatement - select user0_.cru_user_id as cru1_14_, user0_.cru_user_name as cru2_14_, user0_.cru_email as cru3_14_, user0_.cru_passwordhash as cru4_14_, user0_.cru_authtype as cru5_14_, user0_.cru_displayname as cru6_14_, user0_.cru_fisheye_enabled as cru7_14_, user0_.cru_crucible_enabled as cru8_14_, user0_.cru_passwordreset_srnd as cru9_14_, user0_.cru_passwordresettimestamp as cru10_14_, user0_.cru_failedlogincount as cru11_14_, user0_.cru_timezone as cru12_14_ from cru_user user0_ where user0_.cru_user_name=? and (user0_.cru_fisheye_enabled=true or user0_.cru_crucible_enabled=true)  2013-03-05 10:25:42,632 DEBUG [qtp719724423-1083 - /foo/admin/userAdmin.do ] org.hibernate.SQL SQLStatementLogger-logStatement - select user0_.cru_user_id as cru1_14_, user0_.cru_user_name as cru2_14_, user0_.cru_email as cru3_14_, user0_.cru_passwordhash as cru4_14_, user0_.cru_authtype as cru5_14_, user0_.cru_displayname as cru6_14_, user0_.cru_fisheye_enabled as cru7_14_, user0_.cru_crucible_enabled as cru8_14_, user0_.cru_passwordreset_srnd as cru9_14_, user0_.cru_passwordresettimestamp as cru10_14_, user0_.cru_failedlogincount as cru11_14_, user0_.cru_timezone as cru12_14_ from cru_user user0_ where user0_.cru_user_name=? and (user0_.cru_fisheye_enabled=true or user0_.cru_crucible_enabled=true)  2013-03-05 10:25:42,740 DEBUG [qtp719724423-1083 - /foo/admin/userAdmin.do ] org.hibernate.SQL SQLStatementLogger-logStatement - select user0_.cru_user_id as cru1_14_, user0_.cru_user_name as cru2_14_, user0_.cru_email as cru3_14_, user0_.cru_passwordhash as cru4_14_, user0_.cru_authtype as cru5_14_, user0_.cru_displayname as cru6_14_, user0_.cru_fisheye_enabled as cru7_14_, user0_.cru_crucible_enabled as cru8_14_, user0_.cru_passwordreset_srnd as cru9_14_, user0_.cru_passwordresettimestamp as cru10_14_, user0_.cru_failedlogincount as cru11_14_, user0_.cru_timezone as cru12_14_ from cru_user user0_ where user0_.cru_user_name=? and (user0_.cru_fisheye_enabled=true or user0_.cru_crucible_enabled=true)  2013-03-05 10:25:42,839 DEBUG [qtp719724423-1083 - /foo/admin/userAdmin.do ] org.hibernate.SQL SQLStatementLogger-logStatement - select user0_.cru_user_id as cru1_14_, user0_.cru_user_name as cru2_14_, user0_.cru_email as cru3_14_, user0_.cru_passwordhash as cru4_14_, user0_.cru_authtype as cru5_14_, user0_.cru_displayname as cru6_14_, user0_.cru_fisheye_enabled as cru7_14_, user0_.cru_crucible_enabled as cru8_14_, user0_.cru_passwordreset_srnd as cru9_14_, user0_.cru_passwordresettimestamp as cru10_14_, user0_.cru_failedlogincount as cru11_14_, user0_.cru_timezone as cru12_14_ from cru_user user0_ where user0_.cru_user_name=? and (user0_.cru_fisheye_enabled=true or user0_.cru_crucible_enabled=true)  2013-03-05 10:25:42,937 DEBUG [qtp719724423-1083 - /foo/admin/userAdmin.do ] org.hibernate.SQL SQLStatementLogger-logStatement - select user0_.cru_user_id as cru1_14_, user0_.cru_user_name as cru2_14_, user0_.cru_email as cru3_14_, user0_.cru_passwordhash as cru4_14_, user0_.cru_authtype as cru5_14_, user0_.cru_displayname as cru6_14_, user0_.cru_fisheye_enabled as cru7_14_, user0_.cru_crucible_enabled as cru8_14_, user0_.cru_passwordreset_srnd as cru9_14_, user0_.cru_passwordresettimestamp as cru10_14_, user0_.cru_failedlogincount as cru11_14_, user0_.cru_timezone as cru12_14_ from cru_user user0_ where user0_.cru_user_name=? and (user0_.cru_fisheye_enabled=true or user0_.cru_crucible_enabled=true)  2013-03-05 10:25:43,041 DEBUG [qtp719724423-1083 - /foo/admin/userAdmin.do ] org.hibernate.SQL SQLStatementLogger-logStatement - select user0_.cru_user_id as cru1_14_, user0_.cru_user_name as cru2_14_, user0_.cru_email as cru3_14_, user0_.cru_passwordhash as cru4_14_, user0_.cru_authtype as cru5_14_, user0_.cru_displayname as cru6_14_, user0_.cru_fisheye_enabled as cru7_14_, user0_.cru_crucible_enabled as cru8_14_, user0_.cru_passwordreset_srnd as cru9_14_, user0_.cru_passwordresettimestamp as cru10_14_, user0_.cru_failedlogincount as cru11_14_, user0_.cru_timezone as cru12_14_ from cru_user user0_ where user0_.cru_user_name=? and (user0_.cru_fisheye_enabled=true or user0_.cru_crucible_enabled=true)  2013-03-05 10:25:43,226 DEBUG [qtp719724423-1083 - /foo/admin/userAdmin.do ] org.hibernate.SQL SQLStatementLogger-logStatement - select user0_.cru_user_id as cru1_14_, user0_.cru_user_name as cru2_14_, user0_.cru_email as cru3_14_, user0_.cru_passwordhash as cru4_14_, user0_.cru_authtype as cru5_14_, user0_.cru_displayname as cru6_14_, user0_.cru_fisheye_enabled as cru7_14_, user0_.cru_crucible_enabled as cru8_14_, user0_.cru_passwordreset_srnd as cru9_14_, user0_.cru_passwordresettimestamp as cru10_14_, user0_.cru_failedlogincount as cru11_14_, user0_.cru_timezone as cru12_14_ from cru_user user0_ where user0_.cru_user_name=? and (user0_.cru_fisheye_enabled=true or user0_.cru_crucible_enabled=true)  2013-03-05 10:25:43,321 DEBUG [qtp719724423-1083 - /foo/admin/userAdmin.do ] org.hibernate.SQL SQLStatementLogger-logStatement - select user0_.cru_user_id as cru1_14_, user0_.cru_user_name as cru2_14_, user0_.cru_email as cru3_14_, user0_.cru_passwordhash as cru4_14_, user0_.cru_authtype as cru5_14_, user0_.cru_displayname as cru6_14_, user0_.cru_fisheye_enabled as cru7_14_, user0_.cru_crucible_enabled as cru8_14_, user0_.cru_passwordreset_srnd as cru9_14_, user0_.cru_passwordresettimestamp as cru10_14_, user0_.cru_failedlogincount as cru11_14_, user0_.cru_timezone as cru12_14_ from cru_user user0_ where user0_.cru_user_name=? and (user0_.cru_fisheye_enabled=true or user0_.cru_crucible_enabled=true)  {noformat}    Also when admin groups are configured, each user is checked for membership in each of the groups, which might be expensive when using JIRA/Crowd for user management.",Bug,Medium,Closed,"2013-03-05 09:31:06","2013-03-05 09:31:06",3
"Atlassian FishEye","Field Name Is Not Kept in Search Box in Quick Search","In {{/qsearch}} the field name is not kept in the search box. For example: Search for committer:foo and see that search box now contains only foo.",Bug,Low,Closed,"2013-02-27 17:08:39","2013-02-27 17:08:39",1
"Atlassian FishEye","Allow FishEye notification to use the user's email address when it is set in the SMTP configuration"," FishEye always uses the server mail address to send Notifications as it is stated in the documentation:  https://confluence.atlassian.com/display/FISHEYE/Configuring+SMTP    We should make this setting working with FishEye notifications too.    NB: Currently, Crucible DOES use the user's email address to send notifications.",Bug,Low,Closed,"2013-02-26 21:15:10","2013-02-26 21:15:10",0.5
"Atlassian FishEye","Smart commit #time no longer supports decimal value","Upgraded to FishEye 2.10.1 to get support for Mercurial 2.4 and smart commits of the form     TKT-1 #time 0.25h This is the comment here    are broken.  This used to work (I believe we were running 2.08 previously).  See the attached e-mail alert demonstrating the problem.  Using 15m instead of 0.25h works fine.",Bug,Low,Closed,"2013-02-22 20:25:06","2013-02-22 20:25:06",2
"Atlassian FishEye","Migration/Integration with MySQL 5.6 fails with Specified key was too long error","DB migration from HSQLDB to MySQL 5.6 failing with:  {noformat}  2013-02-14 09:48:17,932 ERROR [ThreadPool2 ] fisheye DBEditHelper-doGet - Database migration failed: com.cenqua.crucible.hibernate.CruDBException: Problem with constraints script C:\fecru\fecru-2.10.1\sql\MYSQL\schema\constraints_80.sql  com.cenqua.crucible.hibernate.CruDBException: Problem with constraints script C:\fecru\fecru-2.10.1\sql\MYSQL\schema\constraints_80.sql     at com.cenqua.crucible.hibernate.DefaultDBControl.addConstraints(DefaultDBControl.java:344)     at com.atlassian.crucible.migration.item.DBImporter.importData(DBImporter.java:145)     at com.atlassian.crucible.actions.admin.database.DBEditHelper$ImportRunner.call(DBEditHelper.java:90)     at com.atlassian.crucible.actions.admin.database.DBEditHelper$ImportRunner.call(DBEditHelper.java:72)     at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:334)     at java.util.concurrent.FutureTask.run(FutureTask.java:166)     at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:178)     at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:292)     at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)     at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)     at java.lang.Thread.run(Thread.java:722)    Caused by: com.cenqua.crucible.hibernate.CruDBException: SQL script error on line 124: create index cru_idx_stored_path on cru_stored_path (cru_path);     (Specified key was too long; max key length is 767 bytes), please contact http://www.atlassian.com/support/     at com.cenqua.crucible.hibernate.DefaultDBControl.executeScript(DefaultDBControl.java:510)     at com.cenqua.crucible.hibernate.DefaultDBControl.executeScript(DefaultDBControl.java:441)     at com.cenqua.crucible.hibernate.DefaultDBControl.addConstraints(DefaultDBControl.java:338)     ... 10 more    Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Specified key was too long; max key length is 767 bytes     at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)     at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:57)     at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)     at java.lang.reflect.Constructor.newInstance(Constructor.java:525)     at com.mysql.jdbc.Util.handleNewInstance(Util.java:411)     at com.mysql.jdbc.Util.getInstance(Util.java:386)     at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1053)     at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:4120)     at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:4052)     at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2503)     at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2664)     at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2788)     at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1816)     at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1730)     at com.cenqua.crucible.hibernate.DefaultDBControl.executeScript(DefaultDBControl.java:482)     ... 12 more    {noformat}    This seems to have exceeded the [Innodb limit|http://dev.mysql.com/doc/refman/5.6/en/innodb-restrictions.html] of 767 bytes.  Not being experienced on MySQL 5.5",Bug,Medium,Closed,"2013-02-18 22:41:56","2013-02-18 22:41:56",3
"Atlassian FishEye","Apply File Size Limits in DIFFS and showing Content on non-Subversion Repositories","In FishEye/Crucible it is possible to set the file size limit to be indexed in the repositories configuration (see [screenshot|^screenshot1.png]). However, these limits are only applied to [Subversion repositories|https://confluence.atlassian.com/display/FISHEYE/Text+file+size+limiting].    For example, when indexing a file around 100MB the following message is logged for a Subversion repository:  {noformat}  2013-02-13 09:45:54,319 INFO  [InitialPinger2 std-layout] fisheye RepositoryConfig-isOfIndexableSize - [std-layout] trunk/megafile.txt@36 exceeds indexing size limit (100M, limit is 5M).  The c  ontents of this files won't be searchable in FishEye or viewable in the user interface of FishEye or Crucible, and it won't count towards line of code counts.    {noformat}  While for a Git repository, nothing is logged.    In the UI, the same file can be seen in two different ways:  * [In Subversion|^screenshot2.png]  * [In Git|^screenshot3.png]    It would be more intuitive to have this option removed from the repository settings for all repositories but the Subversion ones.    ",Suggestion,,"Gathering Interest","2013-02-13 08:40:30","2013-02-13 08:40:30",5
"Atlassian FishEye","Resource log feature introduced in 2.8 no longer works in 2.9.2 or 2.10.1","This was working in 2.8.2 but this data is no longer logged in 2.9.2 or 2.10.1:    {noformat}  2013-02-11 10:52:38,322 INFO  [main ] fisheye.app SystemResourceMonitor-<init> - Max File Descriptors = 4096  {noformat}    Find the feature here:  https://jira.atlassian.com/browse/FE-4218      ",Bug,Low,Closed,"2013-02-11 19:45:11","2013-02-11 19:45:11",0
"Atlassian FishEye","Large number of reviews affects crucible performance","Review Dashboard is slow when number of reviews is large. Optimize review reports to use optimally use indexed and sql review data.",Bug,Medium,Closed,"2013-01-28 20:40:26","2013-01-28 20:40:26",5
"Atlassian FishEye","Change semantics of j/k shortcuts in FishEye changeset page to cycle through diffs, rather than files","Update the following shortcuts on the changeset page    * j - next diff  * k - previous diff    This is to make scanning a changeset much easier because scrolling is no longer needed within a file. ",Suggestion,,Closed,"2013-01-22 05:27:35","2013-01-22 05:27:35",3
"Atlassian FishEye","Fix performance of the user listing page for large number of users","It seems that when you have a large number of users and repositories the /users page (a.k.a. the People tab) becomes really slow.    We could look at removing the Commit History graph or whatever else is expensive in this page (counting reviews...)",Bug,Low,Closed,"2013-01-21 04:18:06","2013-01-21 04:18:06",3
"Atlassian FishEye","Highlight row in Fisheye permission screen","We have several hundreds groups in AD.  When I wan to add a permission to fisheye repository I have to scroll down a huge list (or use Cmd+F).  Then selecting a checkbox is a bit tricky because you may by the mistake click a row below or up of the group of your choice.    Adding a spimple CSS :hover rule which darkens hovered row should be great solution.    It would be even better if we there was a ajax group selector like in Stash.",Suggestion,,Closed,"2013-01-17 10:09:42","2013-01-17 10:09:42",1
"Atlassian FishEye","Slow activity stream on Fisheye dashboard","As reported by a user, the activity stream on Fisheye dashboard can sometimes slow down and run in over a minute.  Looking into logs there are 3 lucene queries run by CrossRepositorySearcher#findRecentChangeSets and most often the last query is way slower than first two.    Last query is invoked by StarDownStreamActivityItemManager#hasEarlierActivity and is run to check whether there is any earlier activity on the stream to decide whether infinite scroll should attempt to bring more content.  ",Suggestion,,Closed,"2013-01-15 15:02:38","2013-01-15 15:02:38",3
"Atlassian FishEye","svnkit svn+ssh handling","In FishEye 2.8, when attempting to connect (index) to an SVN repository using svn+ssh protocol, the following exception occurs:    {noformat}  2012-08-30 10:30:40,706 WARN [IncrementalPinger1 acme] fisheye.app SvnRepositoryTester-getServerRootURL - Unable to get info for the repository root for acme  com.cenqua.fisheye.rep.RepositoryClientException: org.tigris.subversion.javahl.ClientException: svn: E210002: There was a problem while connecting to svn.code.sf.net:22  at com.cenqua.fisheye.svn.SvnThrottledClient.info2(SvnThrottledClient.java:115)  at com.cenqua.fisheye.svn.SvnRepositoryTester.getServerRootURL(SvnRepositoryTester.java:90)  […]  Caused by: org.tigris.subversion.javahl.ClientException: svn: E210002: There was a problem while connecting to svn.code.sf.net:22  at org.tigris.subversion.javahl.JavaHLObjectFactory.throwException(JavaHLObjectFactory.java:785)  at org.tmatesoft.svn.core.javahl.SVNClientImpl.throwException(SVNClientImpl.java:1887)  […]  Caused by: org.tmatesoft.svn.core.SVNException: svn: E210002: There was a problem while connecting to svn.code.sf.net:22  at org.tmatesoft.svn.core.internal.wc.SVNErrorManager.error(SVNErrorManager.java:64)  […]  Caused by: java.io.IOException: There was a problem while connecting to svn.code.sf.net:22  at com.trilead.ssh2.Connection.connect(Connection.java:792)  at org.tmatesoft.svn.core.internal.io.svn.ssh.SshHost.openConnection(SshHost.java:205)  […]  ... 33 more  Caused by: java.io.IOException: Key exchange was not finished, connection is closed.  at com.trilead.ssh2.transport.KexManager.getOrWaitForConnectionInfo(KexManager.java:92)  at com.trilead.ssh2.transport.TransportManager.getConnectionInfo(TransportManager.java:231)  at com.trilead.ssh2.Connection.connect(Connection.java:744)  ... 37 more  Caused by: java.io.IOException: The server hostkey was not accepted by the verifier callback.  at com.trilead.ssh2.transport.KexManager.handleMessage(KexManager.java:538)  at com.trilead.ssh2.transport.TransportManager.receiveLoop(TransportManager.java:760)  at com.trilead.ssh2.transport.TransportManager$1.run(TransportManager.java:475)  ... 1 more  Caused by: org.tmatesoft.svn.core.SVNAuthenticationException: svn: E215003: Host key ('svn.code.sf.net:22 <ssh-rsa>') can not be verified.  at org.tmatesoft.svn.core.internal.wc.DefaultSVNAuthenticationManager.verifyHostKey(DefaultSVNAuthenticationManager.java:563)  at org.tmatesoft.svn.core.internal.io.svn.SVNSSHConnector$1.verifyServerHostKey(SVNSSHConnector.java:124)  {noformat}    And the only way to workaround that is to manually force the caching of the host key with:    {code}  <FishEye Installation Directory>/lib/svn/jsvn --username USER --password PASS info svn+ssh://<repo-url>  {code}",Bug,Low,Closed,"2013-01-03 10:28:09","2013-01-03 10:28:09",3
"Atlassian FishEye","repository refresh status button is broken","The refresh button in the admin screen is no longer clickable.",Bug,Low,Closed,"2012-12-20 00:23:33","2012-12-20 00:23:33",1
"Atlassian FishEye","Viewing All Reviews For 1000 or More Users in Oracle Throws ORA-01795","To reproduce the problem:  # Login to a FishEye/Crucible instance with more than 1000 users (and Oracle database).  # Go to {{People > All Users}}.  # Select the Reviews column heading to sort by the number of reviews.    From [JRA-19317|https://jira.atlassian.com/browse/JRA-19317]:  {quote}  Oracle will not permit more than 1000 literals in an {{IN}} clause. It does, however, permit {{SELECT}} statements in the {{IN}} clause which can return an unlimited number of elements.  {quote}    The following exception can be found in the logs:  {noformat}  2012-11-21 01:29:04,196 WARN  [btpool0-23381 ] org.hibernate.util.JDBCExceptionReporter org.hibernate.util.JDBCExceptionReporter-logExceptions - SQL Error: 1795, SQLState: 42000  2012-11-21 01:29:04,197 ERROR [btpool0-23381 ] org.hibernate.util.JDBCExceptionReporter org.hibernate.util.JDBCExceptionReporter-logExceptions - ORA-01795: maximum number of expressions in a list is 1000    2012-11-21 01:29:04,198 ERROR [btpool0-23381 ] fisheye.app com.cenqua.fisheye.web.filters.TotalityFilter-logExceptionDetails - Exception org.hibernate.exception.SQLGrammarException: could not execute query (javax.servlet.ServletException) while processing /fe/listUsers.do (Referer:http://fisheye/users)  javax.servlet.ServletException: org.hibernate.exception.SQLGrammarException: could not execute query   at com.opensymphony.webwork.dispatcher.DispatcherUtils.serviceAction(DispatcherUtils.java:284)   at com.opensymphony.webwork.dispatcher.ServletDispatcher.service(ServletDispatcher.java:111)   at javax.servlet.http.HttpServlet.service(HttpServlet.java:820)   at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:511)   at org.mortbay.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1272)   at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:46)   at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:66)   at com.atlassian.applinks.core.rest.context.ContextFilter.doFilter(ContextFilter.java:25)   at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:74)   at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)   at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:77)   at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:63)   at org.mortbay.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1264)   at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:46)   at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:77)   at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:63)   at org.mortbay.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1264)   at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:83)   at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:76)   at org.mortbay.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1264)   at com.atlassian.crucible.filters.CrucibleFilter.doFilter(CrucibleFilter.java:146)   at org.mortbay.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1264)   at com.cenqua.fisheye.web.filters.TotalityFilter.doFilter(TotalityFilter.java:286)   at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:237)   at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:167)   at org.mortbay.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1264)   at com.atlassian.security.auth.trustedapps.filter.TrustedApplicationsFilter.doFilter(TrustedApplicationsFilter.java:98)   at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:237)   at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:167)   at org.mortbay.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1264)   at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:46)   at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:66)   at com.atlassian.oauth.serviceprovider.internal.servlet.OAuthFilter.doFilter(OAuthFilter.java:55)   at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:74)   at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)   at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:77)   at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:63)   at org.mortbay.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1264)   at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:46)   at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:77)   at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:63)   at org.mortbay.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1264)   at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:399)   at org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)   at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:182)   at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:766)   at org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:450)   at org.mortbay.jetty.servlet.Dispatcher.forward(Dispatcher.java:327)   at org.mortbay.jetty.servlet.Dispatcher.forward(Dispatcher.java:126)   at com.cenqua.fisheye.web.filters.TotalityFilter.doFilter(TotalityFilter.java:187)   at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:237)   at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:167)   at org.mortbay.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1264)   at com.atlassian.security.auth.trustedapps.filter.TrustedApplicationsFilter.doFilter(TrustedApplicationsFilter.java:98)   at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:237)   at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:167)   at org.mortbay.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1264)   at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:46)   at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:66)   at com.atlassian.oauth.serviceprovider.internal.servlet.OAuthFilter.doFilter(OAuthFilter.java:55)   at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:74)   at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)   at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:77)   at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:63)   at org.mortbay.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1264)   at org.mortbay.servlet.UserAgentFilter.doFilter(UserAgentFilter.java:78)   at org.mortbay.servlet.GzipFilter.doFilter(GzipFilter.java:131)   at com.cenqua.fisheye.web.filters.CustomIncludableGzipFilter.doFilter(CustomIncludableGzipFilter.java:27)   at org.mortbay.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1264)   at com.cenqua.fisheye.web.filters.ProductInfoFilter.doFilter(ProductInfoFilter.java:44)   at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:237)   at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:167)   at org.mortbay.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1264)   at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:46)   at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:77)   at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:63)   at org.mortbay.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1264)   at com.cenqua.fisheye.web.filters.UpfrontFilter.doFilter(UpfrontFilter.java:54)   at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:237)   at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:167)   at org.mortbay.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1264)   at com.atlassian.fecru.profiling.ProfilingServletFilter.doFilter(ProfilingServletFilter.java:74)   at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:237)   at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:167)   at org.mortbay.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1264)   at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:399)   at org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)   at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:182)   at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:766)   at org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:450)   at org.mortbay.jetty.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:230)   at org.mortbay.jetty.handler.HandlerCollection.handle(HandlerCollection.java:114)   at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)   at org.mortbay.jetty.Server.handle(Server.java:326)   at org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:542)   at org.mortbay.jetty.ajp.Ajp13Connection.access$2900(Ajp13Connection.java:42)   at org.mortbay.jetty.ajp.Ajp13Connection$RequestHandler.headerComplete(Ajp13Connection.java:228)   at org.mortbay.jetty.ajp.Ajp13Parser.parseNext(Ajp13Parser.java:484)   at org.mortbay.jetty.ajp.Ajp13Parser.parseAvailable(Ajp13Parser.java:151)   at org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:404)   at org.mortbay.jetty.bio.SocketConnector$Connection.run(SocketConnector.java:228)   at org.mortbay.thread.BoundedThreadPool$PoolThread.run(BoundedThreadPool.java:451)  Caused by: org.hibernate.exception.SQLGrammarException: could not execute query   at org.hibernate.exception.SQLStateConverter.convert(SQLStateConverter.java:92)   at org.hibernate.exception.JDBCExceptionHelper.convert(JDBCExceptionHelper.java:66)   at org.hibernate.loader.Loader.doList(Loader.java:2452)   at org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2192)   at org.hibernate.loader.Loader.list(Loader.java:2187)   at org.hibernate.loader.hql.QueryLoader.list(QueryLoader.java:452)   at org.hibernate.hql.ast.QueryTranslatorImpl.list(QueryTranslatorImpl.java:363)   at org.hibernate.engine.query.HQLQueryPlan.performList(HQLQueryPlan.java:196)   at org.hibernate.impl.SessionImpl.list(SessionImpl.java:1258)   at org.hibernate.impl.QueryImpl.list(QueryImpl.java:102)   at com.cenqua.crucible.model.managers.impl.DefaultReviewManager.getReviewCountForUsers(DefaultReviewManager.java:291)   at com.atlassian.fisheye.user.action.userlistgenerator.UserListGenerator.addReviewCountToPeople(UserListGenerator.java:164)   at com.atlassian.fisheye.user.action.userlistgenerator.UserListGenerator.getEveryoneSortedOnCriteria(UserListGenerator.java:80)   at com.atlassian.fisheye.user.action.UserListAction.getPeopleData(UserListAction.java:197)   at com.atlassian.fisheye.user.action.UserListAction.doList(UserListAction.java:170)   at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)   at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)   at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)   at java.lang.reflect.Method.invoke(Method.java:597)   at com.opensymphony.xwork.DefaultActionInvocation.invokeAction(DefaultActionInvocation.java:358)   at com.opensymphony.xwork.DefaultActionInvocation.invokeActionOnly(DefaultActionInvocation.java:218)   at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:192)   at com.opensymphony.xwork.interceptor.DefaultWorkflowInterceptor.doIntercept(DefaultWorkflowInterceptor.java:175)   at com.opensymphony.xwork.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:86)   at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)   at com.opensymphony.xwork.validator.ValidationInterceptor.doIntercept(ValidationInterceptor.java:115)   at com.opensymphony.xwork.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:86)   at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)   at com.atlassian.fisheye.xwork.SimpleConversionErrorInterceptor.intercept(SimpleConversionErrorInterceptor.java:64)   at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)   at com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31)   at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)   at com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31)   at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)   at com.opensymphony.webwork.interceptor.FileUploadInterceptor.intercept(FileUploadInterceptor.java:174)   at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)   at com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31)   at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)   at com.opensymphony.webwork.interceptor.debugging.DebuggingInterceptor.intercept(DebuggingInterceptor.java:169)   at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)   at com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31)   at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)   at com.opensymphony.xwork.interceptor.I18nInterceptor.intercept(I18nInterceptor.java:151)   at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)   at com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31)   at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)   at com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31)   at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)   at com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31)   at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)   at com.opensymphony.xwork.interceptor.ExceptionMappingInterceptor.intercept(ExceptionMappingInterceptor.java:186)   at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)   at com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31)   at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)   at com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31)   at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)   at com.opensymphony.xwork.DefaultActionProxy.execute(DefaultActionProxy.java:116)   at com.opensymphony.webwork.dispatcher.DispatcherUtils.serviceAction(DispatcherUtils.java:273)   ... 101 more  Caused by: java.sql.SQLException: ORA-01795: maximum number of expressions in a list is 1000     at oracle.jdbc.driver.T4CTTIoer.processError(T4CTTIoer.java:440)   at oracle.jdbc.driver.T4CTTIoer.processError(T4CTTIoer.java:396)   at oracle.jdbc.driver.T4C8Oall.processError(T4C8Oall.java:837)   at oracle.jdbc.driver.T4CTTIfun.receive(T4CTTIfun.java:445)   at oracle.jdbc.driver.T4CTTIfun.doRPC(T4CTTIfun.java:191)   at oracle.jdbc.driver.T4C8Oall.doOALL(T4C8Oall.java:523)   at oracle.jdbc.driver.T4CPreparedStatement.doOall8(T4CPreparedStatement.java:207)   at oracle.jdbc.driver.T4CPreparedStatement.executeForDescribe(T4CPreparedStatement.java:863)   at oracle.jdbc.driver.OracleStatement.executeMaybeDescribe(OracleStatement.java:1153)   at oracle.jdbc.driver.OracleStatement.doExecuteWithTimeout(OracleStatement.java:1275)   at oracle.jdbc.driver.OraclePreparedStatement.executeInternal(OraclePreparedStatement.java:3576)   at oracle.jdbc.driver.OraclePreparedStatement.executeQuery(OraclePreparedStatement.java:3620)   at oracle.jdbc.driver.OraclePreparedStatementWrapper.executeQuery(OraclePreparedStatementWrapper.java:1203)   at com.mchange.v2.c3p0.impl.NewProxyPreparedStatement.executeQuery(NewProxyPreparedStatement.java:76)   at org.hibernate.jdbc.AbstractBatcher.getResultSet(AbstractBatcher.java:208)   at org.hibernate.loader.Loader.getResultSet(Loader.java:1869)   at org.hibernate.loader.Loader.doQuery(Loader.java:718)   at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:270)   at org.hibernate.loader.Loader.doList(Loader.java:2449)   ... 156 more  {noformat}",Bug,Low,Closed,"2012-11-23 08:38:33","2012-11-23 08:38:33",0.2
"Atlassian FishEye","REST API Call revisionInfo Fails For JSON","Performing a REST API call to get a file revision with {{revisionInfo}} is successful if the output is set to XML:  {noformat}  https://fisheye.inst.com/crucible/rest-service-fe/revisionData-v1/revisionInfo/FE-hg?path=buildit.xml&revision=489fa21    {noformat}  However, for JSON it [fails|^screenshot.png]:  {noformat}  https://fisheye.inst.com/crucible/rest-service-fe/revisionData-v1/revisionInfo/FE-hg.json?path=buildit.xml&revision=489fa21    {noformat}  In FishEye the following stacktrace can be seen:  {noformat}  2012-11-22 10:55:12,694 ERROR [btpool0-39 ] fisheye.app com.cenqua.fisheye.web.filters.TotalityFilter-logExceptionDetails - Exception Conflicting getter definitions for property ancestor: com.atlassian.fisheye.spi.data.FileRevisionData#getAncestor(0 params) vs com.atlassian.fisheye.spi.data.FileRevisionData#getAncestors(0 params) (org.codehaus.jackson.map.JsonMappingException) while processing /fisheye/rest/api/1.0/rest-service-fe/revisionData-v1/revisionInfo/FE-hg (Referer:null)  org.codehaus.jackson.map.JsonMappingException: Conflicting getter definitions for property ancestor: com.atlassian.fisheye.spi.data.FileRevisionData#getAncestor(0 params) vs com.atlassian.fisheye.spi.data.FileRevisionData#getAncestors(0 params)   at org.codehaus.jackson.map.ser.StdSerializerProvider._createAndCacheUntypedSerializer(StdSerializerProvider.java:740)   at org.codehaus.jackson.map.ser.StdSerializerProvider.findValueSerializer(StdSerializerProvider.java:344)   at org.codehaus.jackson.map.ser.StdSerializerProvider.findTypedValueSerializer(StdSerializerProvider.java:420)   at org.codehaus.jackson.map.ser.StdSerializerProvider._serializeValue(StdSerializerProvider.java:601)   at org.codehaus.jackson.map.ser.StdSerializerProvider.serializeValue(StdSerializerProvider.java:256)   at org.codehaus.jackson.map.ObjectMapper.writeValue(ObjectMapper.java:1604)   at org.codehaus.jackson.jaxrs.JacksonJsonProvider.writeTo(JacksonJsonProvider.java:558)   at com.sun.jersey.spi.container.ContainerResponse.write(ContainerResponse.java:306)  {noformat}  ",Bug,Medium,Closed,"2012-11-22 16:37:56","2012-11-22 16:37:56",1
"Atlassian FishEye","Fisheye not handling empty git or hg changesets properly","When trying to view an empty git changeset in Fisheye, the browser appears to be working continuously to load the content with the spinning wheel displayed.  Screenshot attached.  Logs do not report much, for example for changeset 10745accba3f0e579d6634f3b7339be66e5df920, this is logged:  {noformat}  2012-11-21 14:45:00,144 DEBUG [btpool0-19 ] fisheye ProfilingServletFilter-logRequest - start request POST /json/fe/loadChangesetPage.do?csid=10745accba3f0e579d6634f3b7339be66e5df920&href=%2Fchangelog%2Fgit%2F&pageNum=NaN sessionid=1ijgowjl8s5161do86hxzsaf5  2012-11-21 14:45:00,150 DEBUG [btpool0-19 ] com.opensymphony.webwork.interceptor.FileUploadInterceptor FileUploadInterceptor-intercept - Bypassing /fe/ loadChangesetPage  2012-11-21 14:45:00,152 DEBUG [btpool0-19 ] fisheye ProfilingServletFilter-logRequest - end request POST /json/fe/loadChangesetPage.do?csid=10745accba3f0e579d6634f3b7339be66e5df920&href=%2Fchangelog%2Fgit%2F&pageNum=NaN sessionid=1ijgowjl8s5161do86hxzsaf5  {noformat}",Bug,Low,Closed,"2012-11-21 03:50:23","2012-11-21 03:50:23",2
"Atlassian FishEye","[CVS] Allow pollPeriod to be configurable","The CVS indexing code does its own thing for update polling, and that includes configuration. There are two user-configurable settings:    1. history file location ( defaults to {{CVSROOT/history}}  2. full scan period (defaults to 15 minutes)    full scan period determines how often the entire RCS file tree is stat'ed to check for changes. Setting this to 0 disables full scans, in which case only history file checks are performed on ping.    A third, non-configurable setting is the poll period - the rate of pings. For CVS, this is currently hardwired to 5 seconds.    A customer wishes to control CVS slurp, by fully disabling interval-based ping, and calling {{fisheyectl scannow}} instead (via a commit hook). This is currently only possible via an ugly work-around.     ",Suggestion,,Closed,"2012-11-12 05:58:34","2012-11-12 05:58:34",0.5
"Atlassian FishEye","Improve the way permissions are handled, as a lot of time is spent in user/repo permission checks, which should be cached",,Bug,Medium,Closed,"2012-11-07 05:54:21","2012-11-07 05:54:21",1
"Atlassian FishEye","FishEye not fully compatible with Mercurial 2.3","Because of API changes in Mercurial 2.3 (http://www.selenic.com/repo/hg/annotate/4b73f4ba27ca/mercurial/context.py#l637) in some cases Mercurial indexing with FishEye can crash when resolving merges with deletes in the merge itself (sample repo attached)    Stacktrace is:    {code}  ** Unknown exception encountered with possibly-broken third-party extension onsub  ** which supports versions unknown of Mercurial.  ** Please disable onsub and try your action again.  ** If that fixes the bug please report it to the extension author.  ** Python 2.7.3 (default, Sep 26 2012, 21:51:14) [GCC 4.7.2]  ** Mercurial Distributed SCM (version 2.3)  ** Extensions loaded: pager, graphlog, color, extdiff, purge, transplant, rebase, mq, onsub, felog  Traceback (most recent call last):    File /home/lukpater/bin/hg/mercurial-2.3/hg, line 38, in <module>      mercurial.dispatch.run()    File /home/lukpater/bin/hg/mercurial-2.3/mercurial/dispatch.py, line 28, in run      sys.exit((dispatch(request(sys.argv[1:])) or 0) & 255)    File /home/lukpater/bin/hg/mercurial-2.3/mercurial/dispatch.py, line 65, in dispatch      return _runcatch(req)    File /home/lukpater/bin/hg/mercurial-2.3/mercurial/dispatch.py, line 88, in _runcatch      return _dispatch(req)    File /home/lukpater/bin/hg/mercurial-2.3/mercurial/dispatch.py, line 740, in _dispatch      cmdpats, cmdoptions)    File /home/lukpater/bin/hg/mercurial-2.3/mercurial/dispatch.py, line 514, in runcommand      ret = _runcommand(ui, options, cmd, d)    File /home/lukpater/bin/hg/mercurial-2.3/mercurial/extensions.py, line 189, in wrap      return wrapper(origfn, *args, **kwargs)    File /home/lukpater/bin/hg/mercurial-2.3/hgext/color.py, line 364, in colorcmd      return orig(ui_, opts, cmd, cmdfunc)    File /home/lukpater/bin/hg/mercurial-2.3/mercurial/extensions.py, line 189, in wrap      return wrapper(origfn, *args, **kwargs)    File /home/lukpater/bin/hg/mercurial-2.3/hgext/pager.py, line 130, in pagecmd      return orig(ui, options, cmd, cmdfunc)    File /home/lukpater/bin/hg/mercurial-2.3/mercurial/dispatch.py, line 830, in _runcommand      return checkargs()    File /home/lukpater/bin/hg/mercurial-2.3/mercurial/dispatch.py, line 801, in checkargs      return cmdfunc()    File /home/lukpater/bin/hg/mercurial-2.3/mercurial/dispatch.py, line 737, in <lambda>      d = lambda: util.checksignature(func)(ui, *args, **cmdoptions)    File /home/lukpater/bin/hg/mercurial-2.3/mercurial/util.py, line 472, in check      return func(*args, **kwargs)    File /home/lukpater/bin/hg/mercurial-2.3/mercurial/extensions.py, line 144, in wrap      util.checksignature(origfn), *args, **kwargs)    File /home/lukpater/bin/hg/mercurial-2.3/mercurial/util.py, line 472, in check      return func(*args, **kwargs)    File /home/lukpater/bin/hg/mercurial-2.3/hgext/mq.py, line 3528, in mqcommand      return orig(ui, repo, *args, **kwargs)    File /home/lukpater/bin/hg/mercurial-2.3/mercurial/util.py, line 472, in check      return func(*args, **kwargs)    File /home/lukpater/dos/FSH-10247/dist-2.8.2/fecru-2.8.2/python/hg/hgfelog/hgfelog.py, line 95, in felog      felognode(ui, repo, repo[r], **opts)    File /home/lukpater/dos/FSH-10247/dist-2.8.2/fecru-2.8.2/python/hg/hgfelog/hgfelog.py, line 121, in felognode      diffParent(ui, repo, ctx, commitState, f, opts.get('patch'), opts.get('converted'), opts.get('merges'), opts.get('changesets'))    File /home/lukpater/dos/FSH-10247/dist-2.8.2/fecru-2.8.2/python/hg/hgfelog/hgfelog.py, line 136, in diffParent      processPath(ui, repo, ctx, commitState, format, diffs, svnConversion, f)    File /home/lukpater/dos/FSH-10247/dist-2.8.2/fecru-2.8.2/python/hg/hgfelog/hgfelog.py, line 141, in processPath      state = pathstate(repo, ctx, commitState, svnConversion, f)    File /home/lukpater/dos/FSH-10247/dist-2.8.2/fecru-2.8.2/python/hg/hgfelog/hgfelog.py, line 274, in __init__      self._parents = getDeletedFileParents(ctx, path)    File /home/lukpater/dos/FSH-10247/dist-2.8.2/fecru-2.8.2/python/hg/hgfelog/hgfelog.py, line 265, in getDeletedFileParents      ancestor0 = parents[0].ancestor(parents[1])  TypeError: ancestor() takes exactly 3 arguments (2 given)  {code}    HTR:  1. Unzip attached repo  2. Run:  {code}  ~/bin/hg/mercurial-2.3/hg --config extensions.felog=/home/.../dist-2.8.2/fecru-2.8.2/python/hg/hgfelog/hgfelog.py --config ui.verbose=false felog default -p -m  {code}  ",Bug,Medium,Closed,"2012-11-02 10:20:02","2012-11-02 10:20:02",3
"Atlassian FishEye","Fisheye should be aware of svn keywords, specifically when anchoring patches","SVN supports a feature which allows for keywords such as $Id$ or $Rev$ to be placed in a file, which are then expanded when that file is checked out.    Fisheye is not aware of this feature - it will check and index versions of the file that have the keywords expanded.  This is a problem for SVN when creating a pre-commit review if any of the affected lines are included in the patch because Fisheye will see the original file looking something like this:    {code}  /* $Id: main.c 123456 2012-01-01 01:00:00Z <USER>$ */  {code}    But when SVN generates the diff, it doesn't expand the keyword before generating it - it will look something like this:  {code}  -/* $Id$ */  {code}    So if the line containing the ID has been modified or is near a line that has been modified, fisheye will fail to anchor the patch.    ",Bug,Low,Closed,"2012-10-19 06:17:46","2012-10-19 06:17:46",1
"Atlassian FishEye","The Compressed (zipped) Folder is invalid or corrupted error in IE8 when downloading tarball from Download Archive link","Seems to be a regression of an issue fixed in the past, see FE-727.  Same steps to reproduce:  1) Navigate to https://extranet.atlassian.com/crucible/browse/FE/trunk/test/testfiles/simple or to some directory within your repository   2) In the Tarball box, click on zip and download the zip  3) Double click on zip file and you will get the error The Compressed (zipped) Folder is invalid or corrupted    Apparently FishEye is serving zipped file which gets gzipped by Jetty filter and MSIE8 (and MSIE7 but not MSIE9) struggle to open or save this file properly. See http://support.microsoft.com/kb/2002350     This issue is fixed in recent Jetty versions: http://jira.codehaus.org/browse/JETTY-1409 .      In the meantime we can change the Content-Type header so MSIE8 would be able to cope with it.",Bug,Low,Closed,"2012-10-18 14:01:30","2012-10-18 14:01:30",1
"Atlassian FishEye","500 error received from FishEye when retrieving changesets for Source tab in JIRA","This list may be incomplete, as errors occurred whilst retrieving source from linked applications: Repository confluence on https://atlaseye.atlassian.com/ failed: Error in remote call to 'atlaseye' (https://atlaseye.atlassian.com) [AbstractRestCommand{path='/rest-service-fe/changeset-v1/listChangesets/', params={expand=changesets[-11:-1].revisions[0:9], comment=CONFDEV-10202, p4JobFixed=CONFDEV-10202, rep=confluence}, methodType=GET}] : Received status code 500 (Internal Server Error)",Bug,Low,Closed,"2012-09-03 03:35:19","2012-09-03 03:35:19",1
"Atlassian FishEye","'Download archive' (aka tarball): name of zip is truncated to 20 characters","When using 'Download archive' to create a zip (tarball), the name of the resulting zip file is truncated to 20 characters.    The name of the directory that's being zipped can contain useful information like a version.  This information is lost if the name is longer than 20 chars.  ",Suggestion,,Closed,"2012-08-10 11:59:54","2012-08-10 11:59:54",2
"Atlassian FishEye","Product update check doesn't support proxy authentication","The ProductUpdatePoller simply uses URL.openStream(), which ignores proxy parameters.    Clarification: the issue is that proxy host and port are respected, but there is no support for proxy authentication.",Bug,Low,Closed,"2012-07-30 23:39:03","2012-07-30 23:39:03",2
"Atlassian FishEye","Non-Crucible users are shown create review links","A user who is not enabled for Crucible is still shown create review and create snippet links.",Bug,Medium,Closed,"2012-07-16 01:27:35","2012-07-16 01:27:35",2
"Atlassian FishEye","Fix Activity Stream paging (possibly with Ajaxified, infinite scroll or similar)","To increase performance of Activity Streams, we no longer do 3 searches to render the page:  * one for the stream  * then another 2 to see which of the next/previous arrows need displaying.    One solution is to instead provide a More button at the bottom of each activity stream, which will simply fetch the next 25 (50?) activity items from the server, and display them all on the same page.    Things to consider:  * we could still support the existing URL parameters to maintain compatability with any existing links  * we should audit all links in fisheye to ensure there are none already pointing to a streams search which has timestamp bounds  * e.g. the View in Activity Stream link on the changeset page, will need to still work - we will possibly need a similar More ajaxified link at the top of the stream too ?",Bug,Highest,Closed,"2012-07-09 07:04:36","2012-07-09 07:04:36",5
"Atlassian FishEye","Blitz-test pages changed in admin UI due to radio button issues/changes",,Suggestion,,Closed,"2012-07-06 00:55:00","2012-07-06 00:55:00",1
"Atlassian FishEye","Polling Interval help text on screen needs to be updated","{{Administration > <REPO_NAME> > Updates > ?}} currently reads:  bq. How often FishEye will check to see if there have been any new commits into the SVN or Perforce repository. The default is 60 seconds. It is possible to set the period by units. For example: 10second, 1week. Valid units are 'second', 'minute', 'hour', 'day', 'week', 'month', 'year'. The default unit is days if only a number is added.    This text needs to include Git.",Bug,Low,Closed,"2012-07-03 20:40:20","2012-07-03 20:40:20",0.5
"Atlassian FishEye","As an administrator, I want the FishEye Console and error logs to roll over regularly, so that they are easier to open and check","If you leave the fisheye.out or fisheye-error log files unattended they can grow to be quite large (a customer reported having 158gb console log file). We should update the logging so that the files get rolled over regularly.    h2. Workaround    h3. Rotate fisheye.out file  See [Configuring+FishEye+to+rotate+the+console+log+file|https://confluence.atlassian.com/display/FISHKB/Configuring+FishEye+to+rotate+the+console+log+file] or    h3. Disable console appender in log4j config file    Edit the log4j.xml and log4j-client.xml files and remove {{<appender name=console class=org.apache.log4j.ConsoleAppender>}} sections.",Suggestion,,"Not Being Considered","2012-07-03 18:10:36","2012-07-03 18:10:36",2
"Atlassian FishEye","Create Oracle user data merge scripts","[This documentation page|https://confluence.atlassian.com/display/FISHKB/Users+appear+deleted+after+upgrading+to+FishEye+2.7.X] contains scripts for merging data for _old1 users for mysql, postgres, and sql server.  Scripts need to be written for Oracle.",Bug,Low,Closed,"2012-06-26 09:14:47","2012-06-26 09:14:47",1
"Atlassian FishEye","Investigate why we are seeing not appending because we are in a different classloader: ContextLoader@FishEye WebApp in the logs","    2012-06-20 00:22:47,928 DEBUG [FE-WatchChecker ] fisheye.app DefaultWatchManager-sendEmailForChangesets - not appending because we are in a different classloader: ContextLoader@FishEye WebApp  ",Suggestion,,Closed,"2012-06-25 09:15:56","2012-06-25 09:15:56",3
"Atlassian FishEye","Implement a REST endpoint that can return the results for all the repos at once. This will be used by the JIRA FishEye Plugin.","Currently, FeCru does not have an API that can return the results for all the repos at once. It would be nice if there was such API as the performance would be better.   Most important here is to ensure that performance and scaling is high. A testing strategy (large (1000) number of repos) is therfore required.   Must talk to Brendan about how to most efficiently build the security constraint.",Suggestion,,Closed,"2012-06-19 17:36:53","2012-06-19 17:36:53",5
"Atlassian FishEye","Extend REST API to include starting and stopping a repository and to allow for re-indexing ","It would be nice to have a REST API call to stop or start a repository.     EDIT:   And for other re-indexing functions as well, e.g.:   - Review-revision re-index ",Suggestion,,Closed,"2012-06-18 22:57:02","2012-06-18 22:57:02",5
"Atlassian FishEye","Select/deselect all users Checkbox Not Visible","When the number of FECRU users grows to more than 30 to span more than one user page ({{Administration >> User Settings >> Users}}) the checkbox to select or deselect all users is hidden by the buttons used to navigate the multiple user pages.    Chrome 19.0.1084.52  FF 10.0.2  IE 9.0.8112.16421    View Source:  <th><input type=checkbox id=userSelector title=Select/deselect all users></th>",Bug,Low,Closed,"2012-06-04 20:23:25","2012-06-04 20:23:25",2
"Atlassian FishEye","Trying to browse a file name containing a + generates an error","We have files in the format:  NSObject+JSON.m as is quite popular for Cocoa development.    Trying to select such file in fisheye generates an error. The actual content of the file is properly displayed underneath the error.",Bug,Medium,Closed,"2012-05-26 04:10:00","2012-05-26 04:10:00",3
"Atlassian FishEye","Overlapping Label Text in FishEye UI Using Internet Explorer (IE9)","Overlapping label text in FishEye UI {{Administration >> Security Settings >> Authentication >> JIRA/Crowd Authentication}} makes it almost impossible to read the page using:    Internet Explorer 9 (IE9)  Version: 9.0.8112.16421  Update: 9.0.5",Bug,Low,Closed,"2012-05-24 18:49:56","2012-05-24 18:49:56",3
"Atlassian FishEye","/listChangesets REST API returns 500 HTTP Status code when repo is not running","This affects the source tab in JIRA, when a repository is not enabled in FishEye. /rest-service-fe/changeset-v1/listChangesets/    e.g.    {code}  2012-05-14 23:24:20,410 DEBUG [btpool0-134] fisheye.perf ProfilingServletFilter-logRequest - start request GET /rest-service-fe/changeset-v1/listChangesets/?expand=changesets%5B-11%3A-1%5D.revisions%5B0%3A9%5D&comment=CWD-2502&p4JobFixed=CWD-2502&rep=crowd nosession  2012-05-14 23:24:20,429 DEBUG [btpool0-134] perf.timer Timer-output - -> CrowdAuth.recreateAuth() mem_usage = 643853728 heapsize = 1311506432 freemem = 667652704  2012-05-14 23:24:20,429 DEBUG [btpool0-134] fisheye.app CrowdAuth$3-call - Groups to Synchronize is empty. Checking if user: '<USER> can authenticate with Crowd.  2012-05-14 23:24:20,470 DEBUG [btpool0-134] fisheye.app CrowdAuth$3-call - <USER>can authenticate with Crowd? true  2012-05-14 23:24:20,490 DEBUG [btpool0-134] perf.timer Timer-output - <- CrowdAuth.recreateAuth()  time 61807 micros mem_usage = 644806360 heapsize = 1311506432 freemem = 666700072  2012-05-14 23:24:20,497 DEBUG [IncScanner] fisheye.perf RepositoryHandle-acquire - acquire engine on hops-report-api, count=1  2012-05-14 23:24:20,497 DEBUG [IncScanner] fisheye.perf RepositoryHandle-release - release engine on hops-report-api, count=0  2012-05-14 23:24:20,507 DEBUG [btpool0-134] perf.timer Timer-output - -> CrowdAuth.recreateAuth() mem_usage = 645047392 heapsize = 1311506432 freemem = 666459040  2012-05-14 23:24:20,508 DEBUG [btpool0-134] fisheye.app CrowdAuth$3-call - Groups to Synchronize is empty. Checking if user: '<USER> can authenticate with Crowd.  2012-05-14 23:24:20,537 DEBUG [btpool0-134] fisheye.app CrowdAuth$3-call - <USER>can authenticate with Crowd? true  2012-05-14 23:24:20,565 DEBUG [btpool0-134] perf.timer Timer-output - <- CrowdAuth.recreateAuth()  time 57967 micros mem_usage = 645999824 heapsize = 1311506432 freemem = 665506608  2012-05-14 23:24:20,571 DEBUG [btpool0-134] fisheye.app DefaultRecentChangesetsService-listChangesets - Repository state exception  com.cenqua.fisheye.rep.RepositoryHandle$StateException: Repository is not running   at com.cenqua.fisheye.rep.RepositoryHandle.validateRepositoryRunning(RepositoryHandle.java:426)   at com.cenqua.fisheye.rep.RepositoryHandle.acquire(RepositoryHandle.java:408)   at com.cenqua.fisheye.rep.RepositoryHandle.acquireEngine(RepositoryHandle.java:377)   at com.atlassian.fisheye.spi.services.DefaultRecentChangesetsService.listChangesets(DefaultRecentChangesetsService.java:42)   at sun.reflect.GeneratedMethodAccessor546.invoke(Unknown Source)   at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)   at java.lang.reflect.Method.invoke(Method.java:597)   at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:309)   at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:183)   at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:150)   at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:80)   at com.cenqua.crucible.hibernate.WithSessionAspect.doCloseSession(WithSessionAspect.java:37)   at sun.reflect.GeneratedMethodAccessor98.invoke(Unknown Source)   at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)   at java.lang.reflect.Method.invoke(Method.java:597)   at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:621)   at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:610)   at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:65)   at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:161)   at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:89)   at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)   at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:202)   at $Proxy70.listChangesets(Unknown Source)   at sun.reflect.GeneratedMethodAccessor546.invoke(Unknown Source)   at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)   at java.lang.reflect.Method.invoke(Method.java:597)   at com.atlassian.plugin.osgi.hostcomponents.impl.DefaultComponentRegistrar$ContextClassLoaderSettingInvocationHandler.invoke(DefaultComponentRegistrar.java:129)   at $Proxy116.listChangesets(Unknown Source)   at sun.reflect.GeneratedMethodAccessor546.invoke(Unknown Source)   at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)   at java.lang.reflect.Method.invoke(Method.java:597)   at com.atlassian.plugin.osgi.bridge.external.HostComponentFactoryBean$DynamicServiceInvocationHandler.invoke(HostComponentFactoryBean.java:154)   at $Proxy116.listChangesets(Unknown Source)   at com.atlassian.fecrurestplugin.fisheye.RestChangesetService$1.doGet(RestChangesetService.java:119)   at com.atlassian.fecrurestplugin.fisheye.RestChangesetService$1.doGet(RestChangesetService.java:114)   at com.atlassian.fecrurestplugin.util.ConditionalGetUtil.doConditionalGet(ConditionalGetUtil.java:26)   at com.atlassian.fecrurestplugin.fisheye.RestChangesetService.getChangesetsForText(RestChangesetService.java:114)   at sun.reflect.GeneratedMethodAccessor1829.invoke(Unknown Source)   at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)   at java.lang.reflect.Method.invoke(Method.java:597)   at com.atlassian.plugins.rest.common.interceptor.impl.DispatchProviderHelper$ResponseOutInvoker$1.invoke(DispatchProviderHelper.java:202)   at com.atlassian.plugins.rest.common.interceptor.impl.DispatchProviderHelper$1.intercept(DispatchProviderHelper.java:92)   at com.atlassian.plugins.rest.common.interceptor.impl.DefaultMethodInvocation.invoke(DefaultMethodInvocation.java:61)   at com.atlassian.plugins.rest.common.expand.interceptor.ExpandInterceptor.intercept(ExpandInterceptor.java:38)   at com.atlassian.plugins.rest.common.interceptor.impl.DefaultMethodInvocation.invoke(DefaultMethodInvocation.java:61)   at com.atlassian.plugins.rest.common.interceptor.impl.DispatchProviderHelper.invokeMethodWithInterceptors(DispatchProviderHelper.java:100)   at com.atlassian.plugins.rest.common.interceptor.impl.DispatchProviderHelper.access$100(DispatchProviderHelper.java:30)   at com.atlassian.plugins.rest.common.interceptor.impl.DispatchProviderHelper$ResponseOutInvoker._dispatch(DispatchProviderHelper.java:198)   at com.sun.jersey.server.impl.model.method.dispatch.ResourceJavaMethodDispatcher.dispatch(ResourceJavaMethodDispatcher.java:75)   at com.sun.jersey.server.impl.uri.rules.HttpMethodRule.accept(HttpMethodRule.java:288)   at com.sun.jersey.server.impl.uri.rules.RightHandPathRule.accept(RightHandPathRule.java:147)   at com.sun.jersey.server.impl.uri.rules.ResourceClassRule.accept(ResourceClassRule.java:108)   at com.sun.jersey.server.impl.uri.rules.RightHandPathRule.accept(RightHandPathRule.java:147)   at com.sun.jersey.server.impl.uri.rules.RootResourceClassesRule.accept(RootResourceClassesRule.java:84)   at com.sun.jersey.server.impl.application.WebApplicationImpl._handleRequest(WebApplicationImpl.java:1469)   at com.sun.jersey.server.impl.application.WebApplicationImpl._handleRequest(WebApplicationImpl.java:1400)   at com.sun.jersey.server.impl.application.WebApplicationImpl.handleRequest(WebApplicationImpl.java:1349)   at com.sun.jersey.server.impl.application.WebApplicationImpl.handleRequest(WebApplicationImpl.java:1339)   at com.sun.jersey.spi.container.servlet.WebComponent.service(WebComponent.java:416)   at com.sun.jersey.spi.container.servlet.ServletContainer.service(ServletContainer.java:537)   at com.atlassian.plugins.rest.module.RestDelegatingServletFilter$JerseyOsgiServletContainer.doFilter(RestDelegatingServletFilter.java:178)   at com.sun.jersey.spi.container.servlet.ServletContainer.doFilter(ServletContainer.java:795)   at com.atlassian.plugins.rest.module.RestDelegatingServletFilter.doFilter(RestDelegatingServletFilter.java:73)   at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:74)   at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)   at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:77)   at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:63)   at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:74)   at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)   at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:66)   at com.atlassian.plugins.rest.module.servlet.RestServletUtilsUpdaterFilter.doFilterInternal(RestServletUtilsUpdaterFilter.java:26)   at com.atlassian.plugins.rest.module.servlet.RestServletUtilsUpdaterFilter.doFilter(RestServletUtilsUpdaterFilter.java:40)   at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:74)   at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)   at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:66)   at com.atlassian.applinks.core.rest.context.ContextFilter.doFilter(ContextFilter.java:25)   at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:74)   at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)   at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:77)   at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:63)   at org.mortbay.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1264)   at com.cenqua.fisheye.web.filters.RestFilter.doFilter(RestFilter.java:36)   at com.cenqua.fisheye.web.filters.FishEyeRestFilter.doFilter(FishEyeRestFilter.java:23)   at org.mortbay.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1264)   at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:46)   at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:77)   at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:63)   at org.mortbay.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1264)   at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:83)   at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:76)   at org.mortbay.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1264)   at com.atlassian.crucible.filters.CrucibleFilter.doFilter(CrucibleFilter.java:146)   at org.mortbay.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1264)   at com.cenqua.fisheye.web.filters.TotalityFilter.doFilter(TotalityFilter.java:286)   at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:237)   at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:167)   at org.mortbay.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1264)   at com.atlassian.security.auth.trustedapps.filter.TrustedApplicationsFilter.doFilter(TrustedApplicationsFilter.java:98)   at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:237)   at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:167)   at org.mortbay.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1264)   at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:46)   at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:66)   at com.atlassian.oauth.serviceprovider.internal.servlet.OAuthFilter.doFilter(OAuthFilter.java:71)   at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:74)   at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)   at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:77)   at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:63)   at org.mortbay.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1264)   at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:46)   at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:77)   at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:63)   at org.mortbay.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1264)   at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:399)   at org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)   at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:182)   at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:766)   at org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:450)   at org.mortbay.jetty.servlet.Dispatcher.forward(Dispatcher.java:327)   at org.mortbay.jetty.servlet.Dispatcher.forward(Dispatcher.java:126)   at com.cenqua.fisheye.web.filters.TotalityFilter.doFilter(TotalityFilter.java:187)   at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:237)   at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:167)   at org.mortbay.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1264)   at com.atlassian.security.auth.trustedapps.filter.TrustedApplicationsFilter.doFilter(TrustedApplicationsFilter.java:98)   at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:237)   at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:167)   at org.mortbay.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1264)   at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:46)   at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:66)   at com.atlassian.oauth.serviceprovider.internal.servlet.OAuthFilter.doFilter(OAuthFilter.java:71)   at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:74)   at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)   at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:77)   at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:63)   at org.mortbay.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1264)   at org.mortbay.servlet.UserAgentFilter.doFilter(UserAgentFilter.java:78)   at org.mortbay.servlet.GzipFilter.doFilter(GzipFilter.java:154)   at com.cenqua.fisheye.web.filters.CustomIncludableGzipFilter.doFilter(CustomIncludableGzipFilter.java:27)   at org.mortbay.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1264)   at com.cenqua.fisheye.web.filters.ProductInfoFilter.doFilter(ProductInfoFilter.java:44)   at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:237)   at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:167)   at org.mortbay.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1264)   at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:46)   at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:77)   at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:63)   at org.mortbay.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1264)   at com.cenqua.fisheye.web.filters.UpfrontFilter.doFilter(UpfrontFilter.java:54)   at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:237)   at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:167)   at org.mortbay.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1264)   at com.atlassian.fecru.profiling.ProfilingServletFilter.doFilter(ProfilingServletFilter.java:74)   at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:237)   at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:167)   at org.mortbay.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1264)   at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:399)   at org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)   at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:182)   at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:766)   at org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:450)   at org.mortbay.jetty.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:230)   at org.mortbay.jetty.handler.HandlerCollection.handle(HandlerCollection.java:114)   at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)   at org.mortbay.jetty.Server.handle(Server.java:326)   at org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:542)   at org.mortbay.jetty.HttpConnection$RequestHandler.headerComplete(HttpConnection.java:928)   at org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:549)   at org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:212)   at org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:404)   at org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:410)   at org.mortbay.thread.BoundedThreadPool$PoolThread.run(BoundedThreadPool.java:451)  2012-05-14 23:24:20,577 DEBUG [btpool0-134] fisheye.perf ProfilingServletFilter-logRequest - end request GET /rest-service-fe/changeset-v1/listChangesets/?expand=changesets%5B-11%3A-1%5D.revisions%5B0%3A9%5D&comment=CWD-2502&p4JobFixed=CWD-2502&rep=crowd nosession    {code}",Bug,Low,Closed,"2012-05-15 05:50:04","2012-05-15 05:50:04",2
"Atlassian FishEye","Upgrade crowd client to 2.3.x. Currently fisheye ships with 2.2.5.","see: CWD-2833 .    The version of crowd client we are using has no socket timeout set.    This means that if crowd goes down, after a connection is established, fisheye/crucible could hang waiting for data.    Crowd client 2.3.x sets a socket timeout, as well as a connection timeout.",Suggestion,,Closed,"2012-05-15 03:01:12","2012-05-15 03:01:12",3
"Atlassian FishEye","Incorrect time indication on comment section when viewing revision details","1.  Timezone Europe/Brussels  (logging into FishEye, then clicking on the arrow by your name in the top right corner and selecting Settings, then validating the Timezone setting).    2. selected timezome Brussels on operational system...  it is gmt +1  and Automatically adjust clock for Daylight Saving Time check-box is selected.    3. Web server setting in FishEye is Server Timezone: Europe/Brussels    When creating a comment (please see attachment) the comment displays wrong time    But if  and Automatically adjust clock for Daylight Saving Time check-box is *unselected* and time manually adjusted to correct local time than  the problem disappears.       ",Bug,Low,Closed,"2012-05-10 12:54:45","2012-05-10 12:54:45",2
"Atlassian FishEye","IllegalArgumentException: No local entity with key 'REPONAME' and type 'class com.atlassian.applinks.application.fecru.FishEyeRepositoryEntityTypeImpl' exists","This happens when a user has permission to a project, however does not have permission to the default repository in that project.    After talking to [~<EMAIL>], this could be fixed by checking the isAuthorized() flag on the source object returned by sourceFactory.getSource in this method in UserTextRendererTag:    {code}  protected Linker getLinker() {          Source source = null;          if (!StringUtils.isEmpty(repname)) {              SourceFactory sourceFactory = SpringContext.getComponent(SourceFactory.class, sourceFactory);              EffectiveUserProvider effectiveUserProvider = SpringContext.getComponent(EffectiveUserProvider.class, effectiveUserProvider);              source = sourceFactory.getSource(repname, effectiveUserProvider.getEffectivePrincipal());          }          return getLinkerService().getLinker(source, project);      }  {code}    ie. getLinkerService().getLinker() should never be called with a source instance that the current user is not authorised to view.    Also investigate why UserTextRendererTag sets the repname when rendering a project.    Note; the check may be better placed in the linker service's getLinker() method.      Actual stack trace is:    {code}   [java] 2012-05-07 15:44:02,696 WARN  - Nested in javax.servlet.ServletException: javax.servlet.jsp.JspException: java.lang.IllegalArgumentException: No local entity with key 'FE-HG' and type 'class com.atlassian.applinks.application.fecru.FishEyeRepositoryEntityTypeImpl' exists:       [java] javax.servlet.jsp.JspException: java.lang.IllegalArgumentException: No local entity with key 'FE-HG' and type 'class com.atlassian.applinks.application.fecru.FishEyeRepositoryEntityTypeImpl' exists       [java]  at org.apache.jsp.tag.web.review.reviewResultListView_tag.doTag(org.apache.jsp.tag.web.review.reviewResultListView_tag:230)       [java]  at org.apache.jsp.tag.web.cru.reviewTable_tag._jspx_meth_rev_reviewResultListView_0(org.apache.jsp.tag.web.cru.reviewTable_tag:644)       [java]  at org.apache.jsp.tag.web.cru.reviewTable_tag._jspx_meth_c_forEach_0(org.apache.jsp.tag.web.cru.reviewTable_tag:608)       [java]  at org.apache.jsp.tag.web.cru.reviewTable_tag.doTag(org.apache.jsp.tag.web.cru.reviewTable_tag:210)       [java]  at org.apache.jsp.WEB_002dINF.jsp.crucible.home.dashboard_jsp._jspx_meth_rend_reviewTable_0(org.apache.jsp.WEB_002dINF.jsp.crucible.home.dashboard_jsp:751)       [java]  at org.apache.jsp.WEB_002dINF.jsp.crucible.home.dashboard_jsp._jspx_meth_c_otherwise_1(org.apache.jsp.WEB_002dINF.jsp.crucible.home.dashboard_jsp:718)       [java]  at org.apache.jsp.WEB_002dINF.jsp.crucible.home.dashboard_jsp._jspx_meth_c_choose_1(org.apache.jsp.WEB_002dINF.jsp.crucible.home.dashboard_jsp:658)       [java]  at org.apache.jsp.WEB_002dINF.jsp.crucible.home.dashboard_jsp.access$11(org.apache.jsp.WEB_002dINF.jsp.crucible.home.dashboard_jsp:641)       [java]  at org.apache.jsp.WEB_002dINF.jsp.crucible.home.dashboard_jsp$dashboard_jspHelper.invoke8(org.apache.jsp.WEB_002dINF.jsp.crucible.home.dashboard_jsp:974)       [java]  at org.apache.jsp.WEB_002dINF.jsp.crucible.home.dashboard_jsp$dashboard_jspHelper.invoke(org.apache.jsp.WEB_002dINF.jsp.crucible.home.dashboard_jsp:1032)       [java]  at org.apache.jsp.tag.web.cru.threePanelPageContent_tag.doTag(org.apache.jsp.tag.web.cru.threePanelPageContent_tag:689)       [java]  at org.apache.jsp.WEB_002dINF.jsp.crucible.home.dashboard_jsp._jspx_meth_rend_threePanelPageContent_0(org.apache.jsp.WEB_002dINF.jsp.crucible.home.dashboard_jsp:210)       [java]  at org.apache.jsp.WEB_002dINF.jsp.crucible.home.dashboard_jsp._jspService(org.apache.jsp.WEB_002dINF.jsp.crucible.home.dashboard_jsp:145)       [java]  at org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:109)       [java]  at javax.servlet.http.HttpServlet.service(HttpServlet.java:820)       [java]  at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:389)       [java]  at org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:486)       [java]  at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:380)       [java]  at javax.servlet.http.HttpServlet.service(HttpServlet.java:820)       [java]  at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:511)       [java]  at org.mortbay.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1272)       [java]  at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:46)       [java]  at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter$1.doFilter(DelegatingPluginFilter.java:66)       [java]  at com.atlassian.applinks.core.rest.context.ContextFilter.doFilter(ContextFilter.java:25)       [java]  at com.atlassian.plugin.servlet.filter.DelegatingPluginFilter.doFilter(DelegatingPluginFilter.java:74)       [java]  at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:42)       [java]  at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:77)       [java]  at com.atlassian.plugin.servlet.filter.ServletFilterModuleContainerFilter.doFilter(ServletFilterModuleContainerFilter.java:63)       [java]  at org.mortbay.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1264)       [java]  at com.atlassian.plugin.servlet.filter.IteratingFilterChain.doFilter(IteratingFilterChain.java:46)    {code}",Suggestion,,Closed,"2012-05-07 07:23:29","2012-05-07 07:23:29",3
"Atlassian FishEye","Review smart commit should populate Crucible Objectives","When you manually create a new review in Crucible from code already committed, it pulls in the commit message to populate the Objectives, along with the Git hash. When you use the +review smart commit tag to create a new review, it puts the commit message into the review title but not the objectives. For long commit messages, you can't see all of the text in the title. So the only way to understand the context of the commit is to open a modified file, search for the commit hash, and open that commit to see the entire message.    Rather than being able to hover over the review title to get all of the text (which I suppose would be nice too), the +review smart commit could also populate the objectives if it's a new review.",Suggestion,,Closed,"2012-05-01 16:19:23","2012-05-01 16:19:23",2.5
"Atlassian FishEye","Store Perforce Branch Details","At present we do not store the details of perforce branches, only their modification times. This means that on startup we need to do branch -o on every branch, even those which we know haven't changed, or which may not even be in the repo we are scanning.    To improve the speed of the first scan after startup, we should persist the branch details, so that only the branch update times and any changed branches need to be retrieved from the repository.    *Note well* that the first startup after upgrading to a version of FishEye/Crucible containing this bug fix will *not* be faster than previously, as the branches will still need to be loaded. Subsequent startups will be faster.",Bug,Low,Closed,"2012-04-03 01:38:30","2012-04-03 01:38:30",5
"Atlassian FishEye","Consider removing Crowd Auth and LDAP Auth from dropdown when creating users in FishEye (was: Authentication Sync (or Re-Sync) Deletes Users Created Only in FE)","Relates to:  https://support.atlassian.com/browse/FSH-8423    This issue was brought to our attention by a customer who tried to create users in FE (with Auth = Crowd) and found that after synchronization those users would disappear.  It seems like the users shouldn't have been deleted, rather that the users should have been created in Crowd.  ",Bug,Low,Closed,"2012-03-16 23:46:27","2012-03-16 23:46:27",2
"Atlassian FishEye","The Connect to JIRA step in the FishEye setup wizard fails partially due to pre-existing Crowd Application in JIRA as a crowd server","This problem occurs in Atlassian Dragons in Linux, when setting up FishEye 2.7.10 with JIRA 5.0.    The problem did not occur on Windows, when I (Sarah) tested it.    Please consult [~<USER> -- he has a Dragons environment set up and can demonstrate the problem.    The problem occurs at step 4.4 on this page:  http://confluence.atlassian.com/display/ATLAS/DRAFT08+-+Dragons+Stage+5+-+Install+FishEye+and+Crucible    (Note: The above page is a draft. It will eventually lose the word DRAFT08 in the title.)    In step 4.4, the user is running the FishEye setup wizard and is asked to Leave the other fields (the 'advanced options') at their default values and click the *Connect to JIRA* button.    *Problem:* The link to JIRA is only partially established -- users are not synchronised, and user management is therefore not possible.    See attached screenshot.      ",Suggestion,,Closed,"2012-03-08 23:51:56","2012-03-08 23:51:56",3
"Atlassian FishEye","Exception when upgrading to UPM 2.0 in Fisheye","Fix is to upgrade 2.8.0 to at least 2.2.4    Hi there!    A client reported an issue with the UPM Plugin in FishEye 2.7.10 and I was able to reproduce it.    This is the issue: https://support.atlassian.com/browse/FSH-7881    {noformat}  com.atlassian.extras.decoder.api.LicenseDecoderNotFoundException: Could not find any valid decoders in [com.atlassian.extras.decoder.v2.Version2LicenseDecoder@f3dcf0, com.atlassian.extras.decoder.v1.Version1LicenseDecoder@2e2dc6] for license string  {noformat}    Steps to reproduce:  1. Enter in Fisheye's Administration page.  2. Click on Plugins.  3. Click on Upload Plugin.  4. Choose the file (atlassian-universal-plugin-manager-plugin-2.0.jar).  5. Click on Upload.  6. Restart Fisheye.    The error start to be showed in the Plugins Page.    I attached a screenshot of it.    Thank you in advance.    Douglas Fabretti  Atlassian Support.",Bug,Medium,Closed,"2012-02-03 14:20:31","2012-02-03 14:20:31",2
"Atlassian FishEye","P4 JobIds are not being returned with the REST call to rest-service-fe/changeset-v1/listChangesets","This is needed to correlate changesets to a project for perforce projects.    * SpiRecentChangesSearcher2.transformResult needs to detect P4Changesets and get their 'fixes' by calling getFixes.  * ChangesetDataFE needs to be extended to include a List<String> of fixes.  * the field on ChangesetDataFE must be populated during transformResult    This change is needed to support p4 jobIds in version 3.4.7, 3.4.8 of the JIRA FishEye Plugin.      The FishEye Plugin also needs to consume this job data on the JIRA end.  See also: https://studio.plugins.atlassian.com/browse/FISH-554",Bug,Medium,Closed,"2012-01-17 06:18:59","2012-01-17 06:18:59",3
"Atlassian FishEye","Removed license gets replaced by Disabled, preventing Update","Start with a FeCru installation with both license filled in.  Then remove e.g. the Crucible license and Update.  Go to the license screen again, the Crucible license is now replaced by the text Disabled.  Now when you try to Update you get the error The Crucible license key you have entered is invalid..  ",Bug,Low,Closed,"2011-12-29 16:08:05","2011-12-29 16:08:05",3
"Atlassian FishEye","Need to support SVN 1.7 with Native Client via JavaHL","Hi    This is Luke from Korean partner, Goldpitcher.  We are reported with SVN 1.7 support issue from customer.    We already know that Fisheye 2.7.x does not support 1.7 until now.  But unfortunately, we found that neither for native svn client via javahl.    We recognized javahl 1.7 is much different from 1.6.x. For example, classpath was changed from org.tigris.subversion.javahl to org.apache.subverion.javahl in 1.7.1 javahl and SVNClientInterface class is not in 1.7.1 javahl.    We hope it is supported soon.    Cheers,  Luke    The native svn JavaHL 1.7 client fails with the following error:    {code}  [java] 2012-11-30 14:00:54,809 ERROR - Unable to initialise repository checkstyle due to com.cenqua.fisheye.config.ConfigException:Could not access svn://localhost/ : java.lang.NullPointerException       [java] com.cenqua.fisheye.config.ConfigException: Could not access svn://localhost/ : java.lang.NullPointerException       [java]  at com.cenqua.fisheye.svn.SvnRepositoryTester.pingAndValidateAccess(SvnRepositoryTester.java:156)       [java]  at com.cenqua.fisheye.svn.SvnRepositoryScanner.validateAccess(SvnRepositoryScanner.java:353)       [java]  at com.cenqua.fisheye.svn.SvnRepositoryScanner.validateRepository(SvnRepositoryScanner.java:265)       [java]  at com.cenqua.fisheye.rep.BaseRepositoryScanner.startRepository(BaseRepositoryScanner.java:430)       [java]  at com.cenqua.fisheye.rep.BaseRepositoryScanner.doSlurpTransaction(BaseRepositoryScanner.java:217)       [java]  at com.cenqua.fisheye.rep.BaseRepositoryScanner.ping(BaseRepositoryScanner.java:184)       [java]  at com.cenqua.fisheye.rep.BaseRepositoryEngine.doSlurp(BaseRepositoryEngine.java:92)       [java]  at com.cenqua.fisheye.rep.RepositoryEngine.slurp(RepositoryEngine.java:383)       [java]  at com.cenqua.fisheye.rep.ping.OneOffPingRequest.doRequest(OneOffPingRequest.java:28)       [java]  at com.cenqua.fisheye.rep.ping.PingRequest.process(PingRequest.java:67)       [java]  at com.cenqua.fisheye.rep.RepositoryHandle.processPingRequests(RepositoryHandle.java:138)       [java]  at com.cenqua.fisheye.rep.RepositoryHandle.queuePingRequest(RepositoryHandle.java:128)       [java]  at com.cenqua.fisheye.rep.ping.PingRequest.run(PingRequest.java:33)       [java]  at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)       [java]  at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)       [java]  at java.lang.Thread.run(Thread.java:680)       [java] Caused by: com.cenqua.fisheye.rep.RepositoryClientException: java.lang.NullPointerException       [java]  at com.cenqua.fisheye.svn.SvnThrottledClient.executeNoThrottle(SvnThrottledClient.java:116)       [java]  at com.cenqua.fisheye.svn.SvnThrottledClient.execute(SvnThrottledClient.java:95)       [java]  at com.cenqua.fisheye.svn.SvnThrottledClient.propertyGet(SvnThrottledClient.java:157)       [java]  at com.cenqua.fisheye.svn.SvnRepositoryTester.pingAndValidateAccess(SvnRepositoryTester.java:144)       [java]  ... 15 more       [java] Caused by: java.lang.NullPointerException       [java]  at java.lang.String.<init>(String.java:593)       [java]  at org.tigris.subversion.javahl.SVNClient.propertyGet(SVNClient.java:2113)       [java]  at com.cenqua.fisheye.svn.SvnThrottledClient$5.call(SvnThrottledClient.java:161)       [java]  at com.cenqua.fisheye.svn.SvnThrottledClient$5.call(SvnThrottledClient.java:158)       [java]  at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)       [java]  at java.util.concurrent.FutureTask.run(FutureTask.java:138)       [java]  at com.cenqua.fisheye.svn.SvnTask.run(SvnTask.java:28)       [java]  ... 3 more  {code}    To work-around this for now:    * use the SVNKit Java SVN implementation (on by default in FishEye)  * if you must use a native implementation (really need to understand exactly why you would) then use the JavaHL 1.6 version  * it is not possible currently to use a native svn 1.7 client library in FishEye",Suggestion,,Closed,"2011-11-21 07:12:31","2011-11-21 07:12:31",5
"Atlassian FishEye","FishEye does not index git tags that are not referenced by a branch","In git it is possible to tag a commit that is on a branch, but then move or delete the branch head so that no branch references a descendent of the tag.    This can also happen as a result of converting from SVN when the svn repository has complex tags (see http://svnbook.red-bean.com/en/1.6/svn.branchmerge.tags.html#svn.branchmerge.tags.mkcomplex) or tags that are modified.",Bug,Low,Closed,"2011-11-08 03:42:49","2011-11-08 03:42:49",5
"Atlassian FishEye","  Enable X-FRAME-Option in HTTP response headers in order to improve clickjacking protection","Description: Current HTTP headers do not contain the X-FRAME-Option, which helps prevents against Clickjacking attacks. A Clickjacking attack is similar to CSRF in which attacker can hijack a click on a web application from another invisible frame in the browser. Essentially, an attacker can force a user to click on a button that is invisible to him/her.    Exploit Scenario: An attacker crafts a malicious page such that when their victim clicks, they are actually clicking on the link or button in the vulnerable application hosted in an iframe. Thus, an attacker tricks the user into performing an action of the attacker's choosing by directing mouse input to the target application.    Short Term Solution: There are 2 options in the HTTP response header for projection, include:    DENY: If the header contains the DENY option, then the response will not be loaded within a frame.  SAMEORIGIN: If the header contains the SAMEORIGIN option, the response will be loaded within a frame only if the parent page is from the same origin.    Examples below:    Apache:  Add this to your httpd.conf:  Header always append x-frame-options SAMEORIGIN    Note that this is not a panacea for clickjacking.    SAMEORIGIN should be safe to use. See also [JST-5291|https://studio.atlassian.com/browse/JST-5291?focusedCommentId=47107&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-47107]  ",Suggestion,,Closed,"2011-07-22 05:49:19","2011-07-22 05:49:19",2
"Atlassian FishEye","Diffing large files can cause an OutOfMemoryError","The JIRA Studio support team has seen this on some instances. According to [~<EMAIL>], It is fairly common for FishEye to chain OOME while indexing files. There is a hardcoded 5mb file limit but it doesn't seem to kick in prior/during svn diffs and instead tries to process the svn diff and dies.",Bug,High,Closed,"2011-06-23 03:24:08","2011-06-23 03:24:08",2
"Atlassian FishEye","Patch anchoring: Warning about version/date yet unscanned","From Epic FECRU-167: Anchoring #1:  * For SVN and date based versions, if the repo hasn't scanned to that rev/date, Tell the user we may not have seen their version and it may be incorrect (patch warning message)",Bug,Low,Closed,"2011-04-12 03:14:16","2011-04-12 03:14:16",1
"Atlassian FishEye","Git repository indexing slowly","In a huge Git repository with more than 1100 tags and 1100 branches, the indexing is very slow and there's not much we can do to improve it.  We tried to follow this document as much as we can: http://confluence.atlassian.com/display/FISHEYE/Tuning+FishEye  * Increased memory heap to {{-Xmx2048m}}, without success; * We're using ssh:// protocol. * We can't exclude paths on Git repositories. * We tried to use the flag {{\-\-Xdisable-head-detection}} so it will not determine branch heads in DVCS.   We also tried to use the flag {{\-\-Xdisable-tags}} so it will not record tags on commits in DVCS.   These flags would make no Git tag information available in FE.    These flags helped a little: from 30 mins dealy to 7 or 12 mins after using the startup params, but still not there yet. * We tried increasing the polling interval, but it didn't help.  The development team suggested to open this improvement request, as we cannot do much here at the moment beyond what has already been tried and suggested.  This is a core git indexing issue in Fisheye which will need more investigation.",Suggestion,,Closed,"2011-05-25 15:29:39","2011-05-25 15:29:39",0
"Atlassian FishEye","Changeset navigation: next->last does not return to start","MichaelH: BUG: on the changeset page, browsing to the next changeset and then to the prevous does not return to the original changeset. E.g. https://extranet.atlassian.com/crucible/changelog/FE-hg/?cs=//FE-hg/99aa2310c7cee3dd0e676a0b63e4dbccfc90759b, previous, followed by next ends up on https://extranet.atlassian.com/crucible/changelog/FE-hg/?cs=//FE-hg/d697414ef0e16a1b85c76401e88fc6ef132b3750    _EDIT_:  Adding an example from my local repository in case it helps debugging:    repo graph: !http://content.screencast.com/users/AdamAtlassian/folders/Jing/media/9a783be9-22a3-4a5a-a5ac-e70ef7490054/2010-10-18_1421.png!    There are No later changesets for the first four changesets.  Now we are one is the first to have a later changeset.  video of problem: http://screencast.com/t/2n7Sel4mkW",Bug,Low,Closed,"2010-09-22 07:06:11","2010-09-22 07:06:11",1
"Atlassian FishEye","Document advanced Crowd client elements in Security Admin","Fisheye/Crucible does provide a handy web interface that allows you to easily integrate it with a Crowd server.  This is really handy but it only provides access to the basic Crowd properties:  * Application Name * Password * URL  In other applications you have access to the {{crowd.properties}} file, which provides more advanced fine-tuning of the Crowd integration (in particular {{session.validationinterval}}).  We should provide a mechanism via the Crowd integration UI in Fisheye/Crucible to set these parameters.",Suggestion,,Closed,"2010-10-05 18:20:29","2010-10-05 18:20:29",1
"Atlassian FishEye","When you rename a user you lose the user history in the activity stream","As per description, when a user is renamed, they will lose all the historical in the activity streams.   This did not happen in 2.1.x.  ",Bug,Medium,Closed,"2010-04-23 00:08:07","2010-04-23 00:08:07",2
"Atlassian FishEye","when showing a deleted image in a changeset diff, the old version / new version is kinda broken","!http://img.skitch.com/20090727-8utrw7f72kdwxk32d5pb289aqx.jpg!    should probably not show the green added side of the diff. Just show the old version.",Bug,Medium,Closed,"2009-07-27 06:43:47","2009-07-27 06:43:47",1
"Atlassian FishEye","Restructure FishEye so that svn operations do not occur on the main thread","If we try to cancel an svn operation and the svn server fails to respond, the index thread can get locked up.     An option we have would be to restructure FishEye slightly so that svn operations do not occur on the main thread but an ancilary thread so we can regain control of the main thread if need be.    Workarounds are listed in this [knowledge base article|http://confluence.atlassian.com/display/FISHKB/Getting+repeated+Interrupting+SVN+operation+thread+due+to+non-response+WARNs+in+logs+until+restart]. ",Suggestion,,Closed,"2009-01-21 00:08:44","2009-01-21 00:08:44",1
"Atlassian FishEye","FE requests 'all user names', which will fail for AD having a default cap of 1000 users maximum","Whilst modifying LDAP Authentication Settings, I updated a field and saved.  It tried to read all users which resulted in a stack.  The ldap auth settings code that does user retrievals should batch user retrieval (start with a* b*, if the error recurrs go to aa* ab* etc)    {quote}  WARN  - LDAP: could not list users using sAMAccountName=* on dc=dolby,dc=net (authenticated)  javax.naming.SizeLimitExceededException: [LDAP: error code 4 - Sizelimit Exceeded]; remaining name 'dc=dolby,dc=net'   at com.sun.jndi.ldap.LdapCtx.mapErrorCode(LdapCtx.java:3057)   at com.sun.jndi.ldap.LdapCtx.processReturnCode(LdapCtx.java:2951)   at com.sun.jndi.ldap.LdapCtx.processReturnCode(LdapCtx.java:2758)   at com.sun.jndi.ldap.LdapNamingEnumeration.getNextBatch(LdapNamingEnumeration.java:129)   at com.sun.jndi.ldap.LdapNamingEnumeration.hasMoreImpl(LdapNamingEnumeration.java:198)   at com.sun.jndi.ldap.LdapNamingEnumeration.hasMore(LdapNamingEnumeration.java:171)   at com.cenqua.fisheye.user.ldap.LDAPAuth.getAllUserNames(LDAPAuth.java:335)   at com.cenqua.fisheye.user.UserManager.resyncAuth(UserManager.java:455)   at com.cenqua.fisheye.user.AuthSynchroniser$1.run(AuthSynchroniser.java:44)   at java.util.TimerThread.mainLoop(Timer.java:512)   at java.util.TimerThread.run(Timer.java:462)  {quote}    *Workarounds*  # Raise the result size limit on the AD server itself.  # Consider using Atlassian's user management tool, [Crowd|http://www.atlassian.com/software/crowd/overview] or, if you use JIRA connected to LDAP, consider using JIRA for User Management.",Bug,Medium,Closed,"2008-09-19 13:57:38","2008-09-19 13:57:38",0.5
"Atlassian FishEye","Allow the poll period for a repository to have a configurable global default","Ensure all repo settings have a configurable global default (where possible). An example that would really help me on FAC is a global updater default, so I could set it to 0 for cvs repos and 10min for svn repos etc.",Suggestion,,Closed,"2008-05-27 02:29:11","2008-05-27 02:29:11",5
